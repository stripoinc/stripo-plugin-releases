(function(V){function q(G){for(var B,Q,it=G[0],Y=G[1],tt=G[2],nt=0,Z=[];nt<it.length;nt++)k[Q=it[nt]]&&Z.push(k[Q][0]),k[Q]=0;for(B in Y)Object.prototype.hasOwnProperty.call(Y,B)&&(V[B]=Y[B]);for(N&&N(G);Z.length;)Z.shift()();return j.push.apply(j,tt||[]),y()}function y(){for(var G,B=0;B<j.length;B++){for(var Q=j[B],it=!0,Y=1;Y<Q.length;Y++)k[Q[Y]]!==0&&(it=!1);it&&(j.splice(B--,1),G=A(A.s=Q[0]))}return G}var O={},k={0:0},j=[];function A(G){if(O[G])return O[G].exports;var B=O[G]={i:G,l:!1,exports:{}};return V[G].call(B.exports,B,B.exports,A),B.l=!0,B.exports}A.m=V,A.c=O,A.d=function(G,B,Q){A.o(G,B)||Object.defineProperty(G,B,{enumerable:!0,get:Q})},A.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},A.t=function(G,B){if(1&B&&(G=A(G)),8&B||4&B&&typeof G=="object"&&G&&G.__esModule)return G;var Q=Object.create(null);if(A.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:G}),2&B&&typeof G!="string")for(var it in G)A.d(Q,it,(function(Y){return G[Y]}).bind(null,it));return Q},A.n=function(G){var B=G&&G.__esModule?function(){return G.default}:function(){return G};return A.d(B,"a",B),B},A.o=function(G,B){return Object.prototype.hasOwnProperty.call(G,B)},A.p="assets/";var E=window.editorPixieWebpackJsonp=window.editorPixieWebpackJsonp||[],X=E.push.bind(E);E.push=q,E=E.slice();for(var z=0;z<E.length;z++)q(E[z]);var N=X;y()})([]),(window.editorPixieWebpackJsonp=window.editorPixieWebpackJsonp||[]).push([[2],{"+auO":function(V,q,y){var O=y("XKFU"),k=y("lvtm");O(O.S,"Math",{cbrt:function(j){return k(j=+j)*Math.pow(Math.abs(j),1/3)}})},"+oPb":function(V,q,y){"use strict";y("OGtf")("blink",function(O){return function(){return O(this,"blink","","")}})},"+rLv":function(V,q,y){var O=y("dyZX").document;V.exports=O&&O.documentElement},"/KAi":function(V,q,y){var O=y("XKFU"),k=y("dyZX").isFinite;O(O.S,"Number",{isFinite:function(j){return typeof j=="number"&&k(j)}})},"/SS/":function(V,q,y){var O=y("XKFU");O(O.S,"Object",{setPrototypeOf:y("i5dc").set})},"/e88":function(V,q){V.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"0/R4":function(V,q){V.exports=function(y){return typeof y=="object"?y!==null:typeof y=="function"}},"0E+W":function(V,q,y){y("elZq")("Array")},"0LDn":function(V,q,y){"use strict";y("OGtf")("italics",function(O){return function(){return O(this,"i","","")}})},"0l/t":function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(2);O(O.P+O.F*!y("LyE8")([].filter,!0),"Array",{filter:function(j){return k(this,j,arguments[1])}})},"0mN4":function(V,q,y){"use strict";y("OGtf")("fixed",function(O){return function(){return O(this,"tt","","")}})},"0sh+":function(V,q,y){var O=y("quPj"),k=y("vhPU");V.exports=function(j,A,E){if(O(A))throw TypeError("String#"+E+" doesn't accept regex!");return String(k(j))}},"11IZ":function(V,q,y){var O=y("dyZX").parseFloat,k=y("qncB").trim;V.exports=1/O(y("/e88")+"-0")!=-1/0?function(j){var A=k(String(j),3),E=O(A);return E===0&&A.charAt(0)=="-"?-0:E}:O},"1MBn":function(V,q,y){var O=y("DVgA"),k=y("JiEa"),j=y("UqcF");V.exports=function(A){var E=O(A),X=k.f;if(X)for(var z,N=X(A),G=j.f,B=0;N.length>B;)G.call(A,z=N[B++])&&E.push(z);return E}},"1TsA":function(V,q){V.exports=function(y,O){return{value:O,done:!!y}}},"1sa7":function(V,q){V.exports=Math.log1p||function(y){return(y=+y)>-1e-8&&y<1e-8?y-y*y/2:Math.log(1+y)}},"25dN":function(V,q,y){var O=y("XKFU");O(O.S,"Object",{is:y("g6HL")})},"2OiF":function(V,q){V.exports=function(y){if(typeof y!="function")throw TypeError(y+" is not a function!");return y}},"2Spj":function(V,q,y){var O=y("XKFU");O(O.P,"Function",{bind:y("8MEG")})},"2atp":function(V,q,y){var O=y("XKFU"),k=Math.atanh;O(O.S+O.F*!(k&&1/k(-0)<0),"Math",{atanh:function(j){return(j=+j)==0?j:Math.log((1+j)/(1-j))/2}})},"3Lyj":function(V,q,y){var O=y("KroJ");V.exports=function(k,j,A){for(var E in j)O(k,E,j[E],A);return k}},"4A4+":function(V,q,y){y("2Spj"),y("f3/d"),y("IXt9"),V.exports=y("g3g5").Function},"4LiD":function(V,q,y){"use strict";var O=y("dyZX"),k=y("XKFU"),j=y("KroJ"),A=y("3Lyj"),E=y("Z6vF"),X=y("SlkY"),z=y("9gX7"),N=y("0/R4"),G=y("eeVq"),B=y("XMVh"),Q=y("fyDq"),it=y("Xbzi");V.exports=function(Y,tt,nt,Z,ot,et){var ft=O[Y],$=ft,C=ot?"set":"add",mt=$&&$.prototype,kt={},p=function(m){var v=mt[m];j(mt,m,m=="delete"?function(g){return!(et&&!N(g))&&v.call(this,g===0?0:g)}:m=="has"?function(g){return!(et&&!N(g))&&v.call(this,g===0?0:g)}:m=="get"?function(g){return et&&!N(g)?void 0:v.call(this,g===0?0:g)}:m=="add"?function(g){return v.call(this,g===0?0:g),this}:function(g,b){return v.call(this,g===0?0:g,b),this})};if(typeof $=="function"&&(et||mt.forEach&&!G(function(){new $().entries().next()}))){var u=new $,h=u[C](et?{}:-0,1)!=u,l=G(function(){u.has(1)}),a=B(function(m){new $(m)}),c=!et&&G(function(){for(var m=new $,v=5;v--;)m[C](v,v);return!m.has(-0)});a||(($=tt(function(m,v){z(m,$,Y);var g=it(new ft,m,$);return v!=null&&X(v,ot,g[C],g),g})).prototype=mt,mt.constructor=$),(l||c)&&(p("delete"),p("has"),ot&&p("get")),(c||h)&&p(C),et&&mt.clear&&delete mt.clear}else $=Z.getConstructor(tt,Y,ot,C),A($.prototype,nt),E.NEED=!0;return Q($,Y),kt[Y]=$,k(k.G+k.W+k.F*($!=ft),kt),et||Z.setStrong($,Y,ot),$}},"4R4u":function(V,q){V.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5:function(V,q,y){V.exports=y("hN/g")},"5Pf0":function(V,q,y){var O=y("S/j/"),k=y("OP3Y");y("Xtr8")("getPrototypeOf",function(){return function(j){return k(O(j))}})},"69bn":function(V,q,y){var O=y("y3w9"),k=y("2OiF"),j=y("K0xU")("species");V.exports=function(A,E){var X,z=O(A).constructor;return z===void 0||(X=O(z)[j])==null?E:k(X)}},"6AQ9":function(V,q,y){"use strict";var O=y("XKFU"),k=y("8a7r");O(O.S+O.F*y("eeVq")(function(){function j(){}return!(Array.of.call(j)instanceof j)}),"Array",{of:function(){for(var j=0,A=arguments.length,E=new(typeof this=="function"?this:Array)(A);A>j;)k(E,j,arguments[j++]);return E.length=A,E}})},"6FMO":function(V,q,y){var O=y("0/R4"),k=y("EWmC"),j=y("K0xU")("species");V.exports=function(A){var E;return k(A)&&(typeof(E=A.constructor)!="function"||E!==Array&&!k(E.prototype)||(E=void 0),O(E)&&(E=E[j])===null&&(E=void 0)),E===void 0?Array:E}},"7h0T":function(V,q,y){var O=y("XKFU");O(O.S,"Number",{isNaN:function(k){return k!=k}})},"8+KV":function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(0),j=y("LyE8")([].forEach,!0);O(O.P+O.F*!j,"Array",{forEach:function(A){return k(this,A,arguments[1])}})},"84bF":function(V,q,y){"use strict";y("OGtf")("small",function(O){return function(){return O(this,"small","","")}})},"8MEG":function(V,q,y){"use strict";var O=y("2OiF"),k=y("0/R4"),j=y("MfQN"),A=[].slice,E={};V.exports=Function.bind||function(X){var z=O(this),N=A.call(arguments,1),G=function(){var B=N.concat(A.call(arguments));return this instanceof G?function(Q,it,Y){if(!(it in E)){for(var tt=[],nt=0;nt<it;nt++)tt[nt]="a["+nt+"]";E[it]=Function("F,a","return new F("+tt.join(",")+")")}return E[it](Q,Y)}(z,B.length,B):j(z,B,X)};return k(z.prototype)&&(G.prototype=z.prototype),G}},"8a7r":function(V,q,y){"use strict";var O=y("hswa"),k=y("RjD/");V.exports=function(j,A,E){A in j?O.f(j,A,k(0,E)):j[A]=E}},"91GP":function(V,q,y){var O=y("XKFU");O(O.S+O.F,"Object",{assign:y("czNK")})},"99sg":function(V,q,y){y("ioFf"),y("hHhE"),y("HAE/"),y("WLL4"),y("mYba"),y("5Pf0"),y("RW0V"),y("JduL"),y("DW2E"),y("z2o2"),y("mura"),y("Zshi"),y("V/DX"),y("FlsD"),y("91GP"),y("25dN"),y("/SS/"),y("Btvt"),V.exports=y("g3g5").Object},"9AAn":function(V,q,y){"use strict";var O=y("wmvG"),k=y("s5qY");V.exports=y("4LiD")("Map",function(j){return function(){return j(this,arguments.length>0?arguments[0]:void 0)}},{get:function(j){var A=O.getEntry(k(this,"Map"),j);return A&&A.v},set:function(j,A){return O.def(k(this,"Map"),j===0?0:j,A)}},O,!0)},"9P93":function(V,q,y){var O=y("XKFU"),k=Math.imul;O(O.S+O.F*y("eeVq")(function(){return k(4294967295,5)!=-5||k.length!=2}),"Math",{imul:function(j,A){var E=+j,X=+A,z=65535&E,N=65535&X;return 0|z*N+((65535&E>>>16)*N+z*(65535&X>>>16)<<16>>>0)}})},"9VmF":function(V,q,y){"use strict";var O=y("XKFU"),k=y("ne8i"),j=y("0sh+"),A="".startsWith;O(O.P+O.F*y("UUeW")("startsWith"),"String",{startsWith:function(E){var X=j(this,E,"startsWith"),z=k(Math.min(arguments.length>1?arguments[1]:void 0,X.length)),N=String(E);return A?A.call(X,N,z):X.slice(z,z+N.length)===N}})},"9gX7":function(V,q){V.exports=function(y,O,k,j){if(!(y instanceof O)||j!==void 0&&j in y)throw TypeError(k+": incorrect invocation!");return y}},A2zW:function(V,q,y){"use strict";var O=y("XKFU"),k=y("RYi7"),j=y("vvmO"),A=y("l0Rn"),E=1 .toFixed,X=Math.floor,z=[0,0,0,0,0,0],N="Number.toFixed: incorrect invocation!",G=function(Y,tt){for(var nt=-1,Z=tt;++nt<6;)z[nt]=(Z+=Y*z[nt])%1e7,Z=X(Z/1e7)},B=function(Y){for(var tt=6,nt=0;--tt>=0;)z[tt]=X((nt+=z[tt])/Y),nt=nt%Y*1e7},Q=function(){for(var Y=6,tt="";--Y>=0;)if(tt!==""||Y===0||z[Y]!==0){var nt=String(z[Y]);tt=tt===""?nt:tt+A.call("0",7-nt.length)+nt}return tt},it=function(Y,tt,nt){return tt===0?nt:tt%2==1?it(Y,tt-1,nt*Y):it(Y*Y,tt/2,nt)};O(O.P+O.F*(!!E&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y("eeVq")(function(){E.call({})})),"Number",{toFixed:function(Y){var tt,nt,Z,ot,et=j(this,N),ft=k(Y),$="",C="0";if(ft<0||ft>20)throw RangeError(N);if(et!=et)return"NaN";if(et<=-1e21||et>=1e21)return String(et);if(et<0&&($="-",et=-et),et>1e-21)if(nt=(tt=function(mt){for(var kt=0,p=mt;p>=4096;)kt+=12,p/=4096;for(;p>=2;)kt+=1,p/=2;return kt}(et*it(2,69,1))-69)<0?et*it(2,-tt,1):et/it(2,tt,1),nt*=4503599627370496,(tt=52-tt)>0){for(G(0,nt),Z=ft;Z>=7;)G(1e7,0),Z-=7;for(G(it(10,Z,1),0),Z=tt-1;Z>=23;)B(1<<23),Z-=23;B(1<<Z),G(1,1),B(2),C=Q()}else G(0,nt),G(1<<-tt,0),C=Q()+A.call("0",ft);return ft>0?$+((ot=C.length)<=ft?"0."+A.call("0",ft-ot)+C:C.slice(0,ot-ft)+"."+C.slice(ot-ft)):$+C}})},A5AN:function(V,q,y){"use strict";var O=y("AvRE")(!0);V.exports=function(k,j,A){return j+(A?O(k,j).length:1)}},Afnz:function(V,q,y){"use strict";var O=y("LQAc"),k=y("XKFU"),j=y("KroJ"),A=y("Mukb"),E=y("hPIQ"),X=y("QaDb"),z=y("fyDq"),N=y("OP3Y"),G=y("K0xU")("iterator"),B=!([].keys&&"next"in[].keys()),Q=function(){return this};V.exports=function(it,Y,tt,nt,Z,ot,et){X(tt,Y,nt);var ft,$,C,mt=function(v){if(!B&&v in h)return h[v];switch(v){case"keys":case"values":return function(){return new tt(this,v)}}return function(){return new tt(this,v)}},kt=Y+" Iterator",p=Z=="values",u=!1,h=it.prototype,l=h[G]||h["@@iterator"]||Z&&h[Z],a=l||mt(Z),c=Z?p?mt("entries"):a:void 0,m=Y=="Array"&&h.entries||l;if(m&&(C=N(m.call(new it)))!==Object.prototype&&C.next&&(z(C,kt,!0),O||typeof C[G]=="function"||A(C,G,Q)),p&&l&&l.name!=="values"&&(u=!0,a=function(){return l.call(this)}),O&&!et||!B&&!u&&h[G]||A(h,G,a),E[Y]=a,E[kt]=Q,Z)if(ft={values:p?a:mt("values"),keys:ot?a:mt("keys"),entries:c},et)for($ in ft)$ in h||j(h,$,ft[$]);else k(k.P+k.F*(B||u),Y,ft);return ft}},AphP:function(V,q,y){"use strict";var O=y("XKFU"),k=y("S/j/"),j=y("apmT");O(O.P+O.F*y("eeVq")(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(A){var E=k(this),X=j(E);return typeof X!="number"||isFinite(X)?E.toISOString():null}})},AvRE:function(V,q,y){var O=y("RYi7"),k=y("vhPU");V.exports=function(j){return function(A,E){var X,z,N=String(k(A)),G=O(E),B=N.length;return G<0||G>=B?j?"":void 0:(X=N.charCodeAt(G))<55296||X>56319||G+1===B||(z=N.charCodeAt(G+1))<56320||z>57343?j?N.charAt(G):X:j?N.slice(G,G+2):z-56320+(X-55296<<10)+65536}}},BC7C:function(V,q,y){var O=y("XKFU");O(O.S,"Math",{fround:y("kcoS")})},"BJ/l":function(V,q,y){var O=y("XKFU");O(O.S,"Math",{log1p:y("1sa7")})},BP8U:function(V,q,y){var O=y("XKFU"),k=y("PKUr");O(O.S+O.F*(Number.parseInt!=k),"Number",{parseInt:k})},Btvt:function(V,q,y){"use strict";var O=y("I8a+"),k={};k[y("K0xU")("toStringTag")]="z",k+""!="[object z]"&&y("KroJ")(Object.prototype,"toString",function(){return"[object "+O(this)+"]"},!0)},"C/va":function(V,q,y){"use strict";var O=y("y3w9");V.exports=function(){var k=O(this),j="";return k.global&&(j+="g"),k.ignoreCase&&(j+="i"),k.multiline&&(j+="m"),k.unicode&&(j+="u"),k.sticky&&(j+="y"),j}},CkkT:function(V,q,y){var O=y("m0Pp"),k=y("Ymqv"),j=y("S/j/"),A=y("ne8i"),E=y("zRwo");V.exports=function(X,z){var N=X==1,G=X==2,B=X==3,Q=X==4,it=X==6,Y=X==5||it,tt=z||E;return function(nt,Z,ot){for(var et,ft,$=j(nt),C=k($),mt=O(Z,ot,3),kt=A(C.length),p=0,u=N?tt(nt,kt):G?tt(nt,0):void 0;kt>p;p++)if((Y||p in C)&&(ft=mt(et=C[p],p,$),X)){if(N)u[p]=ft;else if(ft)switch(X){case 3:return!0;case 5:return et;case 6:return p;case 2:u.push(et)}else if(Q)return!1}return it?-1:B||Q?Q:u}}},CuTL:function(V,q,y){y("fyVe"),y("U2t9"),y("2atp"),y("+auO"),y("MtdB"),y("Jcmo"),y("nzyx"),y("BC7C"),y("x8ZO"),y("9P93"),y("eHKK"),y("BJ/l"),y("pp/T"),y("CyHz"),y("bBoP"),y("x8Yj"),y("hLT2"),V.exports=y("g3g5").Math},CyHz:function(V,q,y){var O=y("XKFU");O(O.S,"Math",{sign:y("lvtm")})},DNiP:function(V,q,y){"use strict";var O=y("XKFU"),k=y("eyMr");O(O.P+O.F*!y("LyE8")([].reduce,!0),"Array",{reduce:function(j){return k(this,j,arguments.length,arguments[1],!1)}})},DVgA:function(V,q,y){var O=y("zhAb"),k=y("4R4u");V.exports=Object.keys||function(j){return O(j,k)}},DW2E:function(V,q,y){var O=y("0/R4"),k=y("Z6vF").onFreeze;y("Xtr8")("freeze",function(j){return function(A){return j&&O(A)?j(k(A)):A}})},EK0E:function(V,q,y){"use strict";var O,k=y("CkkT")(0),j=y("KroJ"),A=y("Z6vF"),E=y("czNK"),X=y("ZD67"),z=y("0/R4"),N=y("eeVq"),G=y("s5qY"),B=A.getWeak,Q=Object.isExtensible,it=X.ufstore,Y={},tt=function(ot){return function(){return ot(this,arguments.length>0?arguments[0]:void 0)}},nt={get:function(ot){if(z(ot)){var et=B(ot);return et===!0?it(G(this,"WeakMap")).get(ot):et?et[this._i]:void 0}},set:function(ot,et){return X.def(G(this,"WeakMap"),ot,et)}},Z=V.exports=y("4LiD")("WeakMap",tt,nt,X,!0,!0);N(function(){return new Z().set((Object.freeze||Object)(Y),7).get(Y)!=7})&&(E((O=X.getConstructor(tt,"WeakMap")).prototype,nt),A.NEED=!0,k(["delete","has","get","set"],function(ot){var et=Z.prototype,ft=et[ot];j(et,ot,function($,C){if(z($)&&!Q($)){this._f||(this._f=new O);var mt=this._f[ot]($,C);return ot=="set"?this:mt}return ft.call(this,$,C)})}))},EWmC:function(V,q,y){var O=y("LZWt");V.exports=Array.isArray||function(k){return O(k)=="Array"}},EemH:function(V,q,y){var O=y("UqcF"),k=y("RjD/"),j=y("aCFj"),A=y("apmT"),E=y("aagx"),X=y("xpql"),z=Object.getOwnPropertyDescriptor;q.f=y("nh4g")?z:function(N,G){if(N=j(N),G=A(G,!0),X)try{return z(N,G)}catch{}if(E(N,G))return k(!O.f.call(N,G),N[G])}},FEjr:function(V,q,y){"use strict";y("OGtf")("strike",function(O){return function(){return O(this,"strike","","")}})},FJW5:function(V,q,y){var O=y("hswa"),k=y("y3w9"),j=y("DVgA");V.exports=y("nh4g")?Object.defineProperties:function(A,E){k(A);for(var X,z=j(E),N=z.length,G=0;N>G;)O.f(A,X=z[G++],E[X]);return A}},FLlr:function(V,q,y){var O=y("XKFU");O(O.P,"String",{repeat:y("l0Rn")})},FlsD:function(V,q,y){var O=y("0/R4");y("Xtr8")("isExtensible",function(k){return function(j){return!!O(j)&&(!k||k(j))}})},GNAe:function(V,q,y){var O=y("XKFU"),k=y("PKUr");O(O.G+O.F*(parseInt!=k),{parseInt:k})},H6hf:function(V,q,y){var O=y("y3w9");V.exports=function(k,j,A,E){try{return E?j(O(A)[0],A[1]):j(A)}catch(z){var X=k.return;throw X!==void 0&&O(X.call(k)),z}}},"HAE/":function(V,q,y){var O=y("XKFU");O(O.S+O.F*!y("nh4g"),"Object",{defineProperty:y("hswa").f})},HEwt:function(V,q,y){"use strict";var O=y("m0Pp"),k=y("XKFU"),j=y("S/j/"),A=y("H6hf"),E=y("M6Qj"),X=y("ne8i"),z=y("8a7r"),N=y("J+6e");k(k.S+k.F*!y("XMVh")(function(G){Array.from(G)}),"Array",{from:function(G){var B,Q,it,Y,tt=j(G),nt=typeof this=="function"?this:Array,Z=arguments.length,ot=Z>1?arguments[1]:void 0,et=ot!==void 0,ft=0,$=N(tt);if(et&&(ot=O(ot,Z>2?arguments[2]:void 0,2)),$==null||nt==Array&&E($))for(Q=new nt(B=X(tt.length));B>ft;ft++)z(Q,ft,et?ot(tt[ft],ft):tt[ft]);else for(Y=$.call(tt),Q=new nt;!(it=Y.next()).done;ft++)z(Q,ft,et?A(Y,ot,[it.value,ft],!0):it.value);return Q.length=ft,Q}})},I78e:function(V,q,y){"use strict";var O=y("XKFU"),k=y("+rLv"),j=y("LZWt"),A=y("d/Gc"),E=y("ne8i"),X=[].slice;O(O.P+O.F*y("eeVq")(function(){k&&X.call(k)}),"Array",{slice:function(z,N){var G=E(this.length),B=j(this);if(N=N===void 0?G:N,B=="Array")return X.call(this,z,N);for(var Q=A(z,G),it=A(N,G),Y=E(it-Q),tt=new Array(Y),nt=0;nt<Y;nt++)tt[nt]=B=="String"?this.charAt(Q+nt):this[Q+nt];return tt}})},"I8a+":function(V,q,y){var O=y("LZWt"),k=y("K0xU")("toStringTag"),j=O(function(){return arguments}())=="Arguments";V.exports=function(A){var E,X,z;return A===void 0?"Undefined":A===null?"Null":typeof(X=function(N,G){try{return N[G]}catch{}}(E=Object(A),k))=="string"?X:j?O(E):(z=O(E))=="Object"&&typeof E.callee=="function"?"Arguments":z}},INYr:function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(6),j="findIndex",A=!0;j in[]&&Array(1)[j](function(){A=!1}),O(O.P+O.F*A,"Array",{findIndex:function(E){return k(this,E,arguments.length>1?arguments[1]:void 0)}}),y("nGyu")(j)},"IU+Z":function(V,q,y){"use strict";y("sMXx");var O=y("KroJ"),k=y("Mukb"),j=y("eeVq"),A=y("vhPU"),E=y("K0xU"),X=y("Ugos"),z=E("species"),N=!j(function(){var B=/./;return B.exec=function(){var Q=[];return Q.groups={a:"7"},Q},"".replace(B,"$<a>")!=="7"}),G=function(){var B=/(?:)/,Q=B.exec;B.exec=function(){return Q.apply(this,arguments)};var it="ab".split(B);return it.length===2&&it[0]==="a"&&it[1]==="b"}();V.exports=function(B,Q,it){var Y=E(B),tt=!j(function(){var ft={};return ft[Y]=function(){return 7},""[B](ft)!=7}),nt=tt?!j(function(){var ft=!1,$=/a/;return $.exec=function(){return ft=!0,null},B==="split"&&($.constructor={},$.constructor[z]=function(){return $}),$[Y](""),!ft}):void 0;if(!tt||!nt||B==="replace"&&!N||B==="split"&&!G){var Z=/./[Y],ot=it(A,Y,""[B],function(ft,$,C,mt,kt){return $.exec===X?tt&&!kt?{done:!0,value:Z.call($,C,mt)}:{done:!0,value:ft.call(C,$,mt)}:{done:!1}}),et=ot[1];O(String.prototype,B,ot[0]),k(RegExp.prototype,Y,Q==2?function(ft,$){return et.call(ft,this,$)}:function(ft){return et.call(ft,this)})}}},IXt9:function(V,q,y){"use strict";var O=y("0/R4"),k=y("OP3Y"),j=y("K0xU")("hasInstance"),A=Function.prototype;j in A||y("hswa").f(A,j,{value:function(E){if(typeof this!="function"||!O(E))return!1;if(!O(this.prototype))return E instanceof this;for(;E=k(E);)if(this.prototype===E)return!0;return!1}})},Iw71:function(V,q,y){var O=y("0/R4"),k=y("dyZX").document,j=O(k)&&O(k.createElement);V.exports=function(A){return j?k.createElement(A):{}}},"J+6e":function(V,q,y){var O=y("I8a+"),k=y("K0xU")("iterator"),j=y("hPIQ");V.exports=y("g3g5").getIteratorMethod=function(A){if(A!=null)return A[k]||A["@@iterator"]||j[O(A)]}},JCqj:function(V,q,y){"use strict";y("OGtf")("sup",function(O){return function(){return O(this,"sup","","")}})},Jcmo:function(V,q,y){var O=y("XKFU"),k=Math.exp;O(O.S,"Math",{cosh:function(j){return(k(j=+j)+k(-j))/2}})},JduL:function(V,q,y){y("Xtr8")("getOwnPropertyNames",function(){return y("e7yV").f})},JiEa:function(V,q){q.f=Object.getOwnPropertySymbols},K0xU:function(V,q,y){var O=y("VTer")("wks"),k=y("ylqs"),j=y("dyZX").Symbol,A=typeof j=="function";(V.exports=function(E){return O[E]||(O[E]=A&&j[E]||(A?j:k)("Symbol."+E))}).store=O},KKXr:function(V,q,y){"use strict";var O=y("quPj"),k=y("y3w9"),j=y("69bn"),A=y("A5AN"),E=y("ne8i"),X=y("Xxuz"),z=y("Ugos"),N=Math.min,G=[].push,B=!!function(){try{return new RegExp("x","y")}catch{}}();y("IU+Z")("split",2,function(Q,it,Y,tt){var nt;return nt="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(Z,ot){var et=String(this);if(Z===void 0&&ot===0)return[];if(!O(Z))return Y.call(et,Z,ot);for(var ft,$,C,mt=[],kt=0,p=ot===void 0?4294967295:ot>>>0,u=new RegExp(Z.source,(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(Z.sticky?"y":"")+"g");(ft=z.call(u,et))&&!(($=u.lastIndex)>kt&&(mt.push(et.slice(kt,ft.index)),ft.length>1&&ft.index<et.length&&G.apply(mt,ft.slice(1)),C=ft[0].length,kt=$,mt.length>=p));)u.lastIndex===ft.index&&u.lastIndex++;return kt===et.length?!C&&u.test("")||mt.push(""):mt.push(et.slice(kt)),mt.length>p?mt.slice(0,p):mt}:"0".split(void 0,0).length?function(Z,ot){return Z===void 0&&ot===0?[]:Y.call(this,Z,ot)}:Y,[function(Z,ot){var et=Q(this),ft=Z?.[it];return ft!==void 0?ft.call(Z,et,ot):nt.call(String(et),Z,ot)},function(Z,ot){var et=tt(nt,Z,this,ot,nt!==Y);if(et.done)return et.value;var ft=k(Z),$=String(this),C=j(ft,RegExp),mt=ft.unicode,kt=new C(B?ft:"^(?:"+ft.source+")",(ft.ignoreCase?"i":"")+(ft.multiline?"m":"")+(ft.unicode?"u":"")+(B?"y":"g")),p=ot===void 0?4294967295:ot>>>0;if(p===0)return[];if($.length===0)return X(kt,$)===null?[$]:[];for(var u=0,h=0,l=[];h<$.length;){kt.lastIndex=B?h:0;var a,c=X(kt,B?$:$.slice(h));if(c===null||(a=N(E(kt.lastIndex+(B?0:h)),$.length))===u)h=A($,h,mt);else{if(l.push($.slice(u,h)),l.length===p)return l;for(var m=1;m<=c.length-1;m++)if(l.push(c[m]),l.length===p)return l;h=u=a}}return l.push($.slice(u)),l}]})},KroJ:function(V,q,y){var O=y("dyZX"),k=y("Mukb"),j=y("aagx"),A=y("ylqs")("src"),E=Function.toString,X=(""+E).split("toString");y("g3g5").inspectSource=function(z){return E.call(z)},(V.exports=function(z,N,G,B){var Q=typeof G=="function";Q&&(j(G,"name")||k(G,"name",N)),z[N]!==G&&(Q&&(j(G,A)||k(G,A,z[N]?""+z[N]:X.join(String(N)))),z===O?z[N]=G:B?z[N]?z[N]=G:k(z,N,G):(delete z[N],k(z,N,G)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[A]||E.call(this)})},Kuth:function(V,q,y){var O=y("y3w9"),k=y("FJW5"),j=y("4R4u"),A=y("YTvA")("IE_PROTO"),E=function(){},X=function(){var z,N=y("Iw71")("iframe"),G=j.length;for(N.style.display="none",y("+rLv").appendChild(N),N.src="javascript:",(z=N.contentWindow.document).open(),z.write("<script>document.F=Object</script>"),z.close(),X=z.F;G--;)delete X.prototype[j[G]];return X()};V.exports=Object.create||function(z,N){var G;return z!==null?(E.prototype=O(z),G=new E,E.prototype=null,G[A]=z):G=X(),N===void 0?G:k(G,N)}},L9s1:function(V,q,y){"use strict";var O=y("XKFU"),k=y("0sh+");O(O.P+O.F*y("UUeW")("includes"),"String",{includes:function(j){return!!~k(this,j,"includes").indexOf(j,arguments.length>1?arguments[1]:void 0)}})},LK8F:function(V,q,y){var O=y("XKFU");O(O.S,"Array",{isArray:y("EWmC")})},LQAc:function(V,q){V.exports=!1},LVwc:function(V,q){var y=Math.expm1;V.exports=!y||y(10)>22025.465794806718||y(10)<22025.465794806718||y(-2e-17)!=-2e-17?function(O){return(O=+O)==0?O:O>-1e-6&&O<1e-6?O+O*O/2:Math.exp(O)-1}:y},LZWt:function(V,q){var y={}.toString;V.exports=function(O){return y.call(O).slice(8,-1)}},Ljet:function(V,q,y){var O=y("XKFU");O(O.S,"Number",{EPSILON:Math.pow(2,-52)})},Lmuc:function(V,q,y){y("xfY5"),y("A2zW"),y("VKir"),y("Ljet"),y("/KAi"),y("fN96"),y("7h0T"),y("sbF8"),y("h/M4"),y("knhD"),y("XfKG"),y("BP8U"),V.exports=y("g3g5").Number},LyE8:function(V,q,y){"use strict";var O=y("eeVq");V.exports=function(k,j){return!!k&&O(function(){j?k.call(null,function(){},1):k.call(null)})}},M6Qj:function(V,q,y){var O=y("hPIQ"),k=y("K0xU")("iterator"),j=Array.prototype;V.exports=function(A){return A!==void 0&&(O.Array===A||j[k]===A)}},MfQN:function(V,q){V.exports=function(y,O,k){var j=k===void 0;switch(O.length){case 0:return j?y():y.call(k);case 1:return j?y(O[0]):y.call(k,O[0]);case 2:return j?y(O[0],O[1]):y.call(k,O[0],O[1]);case 3:return j?y(O[0],O[1],O[2]):y.call(k,O[0],O[1],O[2]);case 4:return j?y(O[0],O[1],O[2],O[3]):y.call(k,O[0],O[1],O[2],O[3])}return y.apply(k,O)}},MtdB:function(V,q,y){var O=y("XKFU");O(O.S,"Math",{clz32:function(k){return(k>>>=0)?31-Math.floor(Math.log(k+.5)*Math.LOG2E):32}})},Mukb:function(V,q,y){var O=y("hswa"),k=y("RjD/");V.exports=y("nh4g")?function(j,A,E){return O.f(j,A,k(1,E))}:function(j,A,E){return j[A]=E,j}},N8g3:function(V,q,y){q.f=y("K0xU")},Nr18:function(V,q,y){"use strict";var O=y("S/j/"),k=y("d/Gc"),j=y("ne8i");V.exports=function(A){for(var E=O(this),X=j(E.length),z=arguments.length,N=k(z>1?arguments[1]:void 0,X),G=z>2?arguments[2]:void 0,B=G===void 0?X:k(G,X);B>N;)E[N++]=A;return E}},Nz9U:function(V,q,y){"use strict";var O=y("XKFU"),k=y("aCFj"),j=[].join;O(O.P+O.F*(y("Ymqv")!=Object||!y("LyE8")(j)),"Array",{join:function(A){return j.call(k(this),A===void 0?",":A)}})},OEbY:function(V,q,y){y("nh4g")&&/./g.flags!="g"&&y("hswa").f(RegExp.prototype,"flags",{configurable:!0,get:y("C/va")})},OG14:function(V,q,y){"use strict";var O=y("y3w9"),k=y("g6HL"),j=y("Xxuz");y("IU+Z")("search",1,function(A,E,X,z){return[function(N){var G=A(this),B=N?.[E];return B!==void 0?B.call(N,G):new RegExp(N)[E](String(G))},function(N){var G=z(X,N,this);if(G.done)return G.value;var B=O(N),Q=String(this),it=B.lastIndex;k(it,0)||(B.lastIndex=0);var Y=j(B,Q);return k(B.lastIndex,it)||(B.lastIndex=it),Y===null?-1:Y.index}]})},OGtf:function(V,q,y){var O=y("XKFU"),k=y("eeVq"),j=y("vhPU"),A=/"/g,E=function(X,z,N,G){var B=String(j(X)),Q="<"+z;return N!==""&&(Q+=" "+N+'="'+String(G).replace(A,"&quot;")+'"'),Q+">"+B+"</"+z+">"};V.exports=function(X,z){var N={};N[X]=z(E),O(O.P+O.F*k(function(){var G=""[X]('"');return G!==G.toLowerCase()||G.split('"').length>3}),"String",N)}},OP3Y:function(V,q,y){var O=y("aagx"),k=y("S/j/"),j=y("YTvA")("IE_PROTO"),A=Object.prototype;V.exports=Object.getPrototypeOf||function(E){return E=k(E),O(E,j)?E[j]:typeof E.constructor=="function"&&E instanceof E.constructor?E.constructor.prototype:E instanceof Object?A:null}},OnI7:function(V,q,y){var O=y("dyZX"),k=y("g3g5"),j=y("LQAc"),A=y("N8g3"),E=y("hswa").f;V.exports=function(X){var z=k.Symbol||(k.Symbol=j?{}:O.Symbol||{});X.charAt(0)=="_"||X in z||E(z,X,{value:A.f(X)})}},Oyvg:function(V,q,y){var O=y("dyZX"),k=y("Xbzi"),j=y("hswa").f,A=y("kJMx").f,E=y("quPj"),X=y("C/va"),z=O.RegExp,N=z,G=z.prototype,B=/a/g,Q=/a/g,it=new z(B)!==B;if(y("nh4g")&&(!it||y("eeVq")(function(){return Q[y("K0xU")("match")]=!1,z(B)!=B||z(Q)==Q||z(B,"i")!="/a/i"}))){z=function(Z,ot){var et=this instanceof z,ft=E(Z),$=ot===void 0;return!et&&ft&&Z.constructor===z&&$?Z:k(it?new N(ft&&!$?Z.source:Z,ot):N((ft=Z instanceof z)?Z.source:Z,ft&&$?X.call(Z):ot),et?this:G,z)};for(var Y=function(Z){Z in z||j(z,Z,{configurable:!0,get:function(){return N[Z]},set:function(ot){N[Z]=ot}})},tt=A(N),nt=0;tt.length>nt;)Y(tt[nt++]);G.constructor=z,z.prototype=G,y("KroJ")(O,"RegExp",z)}y("elZq")("RegExp")},PKUr:function(V,q,y){var O=y("dyZX").parseInt,k=y("qncB").trim,j=y("/e88"),A=/^[-+]?0[xX]/;V.exports=O(j+"08")!==8||O(j+"0x16")!==22?function(E,X){var z=k(String(E),3);return O(z,X>>>0||(A.test(z)?16:10))}:O},QaDb:function(V,q,y){"use strict";var O=y("Kuth"),k=y("RjD/"),j=y("fyDq"),A={};y("Mukb")(A,y("K0xU")("iterator"),function(){return this}),V.exports=function(E,X,z){E.prototype=O(A,{next:k(1,z)}),j(E,X+" Iterator")}},RW0V:function(V,q,y){var O=y("S/j/"),k=y("DVgA");y("Xtr8")("keys",function(){return function(j){return k(O(j))}})},RYi7:function(V,q){var y=Math.ceil,O=Math.floor;V.exports=function(k){return isNaN(k=+k)?0:(k>0?O:y)(k)}},"RjD/":function(V,q){V.exports=function(y,O){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:O}}},"S/j/":function(V,q,y){var O=y("vhPU");V.exports=function(k){return Object(O(k))}},SMB2:function(V,q,y){"use strict";y("OGtf")("bold",function(O){return function(){return O(this,"b","","")}})},SPin:function(V,q,y){"use strict";var O=y("XKFU"),k=y("eyMr");O(O.P+O.F*!y("LyE8")([].reduceRight,!0),"Array",{reduceRight:function(j){return k(this,j,arguments.length,arguments[1],!0)}})},SRfc:function(V,q,y){"use strict";var O=y("y3w9"),k=y("ne8i"),j=y("A5AN"),A=y("Xxuz");y("IU+Z")("match",1,function(E,X,z,N){return[function(G){var B=E(this),Q=G?.[X];return Q!==void 0?Q.call(G,B):new RegExp(G)[X](String(B))},function(G){var B=N(z,G,this);if(B.done)return B.value;var Q=O(G),it=String(this);if(!Q.global)return A(Q,it);var Y=Q.unicode;Q.lastIndex=0;for(var tt,nt=[],Z=0;(tt=A(Q,it))!==null;){var ot=String(tt[0]);nt[Z]=ot,ot===""&&(Q.lastIndex=j(it,k(Q.lastIndex),Y)),Z++}return Z===0?null:nt}]})},SlkY:function(V,q,y){var O=y("m0Pp"),k=y("H6hf"),j=y("M6Qj"),A=y("y3w9"),E=y("ne8i"),X=y("J+6e"),z={},N={};(q=V.exports=function(G,B,Q,it,Y){var tt,nt,Z,ot,et=Y?function(){return G}:X(G),ft=O(Q,it,B?2:1),$=0;if(typeof et!="function")throw TypeError(G+" is not iterable!");if(j(et)){for(tt=E(G.length);tt>$;$++)if((ot=B?ft(A(nt=G[$])[0],nt[1]):ft(G[$]))===z||ot===N)return ot}else for(Z=et.call(G);!(nt=Z.next()).done;)if((ot=k(Z,ft,nt.value,B))===z||ot===N)return ot}).BREAK=z,q.RETURN=N},T1qB:function(V,q){(function(y){var O=function(){try{return!!Symbol.iterator}catch{return!1}}(),k=function(X){var z={next:function(){var N=X.shift();return{done:N===void 0,value:N}}};return O&&(z[Symbol.iterator]=function(){return z}),z},j=function(X){return encodeURIComponent(X).replace(/%20/g,"+")},A=function(X){return decodeURIComponent(X).replace(/\+/g," ")};"URLSearchParams"in y&&new URLSearchParams("?a=1").toString()==="a=1"||function(){var X=function(N){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var G=typeof N;if(G!=="undefined")if(G==="string")N!==""&&this._fromString(N);else if(N instanceof X){var B=this;N.forEach(function(tt,nt){B.append(nt,tt)})}else{if(N===null||G!=="object")throw new TypeError("Unsupported input's type for URLSearchParams");if(Object.prototype.toString.call(N)==="[object Array]")for(var Q=0;Q<N.length;Q++){var it=N[Q];if(Object.prototype.toString.call(it)!=="[object Array]"&&it.length===2)throw new TypeError("Expected [string, any] as entry at index "+Q+" of URLSearchParams's input");this.append(it[0],it[1])}else for(var Y in N)N.hasOwnProperty(Y)&&this.append(Y,N[Y])}},z=X.prototype;z.append=function(N,G){N in this._entries?this._entries[N].push(String(G)):this._entries[N]=[String(G)]},z.delete=function(N){delete this._entries[N]},z.get=function(N){return N in this._entries?this._entries[N][0]:null},z.getAll=function(N){return N in this._entries?this._entries[N].slice(0):[]},z.has=function(N){return N in this._entries},z.set=function(N,G){this._entries[N]=[String(G)]},z.forEach=function(N,G){var B;for(var Q in this._entries)if(this._entries.hasOwnProperty(Q)){B=this._entries[Q];for(var it=0;it<B.length;it++)N.call(G,B[it],Q,this)}},z.keys=function(){var N=[];return this.forEach(function(G,B){N.push(B)}),k(N)},z.values=function(){var N=[];return this.forEach(function(G){N.push(G)}),k(N)},z.entries=function(){var N=[];return this.forEach(function(G,B){N.push([B,G])}),k(N)},O&&(z[Symbol.iterator]=z.entries),z.toString=function(){var N=[];return this.forEach(function(G,B){N.push(j(B)+"="+j(G))}),N.join("&")},y.URLSearchParams=X}();var E=URLSearchParams.prototype;typeof E.sort!="function"&&(E.sort=function(){var X=this,z=[];this.forEach(function(G,B){z.push([B,G]),X._entries||X.delete(B)}),z.sort(function(G,B){return G[0]<B[0]?-1:G[0]>B[0]?1:0}),X._entries&&(X._entries={});for(var N=0;N<z.length;N++)this.append(z[N][0],z[N][1])}),typeof E._fromString!="function"&&Object.defineProperty(E,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(X){if(this._entries)this._entries={};else{var z=[];this.forEach(function(Q,it){z.push(it)});for(var N=0;N<z.length;N++)this.delete(z[N])}var G,B=(X=X.replace(/^\?/,"")).split("&");for(N=0;N<B.length;N++)G=B[N].split("="),this.append(A(G[0]),G.length>1?A(G[1]):"")}})})(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:this),function(y){if(function(){try{var k=new URL("b","http://a");return k.pathname="c%20d",k.href==="http://a/c%20d"&&k.searchParams}catch{return!1}}()||function(){var k=y.URL,j=function(E,X){typeof E!="string"&&(E=String(E));var z,N=document;if(X&&(y.location===void 0||X!==y.location.href)){(z=(N=document.implementation.createHTMLDocument("")).createElement("base")).href=X,N.head.appendChild(z);try{if(z.href.indexOf(X)!==0)throw new Error(z.href)}catch(nt){throw new Error("URL unable to set base "+X+" due to "+nt)}}var G=N.createElement("a");if(G.href=E,z&&(N.body.appendChild(G),G.href=G.href),G.protocol===":"||!/:/.test(G.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:G});var B=new URLSearchParams(this.search),Q=!0,it=!0,Y=this;["append","delete","set"].forEach(function(nt){var Z=B[nt];B[nt]=function(){Z.apply(B,arguments),Q&&(it=!1,Y.search=B.toString(),it=!0)}}),Object.defineProperty(this,"searchParams",{value:B,enumerable:!0});var tt=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==tt&&(tt=this.search,it&&(Q=!1,this.searchParams._fromString(this.search),Q=!0))}})},A=j.prototype;["hash","host","hostname","port","protocol"].forEach(function(E){(function(X){Object.defineProperty(A,X,{get:function(){return this._anchorElement[X]},set:function(z){this._anchorElement[X]=z},enumerable:!0})})(E)}),Object.defineProperty(A,"search",{get:function(){return this._anchorElement.search},set:function(E){this._anchorElement.search=E,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(A,{toString:{get:function(){var E=this;return function(){return E.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(E){this._anchorElement.href=E,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(E){this._anchorElement.pathname=E},enumerable:!0},origin:{get:function(){return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(this._anchorElement.port!={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol]&&this._anchorElement.port!==""?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(E){},enumerable:!0},username:{get:function(){return""},set:function(E){},enumerable:!0}}),j.createObjectURL=function(E){return k.createObjectURL.apply(k,arguments)},j.revokeObjectURL=function(E){return k.revokeObjectURL.apply(k,arguments)},y.URL=j}(),y.location!==void 0&&!("origin"in y.location)){var O=function(){return y.location.protocol+"//"+y.location.hostname+(y.location.port?":"+y.location.port:"")};try{Object.defineProperty(y.location,"origin",{get:O,enumerable:!0})}catch{setInterval(function(){y.location.origin=O()},100)}}}(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:this)},T39b:function(V,q,y){"use strict";var O=y("wmvG"),k=y("s5qY");V.exports=y("4LiD")("Set",function(j){return function(){return j(this,arguments.length>0?arguments[0]:void 0)}},{add:function(j){return O.def(k(this,"Set"),j=j===0?0:j,j)}},O)},Tze0:function(V,q,y){"use strict";y("qncB")("trim",function(O){return function(){return O(this,3)}})},U2t9:function(V,q,y){var O=y("XKFU"),k=Math.asinh;O(O.S+O.F*!(k&&1/k(0)>0),"Math",{asinh:function j(A){return isFinite(A=+A)&&A!=0?A<0?-j(-A):Math.log(A+Math.sqrt(A*A+1)):A}})},UUeW:function(V,q,y){var O=y("K0xU")("match");V.exports=function(k){var j=/./;try{"/./"[k](j)}catch{try{return j[O]=!1,!"/./"[k](j)}catch{}}return!0}},Ugos:function(V,q,y){"use strict";var O,k,j=y("C/va"),A=RegExp.prototype.exec,E=String.prototype.replace,X=A,z=(k=/b*/g,A.call(O=/a/,"a"),A.call(k,"a"),O.lastIndex!==0||k.lastIndex!==0),N=/()??/.exec("")[1]!==void 0;(z||N)&&(X=function(G){var B,Q,it,Y,tt=this;return N&&(Q=new RegExp("^"+tt.source+"$(?!\\s)",j.call(tt))),z&&(B=tt.lastIndex),it=A.call(tt,G),z&&it&&(tt.lastIndex=tt.global?it.index+it[0].length:B),N&&it&&it.length>1&&E.call(it[0],Q,function(){for(Y=1;Y<arguments.length-2;Y++)arguments[Y]===void 0&&(it[Y]=void 0)}),it}),V.exports=X},UqcF:function(V,q){q.f={}.propertyIsEnumerable},"V+eJ":function(V,q,y){"use strict";var O=y("XKFU"),k=y("w2a5")(!1),j=[].indexOf,A=!!j&&1/[1].indexOf(1,-0)<0;O(O.P+O.F*(A||!y("LyE8")(j)),"Array",{indexOf:function(E){return A?j.apply(this,arguments)||0:k(this,E,arguments[1])}})},"V/DX":function(V,q,y){var O=y("0/R4");y("Xtr8")("isSealed",function(k){return function(j){return!O(j)||!!k&&k(j)}})},"V5/Y":function(V,q,y){y("VpUO"),y("eI33"),y("Tze0"),y("XfO3"),y("oDIu"),y("rvZc"),y("L9s1"),y("FLlr"),y("9VmF"),y("hEkN"),y("nIY7"),y("+oPb"),y("SMB2"),y("0mN4"),y("bDcW"),y("nsiH"),y("0LDn"),y("tUrg"),y("84bF"),y("FEjr"),y("Zz4T"),y("JCqj"),y("SRfc"),y("pIFo"),y("OG14"),y("KKXr"),V.exports=y("g3g5").String},VKir:function(V,q,y){"use strict";var O=y("XKFU"),k=y("eeVq"),j=y("vvmO"),A=1 .toPrecision;O(O.P+O.F*(k(function(){return A.call(1,void 0)!=="1"})||!k(function(){A.call({})})),"Number",{toPrecision:function(E){var X=j(this,"Number#toPrecision: incorrect invocation!");return E===void 0?A.call(X):A.call(X,E)}})},VTer:function(V,q,y){var O=y("g3g5"),k=y("dyZX"),j=k["__core-js_shared__"]||(k["__core-js_shared__"]={});(V.exports=function(A,E){return j[A]||(j[A]=E!==void 0?E:{})})("versions",[]).push({version:O.version,mode:y("LQAc")?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},VXxg:function(V,q,y){y("Btvt"),y("XfO3"),y("rGqo"),y("T39b"),V.exports=y("g3g5").Set},Vd3H:function(V,q,y){"use strict";var O=y("XKFU"),k=y("2OiF"),j=y("S/j/"),A=y("eeVq"),E=[].sort,X=[1,2,3];O(O.P+O.F*(A(function(){X.sort(void 0)})||!A(function(){X.sort(null)})||!y("LyE8")(E)),"Array",{sort:function(z){return z===void 0?E.call(j(this)):E.call(j(this),k(z))}})},VpUO:function(V,q,y){var O=y("XKFU"),k=y("d/Gc"),j=String.fromCharCode,A=String.fromCodePoint;O(O.S+O.F*(!!A&&A.length!=1),"String",{fromCodePoint:function(E){for(var X,z=[],N=arguments.length,G=0;N>G;){if(X=+arguments[G++],k(X,1114111)!==X)throw RangeError(X+" is not a valid code point");z.push(X<65536?j(X):j(55296+((X-=65536)>>10),X%1024+56320))}return z.join("")}})},WLL4:function(V,q,y){var O=y("XKFU");O(O.S+O.F*!y("nh4g"),"Object",{defineProperties:y("FJW5")})},XKFU:function(V,q,y){var O=y("dyZX"),k=y("g3g5"),j=y("Mukb"),A=y("KroJ"),E=y("m0Pp"),X=function(z,N,G){var B,Q,it,Y,tt=z&X.F,nt=z&X.G,Z=z&X.P,ot=z&X.B,et=nt?O:z&X.S?O[N]||(O[N]={}):(O[N]||{}).prototype,ft=nt?k:k[N]||(k[N]={}),$=ft.prototype||(ft.prototype={});for(B in nt&&(G=N),G)it=((Q=!tt&&et&&et[B]!==void 0)?et:G)[B],Y=ot&&Q?E(it,O):Z&&typeof it=="function"?E(Function.call,it):it,et&&A(et,B,it,z&X.U),ft[B]!=it&&j(ft,B,Y),Z&&$[B]!=it&&($[B]=it)};O.core=k,X.F=1,X.G=2,X.S=4,X.P=8,X.B=16,X.W=32,X.U=64,X.R=128,V.exports=X},XMVh:function(V,q,y){var O=y("K0xU")("iterator"),k=!1;try{var j=[7][O]();j.return=function(){k=!0},Array.from(j,function(){throw 2})}catch{}V.exports=function(A,E){if(!E&&!k)return!1;var X=!1;try{var z=[7],N=z[O]();N.next=function(){return{done:X=!0}},z[O]=function(){return N},A(z)}catch{}return X}},Xbzi:function(V,q,y){var O=y("0/R4"),k=y("i5dc").set;V.exports=function(j,A,E){var X,z=A.constructor;return z!==E&&typeof z=="function"&&(X=z.prototype)!==E.prototype&&O(X)&&k&&k(j,X),j}},XfKG:function(V,q,y){var O=y("XKFU"),k=y("11IZ");O(O.S+O.F*(Number.parseFloat!=k),"Number",{parseFloat:k})},XfO3:function(V,q,y){"use strict";var O=y("AvRE")(!0);y("Afnz")(String,"String",function(k){this._t=String(k),this._i=0},function(){var k,j=this._t,A=this._i;return A>=j.length?{value:void 0,done:!0}:(k=O(j,A),this._i+=k.length,{value:k,done:!1})})},Xtr8:function(V,q,y){var O=y("XKFU"),k=y("g3g5"),j=y("eeVq");V.exports=function(A,E){var X=(k.Object||{})[A]||Object[A],z={};z[A]=E(X),O(O.S+O.F*j(function(){X(1)}),"Object",z)}},Xxuz:function(V,q,y){"use strict";var O=y("I8a+"),k=RegExp.prototype.exec;V.exports=function(j,A){var E=j.exec;if(typeof E=="function"){var X=E.call(j,A);if(typeof X!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return X}if(O(j)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return k.call(j,A)}},YJVH:function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(4);O(O.P+O.F*!y("LyE8")([].every,!0),"Array",{every:function(j){return k(this,j,arguments[1])}})},YTvA:function(V,q,y){var O=y("VTer")("keys"),k=y("ylqs");V.exports=function(j){return O[j]||(O[j]=k(j))}},Ymqv:function(V,q,y){var O=y("LZWt");V.exports=Object("z").propertyIsEnumerable(0)?Object:function(k){return O(k)=="String"?k.split(""):Object(k)}},Z6vF:function(V,q,y){var O=y("ylqs")("meta"),k=y("0/R4"),j=y("aagx"),A=y("hswa").f,E=0,X=Object.isExtensible||function(){return!0},z=!y("eeVq")(function(){return X(Object.preventExtensions({}))}),N=function(B){A(B,O,{value:{i:"O"+ ++E,w:{}}})},G=V.exports={KEY:O,NEED:!1,fastKey:function(B,Q){if(!k(B))return typeof B=="symbol"?B:(typeof B=="string"?"S":"P")+B;if(!j(B,O)){if(!X(B))return"F";if(!Q)return"E";N(B)}return B[O].i},getWeak:function(B,Q){if(!j(B,O)){if(!X(B))return!0;if(!Q)return!1;N(B)}return B[O].w},onFreeze:function(B){return z&&G.NEED&&X(B)&&!j(B,O)&&N(B),B}}},ZD67:function(V,q,y){"use strict";var O=y("3Lyj"),k=y("Z6vF").getWeak,j=y("y3w9"),A=y("0/R4"),E=y("9gX7"),X=y("SlkY"),z=y("CkkT"),N=y("aagx"),G=y("s5qY"),B=z(5),Q=z(6),it=0,Y=function(Z){return Z._l||(Z._l=new tt)},tt=function(){this.a=[]},nt=function(Z,ot){return B(Z.a,function(et){return et[0]===ot})};tt.prototype={get:function(Z){var ot=nt(this,Z);if(ot)return ot[1]},has:function(Z){return!!nt(this,Z)},set:function(Z,ot){var et=nt(this,Z);et?et[1]=ot:this.a.push([Z,ot])},delete:function(Z){var ot=Q(this.a,function(et){return et[0]===Z});return~ot&&this.a.splice(ot,1),!!~ot}},V.exports={getConstructor:function(Z,ot,et,ft){var $=Z(function(C,mt){E(C,$,ot,"_i"),C._t=ot,C._i=it++,C._l=void 0,mt!=null&&X(mt,et,C[ft],C)});return O($.prototype,{delete:function(C){if(!A(C))return!1;var mt=k(C);return mt===!0?Y(G(this,ot)).delete(C):mt&&N(mt,this._i)&&delete mt[this._i]},has:function(C){if(!A(C))return!1;var mt=k(C);return mt===!0?Y(G(this,ot)).has(C):mt&&N(mt,this._i)}}),$},def:function(Z,ot,et){var ft=k(j(ot),!0);return ft===!0?Y(Z).set(ot,et):ft[Z._i]=et,Z},ufstore:Y}},Zshi:function(V,q,y){var O=y("0/R4");y("Xtr8")("isFrozen",function(k){return function(j){return!O(j)||!!k&&k(j)}})},Zz4T:function(V,q,y){"use strict";y("OGtf")("sub",function(O){return function(){return O(this,"sub","","")}})},a1Th:function(V,q,y){"use strict";y("OEbY");var O=y("y3w9"),k=y("C/va"),j=y("nh4g"),A=/./.toString,E=function(X){y("KroJ")(RegExp.prototype,"toString",X,!0)};y("eeVq")(function(){return A.call({source:"a",flags:"b"})!="/a/b"})?E(function(){var X=O(this);return"/".concat(X.source,"/","flags"in X?X.flags:!j&&X instanceof RegExp?k.call(X):void 0)}):A.name!="toString"&&E(function(){return A.call(this)})},aCFj:function(V,q,y){var O=y("Ymqv"),k=y("vhPU");V.exports=function(j){return O(k(j))}},aagx:function(V,q){var y={}.hasOwnProperty;V.exports=function(O,k){return y.call(O,k)}},apmT:function(V,q,y){var O=y("0/R4");V.exports=function(k,j){if(!O(k))return k;var A,E;if(j&&typeof(A=k.toString)=="function"&&!O(E=A.call(k))||typeof(A=k.valueOf)=="function"&&!O(E=A.call(k))||!j&&typeof(A=k.toString)=="function"&&!O(E=A.call(k)))return E;throw TypeError("Can't convert object to primitive value")}},bBoP:function(V,q,y){var O=y("XKFU"),k=y("LVwc"),j=Math.exp;O(O.S+O.F*y("eeVq")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(A){return Math.abs(A=+A)<1?(k(A)-k(-A))/2:(j(A-1)-j(-A-1))*(Math.E/2)}})},bDcW:function(V,q,y){"use strict";y("OGtf")("fontcolor",function(O){return function(k){return O(this,"font","color",k)}})},bHtr:function(V,q,y){var O=y("XKFU");O(O.P,"Array",{fill:y("Nr18")}),y("nGyu")("fill")},bWfx:function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(1);O(O.P+O.F*!y("LyE8")([].map,!0),"Array",{map:function(j){return k(this,j,arguments[1])}})},czNK:function(V,q,y){"use strict";var O=y("DVgA"),k=y("JiEa"),j=y("UqcF"),A=y("S/j/"),E=y("Ymqv"),X=Object.assign;V.exports=!X||y("eeVq")(function(){var z={},N={},G=Symbol(),B="abcdefghijklmnopqrst";return z[G]=7,B.split("").forEach(function(Q){N[Q]=Q}),X({},z)[G]!=7||Object.keys(X({},N)).join("")!=B})?function(z,N){for(var G=A(z),B=arguments.length,Q=1,it=k.f,Y=j.f;B>Q;)for(var tt,nt=E(arguments[Q++]),Z=it?O(nt).concat(it(nt)):O(nt),ot=Z.length,et=0;ot>et;)Y.call(nt,tt=Z[et++])&&(G[tt]=nt[tt]);return G}:X},"d/Gc":function(V,q,y){var O=y("RYi7"),k=Math.max,j=Math.min;V.exports=function(A,E){return(A=O(A))<0?k(A+E,0):j(A,E)}},"dE+T":function(V,q,y){var O=y("XKFU");O(O.P,"Array",{copyWithin:y("upKx")}),y("nGyu")("copyWithin")},dQfE:function(V,q,y){y("XfO3"),y("LK8F"),y("HEwt"),y("6AQ9"),y("Nz9U"),y("I78e"),y("Vd3H"),y("8+KV"),y("bWfx"),y("0l/t"),y("dZ+Y"),y("YJVH"),y("DNiP"),y("SPin"),y("V+eJ"),y("mGWK"),y("dE+T"),y("bHtr"),y("dRSK"),y("INYr"),y("0E+W"),y("yt8O"),V.exports=y("g3g5").Array},dRSK:function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(5),j=!0;"find"in[]&&Array(1).find(function(){j=!1}),O(O.P+O.F*j,"Array",{find:function(A){return k(this,A,arguments.length>1?arguments[1]:void 0)}}),y("nGyu")("find")},"dZ+Y":function(V,q,y){"use strict";var O=y("XKFU"),k=y("CkkT")(3);O(O.P+O.F*!y("LyE8")([].some,!0),"Array",{some:function(j){return k(this,j,arguments[1])}})},dyZX:function(V,q){var y=V.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=y)},e7yV:function(V,q,y){var O=y("aCFj"),k=y("kJMx").f,j={}.toString,A=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];V.exports.f=function(E){return A&&j.call(E)=="[object Window]"?function(X){try{return k(X)}catch{return A.slice()}}(E):k(O(E))}},eHKK:function(V,q,y){var O=y("XKFU");O(O.S,"Math",{log10:function(k){return Math.log(k)*Math.LOG10E}})},eI33:function(V,q,y){var O=y("XKFU"),k=y("aCFj"),j=y("ne8i");O(O.S,"String",{raw:function(A){for(var E=k(A.raw),X=j(E.length),z=arguments.length,N=[],G=0;X>G;)N.push(String(E[G++])),G<z&&N.push(String(arguments[G]));return N.join("")}})},eM6i:function(V,q,y){var O=y("XKFU");O(O.S,"Date",{now:function(){return new Date().getTime()}})},eeVq:function(V,q){V.exports=function(y){try{return!!y()}catch{return!0}}},elZq:function(V,q,y){"use strict";var O=y("dyZX"),k=y("hswa"),j=y("nh4g"),A=y("K0xU")("species");V.exports=function(E){var X=O[E];j&&X&&!X[A]&&k.f(X,A,{configurable:!0,get:function(){return this}})}},eyMr:function(V,q,y){var O=y("2OiF"),k=y("S/j/"),j=y("Ymqv"),A=y("ne8i");V.exports=function(E,X,z,N,G){O(X);var B=k(E),Q=j(B),it=A(B.length),Y=G?it-1:0,tt=G?-1:1;if(z<2)for(;;){if(Y in Q){N=Q[Y],Y+=tt;break}if(Y+=tt,G?Y<0:it<=Y)throw TypeError("Reduce of empty array with no initial value")}for(;G?Y>=0:it>Y;Y+=tt)Y in Q&&(N=X(N,Q[Y],Y,B));return N}},"f3/d":function(V,q,y){var O=y("hswa").f,k=Function.prototype,j=/^\s*function ([^ (]*)/;"name"in k||y("nh4g")&&O(k,"name",{configurable:!0,get:function(){try{return(""+this).match(j)[1]}catch{return""}}})},fN96:function(V,q,y){var O=y("XKFU");O(O.S,"Number",{isInteger:y("nBIS")})},fyDq:function(V,q,y){var O=y("hswa").f,k=y("aagx"),j=y("K0xU")("toStringTag");V.exports=function(A,E,X){A&&!k(A=X?A:A.prototype,j)&&O(A,j,{configurable:!0,value:E})}},fyVe:function(V,q,y){var O=y("XKFU"),k=y("1sa7"),j=Math.sqrt,A=Math.acosh;O(O.S+O.F*!(A&&Math.floor(A(Number.MAX_VALUE))==710&&A(1/0)==1/0),"Math",{acosh:function(E){return(E=+E)<1?NaN:E>9490626562425156e-8?Math.log(E)+Math.LN2:k(E-1+j(E-1)*j(E+1))}})},g3g5:function(V,q){var y=V.exports={version:"2.6.2"};typeof __e=="number"&&(__e=y)},g4EE:function(V,q,y){"use strict";var O=y("y3w9"),k=y("apmT");V.exports=function(j){if(j!=="string"&&j!=="number"&&j!=="default")throw TypeError("Incorrect hint");return k(O(this),j!="number")}},g6HL:function(V,q){V.exports=Object.is||function(y,O){return y===O?y!==0||1/y==1/O:y!=y&&O!=O}},"h/M4":function(V,q,y){var O=y("XKFU");O(O.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},h7Nl:function(V,q,y){var O=Date.prototype,k=O.toString,j=O.getTime;new Date(NaN)+""!="Invalid Date"&&y("KroJ")(O,"toString",function(){var A=j.call(this);return A==A?k.call(this):"Invalid Date"})},hEkN:function(V,q,y){"use strict";y("OGtf")("anchor",function(O){return function(k){return O(this,"a","name",k)}})},hHhE:function(V,q,y){var O=y("XKFU");O(O.S,"Object",{create:y("Kuth")})},hLT2:function(V,q,y){var O=y("XKFU");O(O.S,"Math",{trunc:function(k){return(k>0?Math.floor:Math.ceil)(k)}})},"hN/g":function(V,q,y){"use strict";y.r(q),y("vqGA"),y("99sg"),y("4A4+"),y("oka+"),y("ifmr"),y("Lmuc"),y("CuTL"),y("V5/Y"),y("nx1v"),y("dQfE"),y("rfyP"),y("qKs0"),y("hYbK"),y("VXxg"),y("T1qB")},hPIQ:function(V,q){V.exports={}},hYbK:function(V,q,y){y("Btvt"),y("yt8O"),y("EK0E"),V.exports=y("g3g5").WeakMap},hswa:function(V,q,y){var O=y("y3w9"),k=y("xpql"),j=y("apmT"),A=Object.defineProperty;q.f=y("nh4g")?Object.defineProperty:function(E,X,z){if(O(E),X=j(X,!0),O(z),k)try{return A(E,X,z)}catch{}if("get"in z||"set"in z)throw TypeError("Accessors not supported!");return"value"in z&&(E[X]=z.value),E}},i5dc:function(V,q,y){var O=y("0/R4"),k=y("y3w9"),j=function(A,E){if(k(A),!O(E)&&E!==null)throw TypeError(E+": can't set as prototype!")};V.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(A,E,X){try{(X=y("m0Pp")(Function.call,y("EemH").f(Object.prototype,"__proto__").set,2))(A,[]),E=!(A instanceof Array)}catch{E=!0}return function(z,N){return j(z,N),E?z.__proto__=N:X(z,N),z}}({},!1):void 0),check:j}},ifmr:function(V,q,y){y("tyy+"),V.exports=y("g3g5").parseFloat},ioFf:function(V,q,y){"use strict";var O=y("dyZX"),k=y("aagx"),j=y("nh4g"),A=y("XKFU"),E=y("KroJ"),X=y("Z6vF").KEY,z=y("eeVq"),N=y("VTer"),G=y("fyDq"),B=y("ylqs"),Q=y("K0xU"),it=y("N8g3"),Y=y("OnI7"),tt=y("1MBn"),nt=y("EWmC"),Z=y("y3w9"),ot=y("0/R4"),et=y("aCFj"),ft=y("apmT"),$=y("RjD/"),C=y("Kuth"),mt=y("e7yV"),kt=y("EemH"),p=y("hswa"),u=y("DVgA"),h=kt.f,l=p.f,a=mt.f,c=O.Symbol,m=O.JSON,v=m&&m.stringify,g=Q("_hidden"),b=Q("toPrimitive"),w={}.propertyIsEnumerable,x=N("symbol-registry"),R=N("symbols"),L=N("op-symbols"),H=Object.prototype,rt=typeof c=="function",at=O.QObject,pt=!at||!at.prototype||!at.prototype.findChild,bt=j&&z(function(){return C(l({},"a",{get:function(){return l(this,"a",{value:7}).a}})).a!=7})?function(It,Vt,zt){var Jt=h(H,Vt);Jt&&delete H[Vt],l(It,Vt,zt),Jt&&It!==H&&l(H,Vt,Jt)}:l,gt=function(It){var Vt=R[It]=C(c.prototype);return Vt._k=It,Vt},I=rt&&typeof c.iterator=="symbol"?function(It){return typeof It=="symbol"}:function(It){return It instanceof c},M=function(It,Vt,zt){return It===H&&M(L,Vt,zt),Z(It),Vt=ft(Vt,!0),Z(zt),k(R,Vt)?(zt.enumerable?(k(It,g)&&It[g][Vt]&&(It[g][Vt]=!1),zt=C(zt,{enumerable:$(0,!1)})):(k(It,g)||l(It,g,$(1,{})),It[g][Vt]=!0),bt(It,Vt,zt)):l(It,Vt,zt)},W=function(It,Vt){Z(It);for(var zt,Jt=tt(Vt=et(Vt)),ut=0,ht=Jt.length;ht>ut;)M(It,zt=Jt[ut++],Vt[zt]);return It},dt=function(It){var Vt=w.call(this,It=ft(It,!0));return!(this===H&&k(R,It)&&!k(L,It))&&(!(Vt||!k(this,It)||!k(R,It)||k(this,g)&&this[g][It])||Vt)},_t=function(It,Vt){if(It=et(It),Vt=ft(Vt,!0),It!==H||!k(R,Vt)||k(L,Vt)){var zt=h(It,Vt);return!zt||!k(R,Vt)||k(It,g)&&It[g][Vt]||(zt.enumerable=!0),zt}},Et=function(It){for(var Vt,zt=a(et(It)),Jt=[],ut=0;zt.length>ut;)k(R,Vt=zt[ut++])||Vt==g||Vt==X||Jt.push(Vt);return Jt},Ct=function(It){for(var Vt,zt=It===H,Jt=a(zt?L:et(It)),ut=[],ht=0;Jt.length>ht;)!k(R,Vt=Jt[ht++])||zt&&!k(H,Vt)||ut.push(R[Vt]);return ut};rt||(E((c=function(){if(this instanceof c)throw TypeError("Symbol is not a constructor!");var It=B(arguments.length>0?arguments[0]:void 0),Vt=function(zt){this===H&&Vt.call(L,zt),k(this,g)&&k(this[g],It)&&(this[g][It]=!1),bt(this,It,$(1,zt))};return j&&pt&&bt(H,It,{configurable:!0,set:Vt}),gt(It)}).prototype,"toString",function(){return this._k}),kt.f=_t,p.f=M,y("kJMx").f=mt.f=Et,y("UqcF").f=dt,y("JiEa").f=Ct,j&&!y("LQAc")&&E(H,"propertyIsEnumerable",dt,!0),it.f=function(It){return gt(Q(It))}),A(A.G+A.W+A.F*!rt,{Symbol:c});for(var Ot="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Xt=0;Ot.length>Xt;)Q(Ot[Xt++]);for(var Ht=u(Q.store),Kt=0;Ht.length>Kt;)Y(Ht[Kt++]);A(A.S+A.F*!rt,"Symbol",{for:function(It){return k(x,It+="")?x[It]:x[It]=c(It)},keyFor:function(It){if(!I(It))throw TypeError(It+" is not a symbol!");for(var Vt in x)if(x[Vt]===It)return Vt},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),A(A.S+A.F*!rt,"Object",{create:function(It,Vt){return Vt===void 0?C(It):W(C(It),Vt)},defineProperty:M,defineProperties:W,getOwnPropertyDescriptor:_t,getOwnPropertyNames:Et,getOwnPropertySymbols:Ct}),m&&A(A.S+A.F*(!rt||z(function(){var It=c();return v([It])!="[null]"||v({a:It})!="{}"||v(Object(It))!="{}"})),"JSON",{stringify:function(It){for(var Vt,zt,Jt=[It],ut=1;arguments.length>ut;)Jt.push(arguments[ut++]);if(zt=Vt=Jt[1],(ot(Vt)||It!==void 0)&&!I(It))return nt(Vt)||(Vt=function(ht,Ft){if(typeof zt=="function"&&(Ft=zt.call(this,ht,Ft)),!I(Ft))return Ft}),Jt[1]=Vt,v.apply(m,Jt)}}),c.prototype[b]||y("Mukb")(c.prototype,b,c.prototype.valueOf),G(c,"Symbol"),G(Math,"Math",!0),G(O.JSON,"JSON",!0)},jqX0:function(V,q,y){var O=y("XKFU"),k=y("jtBr");O(O.P+O.F*(Date.prototype.toISOString!==k),"Date",{toISOString:k})},jtBr:function(V,q,y){"use strict";var O=y("eeVq"),k=Date.prototype.getTime,j=Date.prototype.toISOString,A=function(E){return E>9?E:"0"+E};V.exports=O(function(){return j.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!O(function(){j.call(new Date(NaN))})?function(){if(!isFinite(k.call(this)))throw RangeError("Invalid time value");var E=this,X=E.getUTCFullYear(),z=E.getUTCMilliseconds(),N=X<0?"-":X>9999?"+":"";return N+("00000"+Math.abs(X)).slice(N?-6:-4)+"-"+A(E.getUTCMonth()+1)+"-"+A(E.getUTCDate())+"T"+A(E.getUTCHours())+":"+A(E.getUTCMinutes())+":"+A(E.getUTCSeconds())+"."+(z>99?z:"0"+A(z))+"Z"}:j},kJMx:function(V,q,y){var O=y("zhAb"),k=y("4R4u").concat("length","prototype");q.f=Object.getOwnPropertyNames||function(j){return O(j,k)}},kcoS:function(V,q,y){var O=y("lvtm"),k=Math.pow,j=k(2,-52),A=k(2,-23),E=k(2,127)*(2-A),X=k(2,-126);V.exports=Math.fround||function(z){var N,G,B=Math.abs(z),Q=O(z);return B<X?Q*(B/X/A+1/j-1/j)*X*A:(G=(N=(1+A/j)*B)-(N-B))>E||G!=G?Q*(1/0):Q*G}},knhD:function(V,q,y){var O=y("XKFU");O(O.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},l0Rn:function(V,q,y){"use strict";var O=y("RYi7"),k=y("vhPU");V.exports=function(j){var A=String(k(this)),E="",X=O(j);if(X<0||X==1/0)throw RangeError("Count can't be negative");for(;X>0;(X>>>=1)&&(A+=A))1&X&&(E+=A);return E}},lvtm:function(V,q){V.exports=Math.sign||function(y){return(y=+y)==0||y!=y?y:y<0?-1:1}},m0Pp:function(V,q,y){var O=y("2OiF");V.exports=function(k,j,A){if(O(k),j===void 0)return k;switch(A){case 1:return function(E){return k.call(j,E)};case 2:return function(E,X){return k.call(j,E,X)};case 3:return function(E,X,z){return k.call(j,E,X,z)}}return function(){return k.apply(j,arguments)}}},mGWK:function(V,q,y){"use strict";var O=y("XKFU"),k=y("aCFj"),j=y("RYi7"),A=y("ne8i"),E=[].lastIndexOf,X=!!E&&1/[1].lastIndexOf(1,-0)<0;O(O.P+O.F*(X||!y("LyE8")(E)),"Array",{lastIndexOf:function(z){if(X)return E.apply(this,arguments)||0;var N=k(this),G=A(N.length),B=G-1;for(arguments.length>1&&(B=Math.min(B,j(arguments[1]))),B<0&&(B=G+B);B>=0;B--)if(B in N&&N[B]===z)return B||0;return-1}})},mYba:function(V,q,y){var O=y("aCFj"),k=y("EemH").f;y("Xtr8")("getOwnPropertyDescriptor",function(){return function(j,A){return k(O(j),A)}})},mura:function(V,q,y){var O=y("0/R4"),k=y("Z6vF").onFreeze;y("Xtr8")("preventExtensions",function(j){return function(A){return j&&O(A)?j(k(A)):A}})},nBIS:function(V,q,y){var O=y("0/R4"),k=Math.floor;V.exports=function(j){return!O(j)&&isFinite(j)&&k(j)===j}},nGyu:function(V,q,y){var O=y("K0xU")("unscopables"),k=Array.prototype;k[O]==null&&y("Mukb")(k,O,{}),V.exports=function(j){k[O][j]=!0}},nIY7:function(V,q,y){"use strict";y("OGtf")("big",function(O){return function(){return O(this,"big","","")}})},ne8i:function(V,q,y){var O=y("RYi7"),k=Math.min;V.exports=function(j){return j>0?k(O(j),9007199254740991):0}},nh4g:function(V,q,y){V.exports=!y("eeVq")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},nsiH:function(V,q,y){"use strict";y("OGtf")("fontsize",function(O){return function(k){return O(this,"font","size",k)}})},nx1v:function(V,q,y){y("eM6i"),y("AphP"),y("jqX0"),y("h7Nl"),y("yM4b"),V.exports=Date},nzyx:function(V,q,y){var O=y("XKFU"),k=y("LVwc");O(O.S+O.F*(k!=Math.expm1),"Math",{expm1:k})},oDIu:function(V,q,y){"use strict";var O=y("XKFU"),k=y("AvRE")(!1);O(O.P,"String",{codePointAt:function(j){return k(this,j)}})},"oka+":function(V,q,y){y("GNAe"),V.exports=y("g3g5").parseInt},pIFo:function(V,q,y){"use strict";var O=y("y3w9"),k=y("S/j/"),j=y("ne8i"),A=y("RYi7"),E=y("A5AN"),X=y("Xxuz"),z=Math.max,N=Math.min,G=Math.floor,B=/\$([$&`']|\d\d?|<[^>]*>)/g,Q=/\$([$&`']|\d\d?)/g;y("IU+Z")("replace",2,function(it,Y,tt,nt){return[function(ot,et){var ft=it(this),$=ot?.[Y];return $!==void 0?$.call(ot,ft,et):tt.call(String(ft),ot,et)},function(ot,et){var ft=nt(tt,ot,this,et);if(ft.done)return ft.value;var $=O(ot),C=String(this),mt=typeof et=="function";mt||(et=String(et));var kt=$.global;if(kt){var p=$.unicode;$.lastIndex=0}for(var u=[];;){var h=X($,C);if(h===null||(u.push(h),!kt))break;String(h[0])===""&&($.lastIndex=E(C,j($.lastIndex),p))}for(var l,a="",c=0,m=0;m<u.length;m++){h=u[m];for(var v=String(h[0]),g=z(N(A(h.index),C.length),0),b=[],w=1;w<h.length;w++)b.push((l=h[w])===void 0?l:String(l));var x=h.groups;if(mt){var R=[v].concat(b,g,C);x!==void 0&&R.push(x);var L=String(et.apply(void 0,R))}else L=Z(v,C,g,b,x,et);g>=c&&(a+=C.slice(c,g)+L,c=g+v.length)}return a+C.slice(c)}];function Z(ot,et,ft,$,C,mt){var kt=ft+ot.length,p=$.length,u=Q;return C!==void 0&&(C=k(C),u=B),tt.call(mt,u,function(h,l){var a;switch(l.charAt(0)){case"$":return"$";case"&":return ot;case"`":return et.slice(0,ft);case"'":return et.slice(kt);case"<":a=C[l.slice(1,-1)];break;default:var c=+l;if(c===0)return h;if(c>p){var m=G(c/10);return m===0?h:m<=p?$[m-1]===void 0?l.charAt(1):$[m-1]+l.charAt(1):h}a=$[c-1]}return a===void 0?"":a})}})},"pp/T":function(V,q,y){var O=y("XKFU");O(O.S,"Math",{log2:function(k){return Math.log(k)/Math.LN2}})},qKs0:function(V,q,y){y("Btvt"),y("XfO3"),y("rGqo"),y("9AAn"),V.exports=y("g3g5").Map},qncB:function(V,q,y){var O=y("XKFU"),k=y("vhPU"),j=y("eeVq"),A=y("/e88"),E="["+A+"]",X=RegExp("^"+E+E+"*"),z=RegExp(E+E+"*$"),N=function(B,Q,it){var Y={},tt=j(function(){return!!A[B]()||"\u200B\x85"[B]()!="\u200B\x85"}),nt=Y[B]=tt?Q(G):A[B];it&&(Y[it]=nt),O(O.P+O.F*tt,"String",Y)},G=N.trim=function(B,Q){return B=String(k(B)),1&Q&&(B=B.replace(X,"")),2&Q&&(B=B.replace(z,"")),B};V.exports=N},quPj:function(V,q,y){var O=y("0/R4"),k=y("LZWt"),j=y("K0xU")("match");V.exports=function(A){var E;return O(A)&&((E=A[j])!==void 0?!!E:k(A)=="RegExp")}},rGqo:function(V,q,y){for(var O=y("yt8O"),k=y("DVgA"),j=y("KroJ"),A=y("dyZX"),E=y("Mukb"),X=y("hPIQ"),z=y("K0xU"),N=z("iterator"),G=z("toStringTag"),B=X.Array,Q={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},it=k(Q),Y=0;Y<it.length;Y++){var tt,nt=it[Y],Z=Q[nt],ot=A[nt],et=ot&&ot.prototype;if(et&&(et[N]||E(et,N,B),et[G]||E(et,G,nt),X[nt]=B,Z))for(tt in O)et[tt]||j(et,tt,O[tt],!0)}},rfyP:function(V,q,y){y("Oyvg"),y("sMXx"),y("a1Th"),y("OEbY"),y("SRfc"),y("pIFo"),y("OG14"),y("KKXr"),V.exports=y("g3g5").RegExp},rvZc:function(V,q,y){"use strict";var O=y("XKFU"),k=y("ne8i"),j=y("0sh+"),A="".endsWith;O(O.P+O.F*y("UUeW")("endsWith"),"String",{endsWith:function(E){var X=j(this,E,"endsWith"),z=arguments.length>1?arguments[1]:void 0,N=k(X.length),G=z===void 0?N:Math.min(k(z),N),B=String(E);return A?A.call(X,B,G):X.slice(G-B.length,G)===B}})},s5qY:function(V,q,y){var O=y("0/R4");V.exports=function(k,j){if(!O(k)||k._t!==j)throw TypeError("Incompatible receiver, "+j+" required!");return k}},sMXx:function(V,q,y){"use strict";var O=y("Ugos");y("XKFU")({target:"RegExp",proto:!0,forced:O!==/./.exec},{exec:O})},sbF8:function(V,q,y){var O=y("XKFU"),k=y("nBIS"),j=Math.abs;O(O.S,"Number",{isSafeInteger:function(A){return k(A)&&j(A)<=9007199254740991}})},tUrg:function(V,q,y){"use strict";y("OGtf")("link",function(O){return function(k){return O(this,"a","href",k)}})},"tyy+":function(V,q,y){var O=y("XKFU"),k=y("11IZ");O(O.G+O.F*(parseFloat!=k),{parseFloat:k})},upKx:function(V,q,y){"use strict";var O=y("S/j/"),k=y("d/Gc"),j=y("ne8i");V.exports=[].copyWithin||function(A,E){var X=O(this),z=j(X.length),N=k(A,z),G=k(E,z),B=arguments.length>2?arguments[2]:void 0,Q=Math.min((B===void 0?z:k(B,z))-G,z-N),it=1;for(G<N&&N<G+Q&&(it=-1,G+=Q-1,N+=Q-1);Q-- >0;)G in X?X[N]=X[G]:delete X[N],N+=it,G+=it;return X}},vhPU:function(V,q){V.exports=function(y){if(y==null)throw TypeError("Can't call method on  "+y);return y}},vqGA:function(V,q,y){y("ioFf"),y("Btvt"),V.exports=y("g3g5").Symbol},vvmO:function(V,q,y){var O=y("LZWt");V.exports=function(k,j){if(typeof k!="number"&&O(k)!="Number")throw TypeError(j);return+k}},w2a5:function(V,q,y){var O=y("aCFj"),k=y("ne8i"),j=y("d/Gc");V.exports=function(A){return function(E,X,z){var N,G=O(E),B=k(G.length),Q=j(z,B);if(A&&X!=X){for(;B>Q;)if((N=G[Q++])!=N)return!0}else for(;B>Q;Q++)if((A||Q in G)&&G[Q]===X)return A||Q||0;return!A&&-1}}},wmvG:function(V,q,y){"use strict";var O=y("hswa").f,k=y("Kuth"),j=y("3Lyj"),A=y("m0Pp"),E=y("9gX7"),X=y("SlkY"),z=y("Afnz"),N=y("1TsA"),G=y("elZq"),B=y("nh4g"),Q=y("Z6vF").fastKey,it=y("s5qY"),Y=B?"_s":"size",tt=function(nt,Z){var ot,et=Q(Z);if(et!=="F")return nt._i[et];for(ot=nt._f;ot;ot=ot.n)if(ot.k==Z)return ot};V.exports={getConstructor:function(nt,Z,ot,et){var ft=nt(function($,C){E($,ft,Z,"_i"),$._t=Z,$._i=k(null),$._f=void 0,$._l=void 0,$[Y]=0,C!=null&&X(C,ot,$[et],$)});return j(ft.prototype,{clear:function(){for(var $=it(this,Z),C=$._i,mt=$._f;mt;mt=mt.n)mt.r=!0,mt.p&&(mt.p=mt.p.n=void 0),delete C[mt.i];$._f=$._l=void 0,$[Y]=0},delete:function($){var C=it(this,Z),mt=tt(C,$);if(mt){var kt=mt.n,p=mt.p;delete C._i[mt.i],mt.r=!0,p&&(p.n=kt),kt&&(kt.p=p),C._f==mt&&(C._f=kt),C._l==mt&&(C._l=p),C[Y]--}return!!mt},forEach:function($){it(this,Z);for(var C,mt=A($,arguments.length>1?arguments[1]:void 0,3);C=C?C.n:this._f;)for(mt(C.v,C.k,this);C&&C.r;)C=C.p},has:function($){return!!tt(it(this,Z),$)}}),B&&O(ft.prototype,"size",{get:function(){return it(this,Z)[Y]}}),ft},def:function(nt,Z,ot){var et,ft,$=tt(nt,Z);return $?$.v=ot:(nt._l=$={i:ft=Q(Z,!0),k:Z,v:ot,p:et=nt._l,n:void 0,r:!1},nt._f||(nt._f=$),et&&(et.n=$),nt[Y]++,ft!=="F"&&(nt._i[ft]=$)),nt},getEntry:tt,setStrong:function(nt,Z,ot){z(nt,Z,function(et,ft){this._t=it(et,Z),this._k=ft,this._l=void 0},function(){for(var et=this._k,ft=this._l;ft&&ft.r;)ft=ft.p;return this._t&&(this._l=ft=ft?ft.n:this._t._f)?N(0,et=="keys"?ft.k:et=="values"?ft.v:[ft.k,ft.v]):(this._t=void 0,N(1))},ot?"entries":"values",!ot,!0),G(Z)}}},x8Yj:function(V,q,y){var O=y("XKFU"),k=y("LVwc"),j=Math.exp;O(O.S,"Math",{tanh:function(A){var E=k(A=+A),X=k(-A);return E==1/0?1:X==1/0?-1:(E-X)/(j(A)+j(-A))}})},x8ZO:function(V,q,y){var O=y("XKFU"),k=Math.abs;O(O.S,"Math",{hypot:function(j,A){for(var E,X,z=0,N=0,G=arguments.length,B=0;N<G;)B<(E=k(arguments[N++]))?(z=z*(X=B/E)*X+1,B=E):z+=E>0?(X=E/B)*X:E;return B===1/0?1/0:B*Math.sqrt(z)}})},xfY5:function(V,q,y){"use strict";var O=y("dyZX"),k=y("aagx"),j=y("LZWt"),A=y("Xbzi"),E=y("apmT"),X=y("eeVq"),z=y("kJMx").f,N=y("EemH").f,G=y("hswa").f,B=y("qncB").trim,Q=O.Number,it=Q,Y=Q.prototype,tt=j(y("Kuth")(Y))=="Number",nt="trim"in String.prototype,Z=function($){var C=E($,!1);if(typeof C=="string"&&C.length>2){var mt,kt,p,u=(C=nt?C.trim():B(C,3)).charCodeAt(0);if(u===43||u===45){if((mt=C.charCodeAt(2))===88||mt===120)return NaN}else if(u===48){switch(C.charCodeAt(1)){case 66:case 98:kt=2,p=49;break;case 79:case 111:kt=8,p=55;break;default:return+C}for(var h,l=C.slice(2),a=0,c=l.length;a<c;a++)if((h=l.charCodeAt(a))<48||h>p)return NaN;return parseInt(l,kt)}}return+C};if(!Q(" 0o1")||!Q("0b1")||Q("+0x1")){Q=function($){var C=arguments.length<1?0:$,mt=this;return mt instanceof Q&&(tt?X(function(){Y.valueOf.call(mt)}):j(mt)!="Number")?A(new it(Z(C)),mt,Q):Z(C)};for(var ot,et=y("nh4g")?z(it):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ft=0;et.length>ft;ft++)k(it,ot=et[ft])&&!k(Q,ot)&&G(Q,ot,N(it,ot));Q.prototype=Y,Y.constructor=Q,y("KroJ")(O,"Number",Q)}},xpql:function(V,q,y){V.exports=!y("nh4g")&&!y("eeVq")(function(){return Object.defineProperty(y("Iw71")("div"),"a",{get:function(){return 7}}).a!=7})},y3w9:function(V,q,y){var O=y("0/R4");V.exports=function(k){if(!O(k))throw TypeError(k+" is not an object!");return k}},yM4b:function(V,q,y){var O=y("K0xU")("toPrimitive"),k=Date.prototype;O in k||y("Mukb")(k,O,y("g4EE"))},ylqs:function(V,q){var y=0,O=Math.random();V.exports=function(k){return"Symbol(".concat(k===void 0?"":k,")_",(++y+O).toString(36))}},yt8O:function(V,q,y){"use strict";var O=y("nGyu"),k=y("1TsA"),j=y("hPIQ"),A=y("aCFj");V.exports=y("Afnz")(Array,"Array",function(E,X){this._t=A(E),this._i=0,this._k=X},function(){var E=this._t,X=this._k,z=this._i++;return!E||z>=E.length?(this._t=void 0,k(1)):k(0,X=="keys"?z:X=="values"?E[z]:[z,E[z]])},"values"),j.Arguments=j.Array,O("keys"),O("values"),O("entries")},z2o2:function(V,q,y){var O=y("0/R4"),k=y("Z6vF").onFreeze;y("Xtr8")("seal",function(j){return function(A){return j&&O(A)?j(k(A)):A}})},zRwo:function(V,q,y){var O=y("6FMO");V.exports=function(k,j){return new(O(k))(j)}},zhAb:function(V,q,y){var O=y("aagx"),k=y("aCFj"),j=y("w2a5")(!1),A=y("YTvA")("IE_PROTO");V.exports=function(E,X){var z,N=k(E),G=0,B=[];for(z in N)z!=A&&O(N,z)&&B.push(z);for(;X.length>G;)O(N,z=X[G++])&&(~j(B,z)||B.push(z));return B}}},[[5,0]]]),(window.editorPixieWebpackJsonp=window.editorPixieWebpackJsonp||[]).push([[1],{0:function(V,q,y){V.exports=y("zUnb")},1:function(V,q){},2:function(V,q){},"2yAJ":function(V,q){function y(Y,tt){var nt=(65535&Y)+(65535&tt);return(Y>>16)+(tt>>16)+(nt>>16)<<16|65535&nt}function O(Y,tt,nt,Z,ot,et){return y((ft=y(y(tt,Y),y(Z,et)))<<($=ot)|ft>>>32-$,nt);var ft,$}function k(Y,tt,nt,Z,ot,et,ft){return O(tt&nt|~tt&Z,Y,tt,ot,et,ft)}function j(Y,tt,nt,Z,ot,et,ft){return O(tt&Z|nt&~Z,Y,tt,ot,et,ft)}function A(Y,tt,nt,Z,ot,et,ft){return O(tt^nt^Z,Y,tt,ot,et,ft)}function E(Y,tt,nt,Z,ot,et,ft){return O(nt^(tt|~Z),Y,tt,ot,et,ft)}function X(Y,tt){var nt,Z,ot,et,ft;Y[tt>>5]|=128<<tt%32,Y[14+(tt+64>>>9<<4)]=tt;var $=1732584193,C=-271733879,mt=-1732584194,kt=271733878;for(nt=0;nt<Y.length;nt+=16)Z=$,ot=C,et=mt,ft=kt,$=k($,C,mt,kt,Y[nt],7,-680876936),kt=k(kt,$,C,mt,Y[nt+1],12,-389564586),mt=k(mt,kt,$,C,Y[nt+2],17,606105819),C=k(C,mt,kt,$,Y[nt+3],22,-1044525330),$=k($,C,mt,kt,Y[nt+4],7,-176418897),kt=k(kt,$,C,mt,Y[nt+5],12,1200080426),mt=k(mt,kt,$,C,Y[nt+6],17,-1473231341),C=k(C,mt,kt,$,Y[nt+7],22,-45705983),$=k($,C,mt,kt,Y[nt+8],7,1770035416),kt=k(kt,$,C,mt,Y[nt+9],12,-1958414417),mt=k(mt,kt,$,C,Y[nt+10],17,-42063),C=k(C,mt,kt,$,Y[nt+11],22,-1990404162),$=k($,C,mt,kt,Y[nt+12],7,1804603682),kt=k(kt,$,C,mt,Y[nt+13],12,-40341101),mt=k(mt,kt,$,C,Y[nt+14],17,-1502002290),$=j($,C=k(C,mt,kt,$,Y[nt+15],22,1236535329),mt,kt,Y[nt+1],5,-165796510),kt=j(kt,$,C,mt,Y[nt+6],9,-1069501632),mt=j(mt,kt,$,C,Y[nt+11],14,643717713),C=j(C,mt,kt,$,Y[nt],20,-373897302),$=j($,C,mt,kt,Y[nt+5],5,-701558691),kt=j(kt,$,C,mt,Y[nt+10],9,38016083),mt=j(mt,kt,$,C,Y[nt+15],14,-660478335),C=j(C,mt,kt,$,Y[nt+4],20,-405537848),$=j($,C,mt,kt,Y[nt+9],5,568446438),kt=j(kt,$,C,mt,Y[nt+14],9,-1019803690),mt=j(mt,kt,$,C,Y[nt+3],14,-187363961),C=j(C,mt,kt,$,Y[nt+8],20,1163531501),$=j($,C,mt,kt,Y[nt+13],5,-1444681467),kt=j(kt,$,C,mt,Y[nt+2],9,-51403784),mt=j(mt,kt,$,C,Y[nt+7],14,1735328473),$=A($,C=j(C,mt,kt,$,Y[nt+12],20,-1926607734),mt,kt,Y[nt+5],4,-378558),kt=A(kt,$,C,mt,Y[nt+8],11,-2022574463),mt=A(mt,kt,$,C,Y[nt+11],16,1839030562),C=A(C,mt,kt,$,Y[nt+14],23,-35309556),$=A($,C,mt,kt,Y[nt+1],4,-1530992060),kt=A(kt,$,C,mt,Y[nt+4],11,1272893353),mt=A(mt,kt,$,C,Y[nt+7],16,-155497632),C=A(C,mt,kt,$,Y[nt+10],23,-1094730640),$=A($,C,mt,kt,Y[nt+13],4,681279174),kt=A(kt,$,C,mt,Y[nt],11,-358537222),mt=A(mt,kt,$,C,Y[nt+3],16,-722521979),C=A(C,mt,kt,$,Y[nt+6],23,76029189),$=A($,C,mt,kt,Y[nt+9],4,-640364487),kt=A(kt,$,C,mt,Y[nt+12],11,-421815835),mt=A(mt,kt,$,C,Y[nt+15],16,530742520),$=E($,C=A(C,mt,kt,$,Y[nt+2],23,-995338651),mt,kt,Y[nt],6,-198630844),kt=E(kt,$,C,mt,Y[nt+7],10,1126891415),mt=E(mt,kt,$,C,Y[nt+14],15,-1416354905),C=E(C,mt,kt,$,Y[nt+5],21,-57434055),$=E($,C,mt,kt,Y[nt+12],6,1700485571),kt=E(kt,$,C,mt,Y[nt+3],10,-1894986606),mt=E(mt,kt,$,C,Y[nt+10],15,-1051523),C=E(C,mt,kt,$,Y[nt+1],21,-2054922799),$=E($,C,mt,kt,Y[nt+8],6,1873313359),kt=E(kt,$,C,mt,Y[nt+15],10,-30611744),mt=E(mt,kt,$,C,Y[nt+6],15,-1560198380),C=E(C,mt,kt,$,Y[nt+13],21,1309151649),$=E($,C,mt,kt,Y[nt+4],6,-145523070),kt=E(kt,$,C,mt,Y[nt+11],10,-1120210379),mt=E(mt,kt,$,C,Y[nt+2],15,718787259),C=E(C,mt,kt,$,Y[nt+9],21,-343485551),$=y($,Z),C=y(C,ot),mt=y(mt,et),kt=y(kt,ft);return[$,C,mt,kt]}function z(Y){var tt,nt="",Z=32*Y.length;for(tt=0;tt<Z;tt+=8)nt+=String.fromCharCode(Y[tt>>5]>>>tt%32&255);return nt}function N(Y){var tt,nt=[];for(nt[(Y.length>>2)-1]=void 0,tt=0;tt<nt.length;tt+=1)nt[tt]=0;var Z=8*Y.length;for(tt=0;tt<Z;tt+=8)nt[tt>>5]|=(255&Y.charCodeAt(tt/8))<<tt%32;return nt}function G(Y){var tt,nt,Z="";for(nt=0;nt<Y.length;nt+=1)tt=Y.charCodeAt(nt),Z+="0123456789abcdef".charAt(tt>>>4&15)+"0123456789abcdef".charAt(15&tt);return Z}function B(Y){return unescape(encodeURIComponent(Y))}function Q(Y){return function(tt){return z(X(N(tt),8*tt.length))}(B(Y))}function it(Y,tt){return function(nt,Z){var ot,et,ft=N(nt),$=[],C=[];for($[15]=C[15]=void 0,ft.length>16&&(ft=X(ft,8*nt.length)),ot=0;ot<16;ot+=1)$[ot]=909522486^ft[ot],C[ot]=1549556828^ft[ot];return et=X($.concat(N(Z)),512+8*Z.length),z(X(C.concat(et),640))}(B(Y),B(tt))}V.exports=function(Y,tt,nt){return tt?nt?it(tt,Y):G(it(tt,Y)):nt?Q(Y):G(Q(Y))}},3:function(V,q){},4:function(V,q){},"4af/":function(V,q,y){var O=y("vYjF"),k={collectWindowErrors:!0,debug:!1},j=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A=[].slice,E="?",X=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function z(){return typeof document>"u"||document.location==null?"":document.location.href}k.report=function(){var N,G,B=[],Q=null,it=null,Y=null;function tt(et,ft){var $=null;if(!ft||k.collectWindowErrors){for(var C in B)if(B.hasOwnProperty(C))try{B[C].apply(null,[et].concat(A.call(arguments,2)))}catch(mt){$=mt}if($)throw $}}function nt(et,ft,$,C,mt){var kt=O.isErrorEvent(mt)?mt.error:mt,p=O.isErrorEvent(et)?et.message:et;if(Y)k.computeStackTrace.augmentStackTraceWithInitialElement(Y,ft,$,p),Z();else if(kt&&O.isError(kt))tt(k.computeStackTrace(kt),!0);else{var u,h={url:ft,line:$,column:C},l=void 0;({}).toString.call(p)==="[object String]"&&(u=p.match(X))&&(l=u[1],p=u[2]),h.func=E,tt({name:l,message:p,url:z(),stack:[h]},!0)}return!!N&&N.apply(this,arguments)}function Z(){var et=Y,ft=Q;Q=null,Y=null,it=null,tt.apply(null,[et,!1].concat(ft))}function ot(et,ft){var $=A.call(arguments,1);if(Y){if(it===et)return;Z()}var C=k.computeStackTrace(et);if(Y=C,it=et,Q=$,setTimeout(function(){it===et&&Z()},C.incomplete?2e3:0),ft!==!1)throw et}return ot.subscribe=function(et){G||(N=j.onerror,j.onerror=nt,G=!0),B.push(et)},ot.unsubscribe=function(et){for(var ft=B.length-1;ft>=0;--ft)B[ft]===et&&B.splice(ft,1)},ot.uninstall=function(){G&&(j.onerror=N,G=!1,N=void 0),B=[]},ot}(),k.computeStackTrace=function(){function N(it){if(it.stack!==void 0&&it.stack){for(var Y,tt,nt,Z=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ot=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,et=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ft=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$=/\((\S*)(?::(\d+))(?::(\d+))\)/,C=it.stack.split(`
`),mt=[],kt=(/^(.*) is undefined$/.exec(it.message),0),p=C.length;kt<p;++kt){if(tt=Z.exec(C[kt])){var u=tt[2]&&tt[2].indexOf("native")===0;tt[2]&&tt[2].indexOf("eval")===0&&(Y=$.exec(tt[2]))&&(tt[2]=Y[1],tt[3]=Y[2],tt[4]=Y[3]),nt={url:u?null:tt[2],func:tt[1]||E,args:u?[tt[2]]:[],line:tt[3]?+tt[3]:null,column:tt[4]?+tt[4]:null}}else if(tt=ot.exec(C[kt]))nt={url:tt[2],func:tt[1]||E,args:[],line:+tt[3],column:tt[4]?+tt[4]:null};else{if(!(tt=et.exec(C[kt])))continue;tt[3]&&tt[3].indexOf(" > eval")>-1&&(Y=ft.exec(tt[3]))?(tt[3]=Y[1],tt[4]=Y[2],tt[5]=null):kt!==0||tt[5]||it.columnNumber===void 0||(mt[0].column=it.columnNumber+1),nt={url:tt[3],func:tt[1]||E,args:tt[2]?tt[2].split(","):[],line:tt[4]?+tt[4]:null,column:tt[5]?+tt[5]:null}}if(!nt.func&&nt.line&&(nt.func=E),nt.url&&nt.url.substr(0,5)==="blob:"){var h=new XMLHttpRequest;if(h.open("GET",nt.url,!1),h.send(null),h.status===200){var l=h.responseText||"",a=(l=l.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(a){var c=a[1];c.charAt(0)==="~"&&(c=(typeof document>"u"||document.location==null?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+c.slice(1)),nt.url=c.slice(0,-4)}}}mt.push(nt)}return mt.length?{name:it.name,message:it.message,url:z(),stack:mt}:null}}function G(it,Y,tt,nt){var Z={url:Y,line:tt};if(Z.url&&Z.line){if(it.incomplete=!1,Z.func||(Z.func=E),it.stack.length>0&&it.stack[0].url===Z.url){if(it.stack[0].line===Z.line)return!1;if(!it.stack[0].line&&it.stack[0].func===Z.func)return it.stack[0].line=Z.line,!1}return it.stack.unshift(Z),it.partial=!0,!0}return it.incomplete=!0,!1}function B(it,Y){for(var tt,nt,Z=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,ot=[],et={},ft=!1,$=B.caller;$&&!ft;$=$.caller)if($!==Q&&$!==k.report){if(nt={url:null,func:E,line:null,column:null},$.name?nt.func=$.name:(tt=Z.exec($.toString()))&&(nt.func=tt[1]),nt.func===void 0)try{nt.func=tt.input.substring(0,tt.input.indexOf("{"))}catch{}et[""+$]?ft=!0:et[""+$]=!0,ot.push(nt)}Y&&ot.splice(0,Y);var C={name:it.name,message:it.message,url:z(),stack:ot};return G(C,it.sourceURL||it.fileName,it.line||it.lineNumber),C}function Q(it,Y){var tt=null;Y=Y==null?0:+Y;try{if(tt=N(it))return tt}catch(nt){if(k.debug)throw nt}try{if(tt=B(it,Y+1))return tt}catch(nt){if(k.debug)throw nt}return{name:it.name,message:it.message,url:z()}}return Q.augmentStackTraceWithInitialElement=G,Q.computeStackTraceFromStackProp=N,Q}(),V.exports=k},AKyF:function(V,q,y){var O=y("vYjF");V.exports={wrapMethod:function(k,j,A){var E=k[j],X=k;if(j in k){var z=j==="warn"?"warning":j;k[j]=function(){var N=[].slice.call(arguments),G=O.safeJoin(N," "),B={level:z,logger:"console",extra:{arguments:N}};j==="assert"?N[0]===!1&&(G="Assertion failed: "+(O.safeJoin(N.slice(1)," ")||"console.assert"),B.extra.arguments=N.slice(1),A&&A(G,B)):A&&A(G,B),E&&Function.prototype.apply.call(E,X,N)}}}}},Aqzh:function(V,q,y){V.exports=function(){"use strict";var O=function(X){return function(z){return!!z&&typeof z=="object"}(X)&&!function(z){var N=Object.prototype.toString.call(z);return N==="[object RegExp]"||N==="[object Date]"||function(G){return G.$$typeof===k}(z)}(X)},k=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function j(X,z){return z.clone!==!1&&z.isMergeableObject(X)?E(Array.isArray(X)?[]:{},X,z):X}function A(X,z,N){return X.concat(z).map(function(G){return j(G,N)})}function E(X,z,N){(N=N||{}).arrayMerge=N.arrayMerge||A,N.isMergeableObject=N.isMergeableObject||O;var G=Array.isArray(z);return G===Array.isArray(X)?G?N.arrayMerge(X,z,N):function(B,Q,it){var Y={};return it.isMergeableObject(B)&&Object.keys(B).forEach(function(tt){Y[tt]=j(B[tt],it)}),Object.keys(Q).forEach(function(tt){Y[tt]=it.isMergeableObject(Q[tt])&&B[tt]?E(B[tt],Q[tt],it):j(Q[tt],it)}),Y}(X,z,N):j(z,N)}return E.all=function(X,z){if(!Array.isArray(X))throw new Error("first argument should be an array");return X.reduce(function(N,G){return E(N,G,z)},{})},E}()},BjAV:function(V,q){function y(k,j){for(var A=0;A<k.length;++A)if(k[A]===j)return A;return-1}function O(k,j){var A=[],E=[];return j==null&&(j=function(X,z){return A[0]===z?"[Circular ~]":"[Circular ~."+E.slice(0,y(A,z)).join(".")+"]"}),function(X,z){if(A.length>0){var N=y(A,this);~N?A.splice(N+1):A.push(this),~N?E.splice(N,1/0,X):E.push(X),~y(A,z)&&(z=j.call(this,X,z))}else A.push(z);return k==null?z instanceof Error?function(G){var B={stack:G.stack,message:G.message,name:G.name};for(var Q in G)Object.prototype.hasOwnProperty.call(G,Q)&&(B[Q]=G[Q]);return B}(z):z:k.call(this,X,z)}}(V.exports=function(k,j,A,E){return JSON.stringify(k,O(j,E),A)}).getSerialize=O},Iab2:function(V,q,y){var O,k;(k=typeof(O=function(){"use strict";function j(N,G,B){var Q=new XMLHttpRequest;Q.open("GET",N),Q.responseType="blob",Q.onload=function(){z(Q.response,G,B)},Q.onerror=function(){console.error("could not download file")},Q.send()}function A(N){var G=new XMLHttpRequest;return G.open("HEAD",N,!1),G.send(),200<=G.status&&299>=G.status}function E(N){try{N.dispatchEvent(new MouseEvent("click"))}catch{var G=document.createEvent("MouseEvents");G.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),N.dispatchEvent(G)}}var X=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,z=X.saveAs||typeof window!="object"||window!==X?function(){}:"download"in HTMLAnchorElement.prototype?function(N,G,B){var Q=X.URL||X.webkitURL,it=document.createElement("a");it.download=G=G||N.name||"download",it.rel="noopener",typeof N=="string"?(it.href=N,it.origin===location.origin?E(it):A(it.href)?j(N,G,B):E(it,it.target="_blank")):(it.href=Q.createObjectURL(N),setTimeout(function(){Q.revokeObjectURL(it.href)},4e4),setTimeout(function(){E(it)},0))}:"msSaveOrOpenBlob"in navigator?function(N,G,B){if(G=G||N.name||"download",typeof N!="string")navigator.msSaveOrOpenBlob(function(it,Y){return Y===void 0?Y={autoBom:!1}:typeof Y!="object"&&(console.warn("Depricated: Expected third argument to be a object"),Y={autoBom:!Y}),Y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(it.type)?new Blob(["\uFEFF",it],{type:it.type}):it}(N,B),G);else if(A(N))j(N,G,B);else{var Q=document.createElement("a");Q.href=N,Q.target="_blank",setTimeout(function(){E(Q)})}}:function(N,G,B,Q){if((Q=Q||open("","_blank"))&&(Q.document.title=Q.document.body.innerText="downloading..."),typeof N=="string")return j(N,G,B);var it=N.type==="application/octet-stream",Y=/constructor/i.test(X.HTMLElement)||X.safari,tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((tt||it&&Y)&&typeof FileReader=="object"){var nt=new FileReader;nt.onloadend=function(){var et=nt.result;et=tt?et:et.replace(/^data:[^;]*;/,"data:attachment/file;"),Q?Q.location.href=et:location=et,Q=null},nt.readAsDataURL(N)}else{var Z=X.URL||X.webkitURL,ot=Z.createObjectURL(N);Q?Q.location=ot:location.href=ot,Q=null,setTimeout(function(){Z.revokeObjectURL(ot)},4e4)}};X.saveAs=z.saveAs=z,V.exports=z})=="function"?O.apply(q,[]):O)===void 0||(V.exports=k)},J9Y1:function(V,q,y){var O;(function(){function k(ut,ht,Ft){return ut.call.apply(ut.bind,arguments)}function j(ut,ht,Ft){if(!ut)throw Error();if(2<arguments.length){var Mt=Array.prototype.slice.call(arguments,2);return function(){var Ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ut,Mt),ut.apply(ht,Ut)}}return function(){return ut.apply(ht,arguments)}}function A(ut,ht,Ft){return(A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:j).apply(null,arguments)}var E=Date.now||function(){return+new Date};function X(ut,ht){this.a=ut,this.o=ht||ut,this.c=this.o.document}var z=!!window.FontFace;function N(ut,ht,Ft,Mt){if(ht=ut.c.createElement(ht),Ft)for(var Ut in Ft)Ft.hasOwnProperty(Ut)&&(Ut=="style"?ht.style.cssText=Ft[Ut]:ht.setAttribute(Ut,Ft[Ut]));return Mt&&ht.appendChild(ut.c.createTextNode(Mt)),ht}function G(ut,ht,Ft){(ut=ut.c.getElementsByTagName(ht)[0])||(ut=document.documentElement),ut.insertBefore(Ft,ut.lastChild)}function B(ut){ut.parentNode&&ut.parentNode.removeChild(ut)}function Q(ut,ht,Ft){ht=ht||[],Ft=Ft||[];for(var Mt=ut.className.split(/\s+/),Ut=0;Ut<ht.length;Ut+=1){for(var ae=!1,se=0;se<Mt.length;se+=1)if(ht[Ut]===Mt[se]){ae=!0;break}ae||Mt.push(ht[Ut])}for(ht=[],Ut=0;Ut<Mt.length;Ut+=1){for(ae=!1,se=0;se<Ft.length;se+=1)if(Mt[Ut]===Ft[se]){ae=!0;break}ae||ht.push(Mt[Ut])}ut.className=ht.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function it(ut,ht){for(var Ft=ut.className.split(/\s+/),Mt=0,Ut=Ft.length;Mt<Ut;Mt++)if(Ft[Mt]==ht)return!0;return!1}function Y(ut,ht,Ft){function Mt(){Ae&&Ut&&ae&&(Ae(se),Ae=null)}ht=N(ut,"link",{rel:"stylesheet",href:ht,media:"all"});var Ut=!1,ae=!0,se=null,Ae=Ft||null;z?(ht.onload=function(){Ut=!0,Mt()},ht.onerror=function(){Ut=!0,se=Error("Stylesheet failed to load"),Mt()}):setTimeout(function(){Ut=!0,Mt()},0),G(ut,"head",ht)}function tt(ut,ht,Ft,Mt){var Ut=ut.c.getElementsByTagName("head")[0];if(Ut){var ae=N(ut,"script",{src:ht}),se=!1;return ae.onload=ae.onreadystatechange=function(){se||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(se=!0,Ft&&Ft(null),ae.onload=ae.onreadystatechange=null,ae.parentNode.tagName=="HEAD"&&Ut.removeChild(ae))},Ut.appendChild(ae),setTimeout(function(){se||(se=!0,Ft&&Ft(Error("Script load timeout")))},Mt||5e3),ae}return null}function nt(){this.a=0,this.c=null}function Z(ut){return ut.a++,function(){ut.a--,et(ut)}}function ot(ut,ht){ut.c=ht,et(ut)}function et(ut){ut.a==0&&ut.c&&(ut.c(),ut.c=null)}function ft(ut){this.a=ut||"-"}function $(ut,ht){this.c=ut,this.f=4,this.a="n";var Ft=(ht||"n4").match(/^([nio])([1-9])$/i);Ft&&(this.a=Ft[1],this.f=parseInt(Ft[2],10))}function C(ut){var ht=[];ut=ut.split(/,\s*/);for(var Ft=0;Ft<ut.length;Ft++){var Mt=ut[Ft].replace(/['"]/g,"");Mt.indexOf(" ")!=-1||/^\d/.test(Mt)?ht.push("'"+Mt+"'"):ht.push(Mt)}return ht.join(",")}function mt(ut){return ut.a+ut.f}function kt(ut){var ht="normal";return ut.a==="o"?ht="oblique":ut.a==="i"&&(ht="italic"),ht}function p(ut){var ht=4,Ft="n",Mt=null;return ut&&((Mt=ut.match(/(normal|oblique|italic)/i))&&Mt[1]&&(Ft=Mt[1].substr(0,1).toLowerCase()),(Mt=ut.match(/([1-9]00|normal|bold)/i))&&Mt[1]&&(/bold/i.test(Mt[1])?ht=7:/[1-9]00/.test(Mt[1])&&(ht=parseInt(Mt[1].substr(0,1),10)))),Ft+ht}function u(ut,ht){this.c=ut,this.f=ut.o.document.documentElement,this.h=ht,this.a=new ft("-"),this.j=ht.events!==!1,this.g=ht.classes!==!1}function h(ut){if(ut.g){var ht=it(ut.f,ut.a.c("wf","active")),Ft=[],Mt=[ut.a.c("wf","loading")];ht||Ft.push(ut.a.c("wf","inactive")),Q(ut.f,Ft,Mt)}l(ut,"inactive")}function l(ut,ht,Ft){ut.j&&ut.h[ht]&&(Ft?ut.h[ht](Ft.c,mt(Ft)):ut.h[ht]())}function a(){this.c={}}function c(ut,ht){this.c=ut,this.f=ht,this.a=N(this.c,"span",{"aria-hidden":"true"},this.f)}function m(ut){G(ut.c,"body",ut.a)}function v(ut){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+C(ut.c)+";font-style:"+kt(ut)+";font-weight:"+ut.f+"00;"}function g(ut,ht,Ft,Mt,Ut,ae){this.g=ut,this.j=ht,this.a=Mt,this.c=Ft,this.f=Ut||3e3,this.h=ae||void 0}function b(ut,ht,Ft,Mt,Ut,ae,se){this.v=ut,this.B=ht,this.c=Ft,this.a=Mt,this.s=se||"BESbswy",this.f={},this.w=Ut||3e3,this.u=ae||null,this.m=this.j=this.h=this.g=null,this.g=new c(this.c,this.s),this.h=new c(this.c,this.s),this.j=new c(this.c,this.s),this.m=new c(this.c,this.s),ut=v(ut=new $(this.a.c+",serif",mt(this.a))),this.g.a.style.cssText=ut,ut=v(ut=new $(this.a.c+",sans-serif",mt(this.a))),this.h.a.style.cssText=ut,ut=v(ut=new $("serif",mt(this.a))),this.j.a.style.cssText=ut,ut=v(ut=new $("sans-serif",mt(this.a))),this.m.a.style.cssText=ut,m(this.g),m(this.h),m(this.j),m(this.m)}ft.prototype.c=function(ut){for(var ht=[],Ft=0;Ft<arguments.length;Ft++)ht.push(arguments[Ft].replace(/[\W_]+/g,"").toLowerCase());return ht.join(this.a)},g.prototype.start=function(){var ut=this.c.o.document,ht=this,Ft=E(),Mt=new Promise(function(se,Ae){(function we(){E()-Ft>=ht.f?Ae():ut.fonts.load(function(be){return kt(be)+" "+be.f+"00 300px "+C(be.c)}(ht.a),ht.h).then(function(be){1<=be.length?se():setTimeout(we,25)},function(){Ae()})})()}),Ut=null,ae=new Promise(function(se,Ae){Ut=setTimeout(Ae,ht.f)});Promise.race([ae,Mt]).then(function(){Ut&&(clearTimeout(Ut),Ut=null),ht.g(ht.a)},function(){ht.j(ht.a)})};var w={D:"serif",C:"sans-serif"},x=null;function R(){if(x===null){var ut=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);x=!!ut&&(536>parseInt(ut[1],10)||parseInt(ut[1],10)===536&&11>=parseInt(ut[2],10))}return x}function L(ut,ht,Ft){for(var Mt in w)if(w.hasOwnProperty(Mt)&&ht===ut.f[w[Mt]]&&Ft===ut.f[w[Mt]])return!0;return!1}function H(ut,ht){setTimeout(A(function(){B(this.g.a),B(this.h.a),B(this.j.a),B(this.m.a),ht(this.a)},ut),0)}function rt(ut,ht,Ft){this.c=ut,this.a=ht,this.f=0,this.m=this.j=!1,this.s=Ft}b.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=E(),function ut(ht){var Ft,Mt=ht.g.a.offsetWidth,Ut=ht.h.a.offsetWidth;(Ft=Mt===ht.f.serif&&Ut===ht.f["sans-serif"])||(Ft=R()&&L(ht,Mt,Ut)),Ft?E()-ht.A>=ht.w?R()&&L(ht,Mt,Ut)&&(ht.u===null||ht.u.hasOwnProperty(ht.a.c))?H(ht,ht.v):H(ht,ht.B):function(ae){setTimeout(A(function(){ut(this)},ae),50)}(ht):H(ht,ht.v)}(this)};var at=null;function pt(ut){--ut.f==0&&ut.j&&(ut.m?((ut=ut.a).g&&Q(ut.f,[ut.a.c("wf","active")],[ut.a.c("wf","loading"),ut.a.c("wf","inactive")]),l(ut,"active")):h(ut.a))}function bt(ut){this.j=ut,this.a=new a,this.h=0,this.f=this.g=!0}function gt(ut,ht,Ft,Mt,Ut){var ae=--ut.h==0;(ut.f||ut.g)&&setTimeout(function(){var se=Ut||null,Ae=Mt||{};if(Ft.length===0&&ae)h(ht.a);else{ht.f+=Ft.length,ae&&(ht.j=ae);var we,be=[];for(we=0;we<Ft.length;we++){var Ue=Ft[we],Jn=Ae[Ue.c],Ln=ht.a,di=Ue;if(Ln.g&&Q(Ln.f,[Ln.a.c("wf",di.c,mt(di).toString(),"loading")]),l(Ln,"fontloading",di),Ln=null,at===null)if(window.FontFace){di=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var xo=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);at=di?42<parseInt(di[1],10):!xo}else at=!1;Ln=at?new g(A(ht.g,ht),A(ht.h,ht),ht.c,Ue,ht.s,Jn):new b(A(ht.g,ht),A(ht.h,ht),ht.c,Ue,ht.s,se,Jn),be.push(Ln)}for(we=0;we<be.length;we++)be[we].start()}},0)}function I(ut,ht){this.c=ut,this.a=ht}function M(ut,ht){this.c=ut,this.a=ht}function W(ut,ht){this.c=ut||dt,this.a=[],this.f=[],this.g=ht||""}rt.prototype.g=function(ut){var ht=this.a;ht.g&&Q(ht.f,[ht.a.c("wf",ut.c,mt(ut).toString(),"active")],[ht.a.c("wf",ut.c,mt(ut).toString(),"loading"),ht.a.c("wf",ut.c,mt(ut).toString(),"inactive")]),l(ht,"fontactive",ut),this.m=!0,pt(this)},rt.prototype.h=function(ut){var ht=this.a;if(ht.g){var Ft=it(ht.f,ht.a.c("wf",ut.c,mt(ut).toString(),"active")),Mt=[],Ut=[ht.a.c("wf",ut.c,mt(ut).toString(),"loading")];Ft||Mt.push(ht.a.c("wf",ut.c,mt(ut).toString(),"inactive")),Q(ht.f,Mt,Ut)}l(ht,"fontinactive",ut),pt(this)},bt.prototype.load=function(ut){this.c=new X(this.j,ut.context||this.j),this.g=ut.events!==!1,this.f=ut.classes!==!1,function(ht,Ft,Mt){var Ut=[],ae=Mt.timeout;(function(Ae){Ae.g&&Q(Ae.f,[Ae.a.c("wf","loading")]),l(Ae,"loading")})(Ft),Ut=function(Ae,we,be){var Ue,Jn=[];for(Ue in we)if(we.hasOwnProperty(Ue)){var Ln=Ae.c[Ue];Ln&&Jn.push(Ln(we[Ue],be))}return Jn}(ht.a,Mt,ht.c);var se=new rt(ht.c,Ft,ae);for(ht.h=Ut.length,Ft=0,Mt=Ut.length;Ft<Mt;Ft++)Ut[Ft].load(function(Ae,we,be){gt(ht,se,Ae,we,be)})}(this,new u(this.c,ut),ut)},I.prototype.load=function(ut){var ht=this,Ft=ht.a.projectId,Mt=ht.a.version;if(Ft){var Ut=ht.c.o;tt(this.c,(ht.a.api||"https://fast.fonts.net/jsapi")+"/"+Ft+".js"+(Mt?"?v="+Mt:""),function(ae){ae?ut([]):(Ut["__MonotypeConfiguration__"+Ft]=function(){return ht.a},function se(){if(Ut["__mti_fntLst"+Ft]){var Ae=Ut["__mti_fntLst"+Ft](),we=[];if(Ae)for(var be=0;be<Ae.length;be++){var Ue=Ae[be].fontfamily;we.push(Ae[be].fontStyle!=null&&Ae[be].fontWeight!=null?new $(Ue,Ae[be].fontStyle+Ae[be].fontWeight):new $(Ue))}ut(we)}else setTimeout(function(){se()},50)}())}).id="__MonotypeAPIScript__"+Ft}else ut([])},M.prototype.load=function(ut){var ht,Ft,Mt=this.a.urls||[],Ut=this.a.families||[],ae=this.a.testStrings||{},se=new nt;for(ht=0,Ft=Mt.length;ht<Ft;ht++)Y(this.c,Mt[ht],Z(se));var Ae=[];for(ht=0,Ft=Ut.length;ht<Ft;ht++)if((Mt=Ut[ht].split(":"))[1])for(var we=Mt[1].split(","),be=0;be<we.length;be+=1)Ae.push(new $(Mt[0],we[be]));else Ae.push(new $(Mt[0]));ot(se,function(){ut(Ae,ae)})};var dt="https://fonts.googleapis.com/css";function _t(ut){this.f=ut,this.a=[],this.c={}}var Et={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},Ct={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ot={i:"i",italic:"i",n:"n",normal:"n"},Xt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Ht(ut,ht){this.c=ut,this.a=ht}var Kt={Arimo:!0,Cousine:!0,Tinos:!0};function It(ut,ht){this.c=ut,this.a=ht}function Vt(ut,ht){this.c=ut,this.f=ht,this.a=[]}Ht.prototype.load=function(ut){var ht=new nt,Ft=this.c,Mt=new W(this.a.api,this.a.text),Ut=this.a.families;(function(se,Ae){for(var we=Ae.length,be=0;be<we;be++){var Ue=Ae[be].split(":");Ue.length==3&&se.f.push(Ue.pop());var Jn="";Ue.length==2&&Ue[1]!=""&&(Jn=":"),se.a.push(Ue.join(Jn))}})(Mt,Ut);var ae=new _t(Ut);(function(se){for(var Ae=se.f.length,we=0;we<Ae;we++){var be=se.f[we].split(":"),Ue=be[0].replace(/\+/g," "),Jn=["n4"];if(2<=be.length){var Ln;if(Ln=[],di=be[1])for(var di,xo=(di=di.split(",")).length,Gi=0;Gi<xo;Gi++){var Ce;if((Ce=di[Gi]).match(/^[\w-]+$/))if((Wn=Xt.exec(Ce.toLowerCase()))==null)Ce="";else{if(Ce=(Ce=Wn[2])==null||Ce==""?"n":Ot[Ce],(Wn=Wn[1])==null||Wn=="")Wn="4";else var Wn=Ct[Wn]||(isNaN(Wn)?"4":Wn.substr(0,1));Ce=[Ce,Wn].join("")}else Ce="";Ce&&Ln.push(Ce)}0<Ln.length&&(Jn=Ln),be.length==3&&(Ln=[],0<(be=(be=be[2])?be.split(","):Ln).length&&(be=Et[be[0]])&&(se.c[Ue]=be))}for(se.c[Ue]||(be=Et[Ue])&&(se.c[Ue]=be),be=0;be<Jn.length;be+=1)se.a.push(new $(Ue,Jn[be]))}})(ae),Y(Ft,function(se){if(se.a.length==0)throw Error("No fonts to load!");if(se.c.indexOf("kit=")!=-1)return se.c;for(var Ae=se.a.length,we=[],be=0;be<Ae;be++)we.push(se.a[be].replace(/ /g,"+"));return Ae=se.c+"?family="+we.join("%7C"),0<se.f.length&&(Ae+="&subset="+se.f.join(",")),0<se.g.length&&(Ae+="&text="+encodeURIComponent(se.g)),Ae}(Mt),Z(ht)),ot(ht,function(){ut(ae.a,ae.c,Kt)})},It.prototype.load=function(ut){var ht=this.a.id,Ft=this.c.o;ht?tt(this.c,(this.a.api||"https://use.typekit.net")+"/"+ht+".js",function(Mt){if(Mt)ut([]);else if(Ft.Typekit&&Ft.Typekit.config&&Ft.Typekit.config.fn){Mt=Ft.Typekit.config.fn;for(var Ut=[],ae=0;ae<Mt.length;ae+=2)for(var se=Mt[ae],Ae=Mt[ae+1],we=0;we<Ae.length;we++)Ut.push(new $(se,Ae[we]));try{Ft.Typekit.load({events:!1,classes:!1,async:!0})}catch{}ut(Ut)}},2e3):ut([])},Vt.prototype.load=function(ut){var ht=this.f.id,Ft=this.c.o,Mt=this;ht?(Ft.__webfontfontdeckmodule__||(Ft.__webfontfontdeckmodule__={}),Ft.__webfontfontdeckmodule__[ht]=function(Ut,ae){for(var se=0,Ae=ae.fonts.length;se<Ae;++se){var we=ae.fonts[se];Mt.a.push(new $(we.name,p("font-weight:"+we.weight+";font-style:"+we.style)))}ut(Mt.a)},tt(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(Ut){return Ut.o.location.hostname||Ut.a.location.hostname}(this.c)+"/"+ht+".js",function(Ut){Ut&&ut([])})):ut([])};var zt=new bt(window);zt.a.c.custom=function(ut,ht){return new M(ht,ut)},zt.a.c.fontdeck=function(ut,ht){return new Vt(ht,ut)},zt.a.c.monotype=function(ut,ht){return new I(ht,ut)},zt.a.c.typekit=function(ut,ht){return new It(ht,ut)},zt.a.c.google=function(ut,ht){return new Ht(ht,ut)};var Jt={load:A(zt.load,zt)};(O=(function(){return Jt}).call(q,y,q,V))===void 0||(V.exports=O)})()},NlKi:function(V,q,y){var O=y("jT1Q"),k=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j=k.Raven,A=new O;A.noConflict=function(){return k.Raven=j,A},A.afterLoad(),V.exports=A,V.exports.Client=O},RdDz:function(V,q,y){var O,k;(k=typeof(O=function(){"use strict";return function(j,A,E){A=A||"",E=E||512;for(var X=atob(j),z=[],N=0;N<X.length;N+=E){for(var G=X.slice(N,N+E),B=new Array(G.length),Q=0;Q<G.length;Q++)B[Q]=G.charCodeAt(Q);var it=new Uint8Array(B);z.push(it)}return new Blob(z,{type:A})}})=="function"?O.apply(q,[]):O)===void 0||(V.exports=k)},crnd:function(V,q){function y(O){return Promise.resolve().then(function(){var k=new Error("Cannot find module '"+O+"'");throw k.code="MODULE_NOT_FOUND",k})}y.keys=function(){return[]},y.resolve=y,V.exports=y,y.id="crnd"},epSk:function(V,q,y){var O,k,j,A,E,X,z,N,G,B,Q,it,Y,tt,nt,Z,ot,et,ft,$,C=C||{version:"2.6.0"};function mt(p,u){var h=p.canvas,l=u.targetCanvas,a=l.getContext("2d");a.translate(0,l.height),a.scale(1,-1),a.drawImage(h,0,h.height-l.height,l.width,l.height,0,0,l.width,l.height)}function kt(p,u){var h=u.targetCanvas.getContext("2d"),l=u.destinationWidth,a=u.destinationHeight,c=l*a*4,m=new Uint8Array(this.imageBuffer,0,c),v=new Uint8ClampedArray(this.imageBuffer,0,c);p.readPixels(0,0,l,a,p.RGBA,p.UNSIGNED_BYTE,m);var g=new ImageData(v,l,a);h.putImageData(g,0,0)}q.fabric=C,typeof document<"u"&&typeof window<"u"?(C.document=document,C.window=window):(C.document=y(1).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]}}),C.jsdomImplForWrapper=y(2).implForWrapper,C.nodeCanvas=y(3).Canvas,C.window=C.document.defaultView,DOMParser=y(4).DOMParser),C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.canvasModule="canvas",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.initFilterBackend=function(){return C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize)?(console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize})):C.Canvas2dFilterBackend?new C.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=C),function(){function p(a,c){if(this.__eventListeners[a]){var m=this.__eventListeners[a];c?m[m.indexOf(c)]=!1:C.util.array.fill(m,!1)}}function u(a,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var m in a)this.on(m,a[m]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function h(a,c){if(this.__eventListeners){if(arguments.length===0)for(a in this.__eventListeners)p.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var m in a)p.call(this,m,a[m]);else p.call(this,a,c);return this}}function l(a,c){if(this.__eventListeners){var m=this.__eventListeners[a];if(m){for(var v=0,g=m.length;v<g;v++)m[v]&&m[v].call(this,c||{});return this.__eventListeners[a]=m.filter(function(b){return b!==!1}),this}}}C.Observable={observe:u,stopObserving:h,fire:l,on:u,off:h,trigger:l}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var p=0,u=arguments.length;p<u;p++)this._onObjectAdded(arguments[p]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(p,u,h){var l=this._objects;return h?l[u]=p:l.splice(u,0,p),this._onObjectAdded&&this._onObjectAdded(p),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var p,u=this._objects,h=!1,l=0,a=arguments.length;l<a;l++)(p=u.indexOf(arguments[l]))!==-1&&(h=!0,u.splice(p,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[l]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(p,u){for(var h=this.getObjects(),l=0,a=h.length;l<a;l++)p.call(u,h[l],l,h);return this},getObjects:function(p){return p===void 0?this._objects.concat():this._objects.filter(function(u){return u.type===p})},item:function(p){return this._objects[p]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(p){return this._objects.indexOf(p)>-1},complexity:function(){return this._objects.reduce(function(p,u){return p+(u.complexity?u.complexity():0)},0)}},C.CommonMethods={_setOptions:function(p){for(var u in p)this.set(u,p[u])},_initGradient:function(p,u){!p||!p.colorStops||p instanceof C.Gradient||this.set(u,new C.Gradient(p))},_initPattern:function(p,u,h){!p||!p.source||p instanceof C.Pattern?h&&h():this.set(u,new C.Pattern(p,h))},_initClipping:function(p){if(p.clipTo&&typeof p.clipTo=="string"){var u=C.util.getFunctionBody(p.clipTo);u!==void 0&&(this.clipTo=new Function("ctx",u))}},_setObject:function(p){for(var u in p)this._set(u,p[u])},set:function(p,u){return typeof p=="object"?this._setObject(p):this._set(p,typeof u=="function"&&p!=="clipTo"?u(this.get(p)):u),this},_set:function(p,u){this[p]=u},toggle:function(p){var u=this.get(p);return typeof u=="boolean"&&this.set(p,!u),this},get:function(p){return this[p]}},O=q,k=Math.sqrt,j=Math.atan2,A=Math.pow,E=Math.abs,X=Math.PI/180,z=Math.PI/2,C.util={cos:function(p){if(p===0)return 1;switch(p<0&&(p=-p),p/z){case 1:case 3:return 0;case 2:return-1}return Math.cos(p)},sin:function(p){if(p===0)return 0;var u=1;switch(p<0&&(u=-1),p/z){case 1:return u;case 2:return 0;case 3:return-u}return Math.sin(p)},removeFromArray:function(p,u){var h=p.indexOf(u);return h!==-1&&p.splice(h,1),p},getRandomInt:function(p,u){return Math.floor(Math.random()*(u-p+1))+p},degreesToRadians:function(p){return p*X},radiansToDegrees:function(p){return p/X},rotatePoint:function(p,u,h){p.subtractEquals(u);var l=C.util.rotateVector(p,h);return new C.Point(l.x,l.y).addEquals(u)},rotateVector:function(p,u){var h=C.util.sin(u),l=C.util.cos(u);return{x:p.x*l-p.y*h,y:p.x*h+p.y*l}},transformPoint:function(p,u,h){return h?new C.Point(u[0]*p.x+u[2]*p.y,u[1]*p.x+u[3]*p.y):new C.Point(u[0]*p.x+u[2]*p.y+u[4],u[1]*p.x+u[3]*p.y+u[5])},makeBoundingBoxFromPoints:function(p){var u=[p[0].x,p[1].x,p[2].x,p[3].x],h=C.util.array.min(u),l=C.util.array.max(u)-h,a=[p[0].y,p[1].y,p[2].y,p[3].y],c=C.util.array.min(a);return{left:h,top:c,width:l,height:C.util.array.max(a)-c}},invertTransform:function(p){var u=1/(p[0]*p[3]-p[1]*p[2]),h=[u*p[3],-u*p[1],-u*p[2],u*p[0]],l=C.util.transformPoint({x:p[4],y:p[5]},h,!0);return h[4]=-l.x,h[5]=-l.y,h},toFixed:function(p,u){return parseFloat(Number(p).toFixed(u))},parseUnit:function(p,u){var h=/\D{0,2}$/.exec(p),l=parseFloat(p);switch(u||(u=C.Text.DEFAULT_SVG_FONT_SIZE),h[0]){case"mm":return l*C.DPI/25.4;case"cm":return l*C.DPI/2.54;case"in":return l*C.DPI;case"pt":return l*C.DPI/72;case"pc":return l*C.DPI/72*12;case"em":return l*u;default:return l}},falseFunction:function(){return!1},getKlass:function(p,u){return p=C.util.string.camelize(p.charAt(0).toUpperCase()+p.slice(1)),C.util.resolveNamespace(u)[p]},getSvgAttributes:function(p){var u=["instantiated_by_use","style","id","class"];switch(p){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"])}return u},resolveNamespace:function(p){if(!p)return C;var u,h=p.split("."),l=h.length,a=O||C.window;for(u=0;u<l;++u)a=a[h[u]];return a},loadImage:function(p,u,h,l){if(p){var a=C.util.createImage(),c=function(){u&&u.call(h,a),a=a.onload=a.onerror=null};a.onload=c,a.onerror=function(){C.log("Error loading "+a.src),u&&u.call(h,null,!0),a=a.onload=a.onerror=null},p.indexOf("data")!==0&&l&&(a.crossOrigin=l),p.substring(0,14)==="data:image/svg"&&(a.onload=null,C.util.loadImageInDom(a,c)),a.src=p}else u&&u.call(h,p)},loadImageInDom:function(p,u){var h=C.document.createElement("div");h.style.width=h.style.height="1px",h.style.left=h.style.top="-100%",h.style.position="absolute",h.appendChild(p),(C.document.querySelector("ui-editor")||C.document.querySelector("ue-root")).shadowRoot.querySelector("body").appendChild(h),p.onload=function(){u(),h.parentNode.removeChild(h),h=null}},enlivenObjects:function(p,u,h,l){function a(){++m===v&&u&&u(c)}var c=[],m=0,v=(p=p||[]).length;v?p.forEach(function(g,b){g&&g.type?C.util.getKlass(g.type,h).fromObject(g,function(w,x){x||(c[b]=w),l&&l(g,w,x),a()}):a()}):u&&u(c)},enlivenPatterns:function(p,u){function h(){++a===c&&u&&u(l)}var l=[],a=0,c=(p=p||[]).length;c?p.forEach(function(m,v){m&&m.source?new C.Pattern(m,function(g){l[v]=g,h()}):(l[v]=m,h())}):u&&u(l)},groupSVGElements:function(p,u,h){var l;return p&&p.length===1?p[0]:(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),l=new C.Group(p,u),h!==void 0&&(l.sourcePath=h),l)},populateWithProperties:function(p,u,h){if(h&&Object.prototype.toString.call(h)==="[object Array]")for(var l=0,a=h.length;l<a;l++)h[l]in p&&(u[h[l]]=p[h[l]])},drawDashedLine:function(p,u,h,l,a,c){var m=l-u,v=a-h,g=k(m*m+v*v),b=j(v,m),w=c.length,x=0,R=!0;for(p.save(),p.translate(u,h),p.moveTo(0,0),p.rotate(b),u=0;g>u;)(u+=c[x++%w])>g&&(u=g),p[R?"lineTo":"moveTo"](u,0),R=!R;p.restore()},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(p){var u=C.util.createCanvasElement();return u.width=p.width,u.height=p.height,u.getContext("2d").drawImage(p,0,0),u},toDataURL:function(p,u,h){return p.toDataURL("image/"+u,h)},createImage:function(){return C.document.createElement("img")},clipContext:function(p,u){u.save(),u.beginPath(),p.clipTo(u),u.clip()},multiplyTransformMatrices:function(p,u,h){return[p[0]*u[0]+p[2]*u[1],p[1]*u[0]+p[3]*u[1],p[0]*u[2]+p[2]*u[3],p[1]*u[2]+p[3]*u[3],h?0:p[0]*u[4]+p[2]*u[5]+p[4],h?0:p[1]*u[4]+p[3]*u[5]+p[5]]},qrDecompose:function(p){var u=j(p[1],p[0]),h=A(p[0],2)+A(p[1],2),l=k(h),a=(p[0]*p[3]-p[2]*p[1])/l,c=j(p[0]*p[2]+p[1]*p[3],h);return{angle:u/X,scaleX:l,scaleY:a,skewX:c/X,skewY:0,translateX:p[4],translateY:p[5]}},customTransformMatrix:function(p,u,h){var l=[1,0,E(Math.tan(h*X)),1],a=[E(p),0,0,E(u)];return C.util.multiplyTransformMatrices(a,l,!0)},resetObjectTransform:function(p){p.scaleX=1,p.scaleY=1,p.skewX=0,p.skewY=0,p.flipX=!1,p.flipY=!1,p.rotate(0)},saveObjectTransform:function(p){return{scaleX:p.scaleX,scaleY:p.scaleY,skewX:p.skewX,skewY:p.skewY,angle:p.angle,left:p.left,flipX:p.flipX,flipY:p.flipY,top:p.top}},getFunctionBody:function(p){return(String(p).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(p,u,h,l){l>0&&(u>l?u-=l:u=0,h>l?h-=l:h=0);var a,c=!0,m=p.getImageData(u,h,2*l||1,2*l||1),v=m.data.length;for(a=3;a<v&&(c=m.data[a]<=0)!=0;a+=4);return m=null,c},parsePreserveAspectRatioAttribute:function(p){var u,h="meet",l=p.split(" ");return l&&l.length&&((h=l.pop())!=="meet"&&h!=="slice"?(u=h,h="meet"):l.length&&(u=l.pop())),{meetOrSlice:h,alignX:u!=="none"?u.slice(1,4):"none",alignY:u!=="none"?u.slice(5,8):"none"}},clearFabricFontCache:function(p){(p=(p||"").toLowerCase())?C.charWidthsCache[p]&&delete C.charWidthsCache[p]:C.charWidthsCache={}},limitDimsByArea:function(p,u){var h=Math.sqrt(u*p),l=Math.floor(u/h);return{x:Math.floor(h),y:l}},capValue:function(p,u,h){return Math.max(p,Math.min(u,h))},findScaleToFit:function(p,u){return Math.min(u.width/p.width,u.height/p.height)},findScaleToCover:function(p,u){return Math.max(u.width/p.width,u.height/p.height)}},function(){var p=Array.prototype.join;function u(c,m,v,g,b,w,x){var R=p.call(arguments);if(C.arcToSegmentsCache[R])return C.arcToSegmentsCache[R];var L=Math.PI,H=x*L/180,rt=C.util.sin(H),at=C.util.cos(H),pt=0,bt=0,gt=-at*c*.5-rt*m*.5,I=-at*m*.5+rt*c*.5,M=(v=Math.abs(v))*v,W=(g=Math.abs(g))*g,dt=I*I,_t=gt*gt,Et=M*W-M*dt-W*_t,Ct=0;if(Et<0){var Ot=Math.sqrt(1-Et/(M*W));v*=Ot,g*=Ot}else Ct=(b===w?-1:1)*Math.sqrt(Et/(M*dt+W*_t));var Xt=Ct*v*I/g,Ht=-Ct*g*gt/v,Kt=at*Xt-rt*Ht+.5*c,It=rt*Xt+at*Ht+.5*m,Vt=l(1,0,(gt-Xt)/v,(I-Ht)/g),zt=l((gt-Xt)/v,(I-Ht)/g,(-gt-Xt)/v,(-I-Ht)/g);w===0&&zt>0?zt-=2*L:w===1&&zt<0&&(zt+=2*L);for(var Jt=Math.ceil(Math.abs(zt/L*2)),ut=[],ht=zt/Jt,Ft=8/3*Math.sin(ht/4)*Math.sin(ht/4)/Math.sin(ht/2),Mt=Vt+ht,Ut=0;Ut<Jt;Ut++)ut[Ut]=h(Vt,Mt,at,rt,v,g,Kt,It,Ft,pt,bt),pt=ut[Ut][4],bt=ut[Ut][5],Vt=Mt,Mt+=ht;return C.arcToSegmentsCache[R]=ut,ut}function h(c,m,v,g,b,w,x,R,L,H,rt){var at=C.util.cos(c),pt=C.util.sin(c),bt=C.util.cos(m),gt=C.util.sin(m),I=v*b*bt-g*w*gt+x,M=g*b*bt+v*w*gt+R;return[H+L*(-v*b*pt-g*w*at),rt+L*(-g*b*pt+v*w*at),I+L*(v*b*gt+g*w*bt),M+L*(g*b*gt-v*w*bt),I,M]}function l(c,m,v,g){var b=Math.atan2(m,c),w=Math.atan2(g,v);return w>=b?w-b:2*Math.PI-(b-w)}function a(c,m,v,g,b,w,x,R){var L;if(C.cachesBoundsOfCurve&&(L=p.call(arguments),C.boundsOfCurveCache[L]))return C.boundsOfCurveCache[L];var H,rt,at,pt,bt,gt,I,M,W=Math.sqrt,dt=Math.min,_t=Math.max,Et=Math.abs,Ct=[],Ot=[[],[]];rt=6*c-12*v+6*b,H=-3*c+9*v-9*b+3*x,at=3*v-3*c;for(var Xt=0;Xt<2;++Xt)if(Xt>0&&(rt=6*m-12*g+6*w,H=-3*m+9*g-9*w+3*R,at=3*g-3*m),Et(H)<1e-12){if(Et(rt)<1e-12)continue;0<(pt=-at/rt)&&pt<1&&Ct.push(pt)}else(I=rt*rt-4*at*H)<0||(0<(bt=(-rt+(M=W(I)))/(2*H))&&bt<1&&Ct.push(bt),0<(gt=(-rt-M)/(2*H))&&gt<1&&Ct.push(gt));for(var Ht,Kt=Ct.length,It=Kt;Kt--;)Ot[0][Kt]=(Ht=1-(pt=Ct[Kt]))*Ht*Ht*c+3*Ht*Ht*pt*v+3*Ht*pt*pt*b+pt*pt*pt*x,Ot[1][Kt]=Ht*Ht*Ht*m+3*Ht*Ht*pt*g+3*Ht*pt*pt*w+pt*pt*pt*R;Ot[0][It]=c,Ot[1][It]=m,Ot[0][It+1]=x,Ot[1][It+1]=R;var Vt=[{x:dt.apply(null,Ot[0]),y:dt.apply(null,Ot[1])},{x:_t.apply(null,Ot[0]),y:_t.apply(null,Ot[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[L]=Vt),Vt}C.util.drawArc=function(c,m,v,g){for(var b=[[],[],[],[]],w=u(g[5]-m,g[6]-v,g[0],g[1],g[3],g[4],g[2]),x=0,R=w.length;x<R;x++)b[x][0]=w[x][0]+m,b[x][1]=w[x][1]+v,b[x][2]=w[x][2]+m,b[x][3]=w[x][3]+v,b[x][4]=w[x][4]+m,b[x][5]=w[x][5]+v,c.bezierCurveTo.apply(c,b[x])},C.util.getBoundsOfArc=function(c,m,v,g,b,w,x,R,L){for(var H,rt=0,at=0,pt=[],bt=u(R-c,L-m,v,g,w,x,b),gt=0,I=bt.length;gt<I;gt++)H=a(rt,at,bt[gt][0],bt[gt][1],bt[gt][2],bt[gt][3],bt[gt][4],bt[gt][5]),pt.push({x:H[0].x+c,y:H[0].y+m}),pt.push({x:H[1].x+c,y:H[1].y+m}),rt=bt[gt][4],at=bt[gt][5];return pt},C.util.getBoundsOfCurve=a}(),function(){var p=Array.prototype.slice;function u(h,l,a){if(h&&h.length!==0){var c=h.length-1,m=l?h[c][l]:h[c];if(l)for(;c--;)a(h[c][l],m)&&(m=h[c][l]);else for(;c--;)a(h[c],m)&&(m=h[c]);return m}}C.util.array={fill:function(h,l){for(var a=h.length;a--;)h[a]=l;return h},invoke:function(h,l){for(var a=p.call(arguments,2),c=[],m=0,v=h.length;m<v;m++)c[m]=a.length?h[m][l].apply(h[m],a):h[m][l].call(h[m]);return c},min:function(h,l){return u(h,l,function(a,c){return a<c})},max:function(h,l){return u(h,l,function(a,c){return a>=c})}}}(),function(){function p(u,h,l){if(l)if(!C.isLikelyNode&&h instanceof Element)u=h;else if(h instanceof Array){u=[];for(var a=0,c=h.length;a<c;a++)u[a]=p({},h[a],l)}else if(h&&typeof h=="object")for(var m in h)m==="canvas"?u[m]=p({},h[m]):h.hasOwnProperty(m)&&(u[m]=p({},h[m],l));else u=h;else for(var m in h)u[m]=h[m];return u}C.util.object={extend:p,clone:function(u,h){return p({},u,h)}},C.util.object.extend(C.util,C.Observable)}(),function(){function p(u,h){var l=u.charCodeAt(h);if(isNaN(l))return"";if(l<55296||l>57343)return u.charAt(h);if(55296<=l&&l<=56319){if(u.length<=h+1)throw"High surrogate without following low surrogate";var a=u.charCodeAt(h+1);if(56320>a||a>57343)throw"High surrogate without following low surrogate";return u.charAt(h)+u.charAt(h+1)}if(h===0)throw"Low surrogate without preceding high surrogate";var c=u.charCodeAt(h-1);if(55296>c||c>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:function(u){return u.replace(/-+(.)?/g,function(h,l){return l?l.toUpperCase():""})},capitalize:function(u,h){return u.charAt(0).toUpperCase()+(h?u.slice(1):u.slice(1).toLowerCase())},escapeXml:function(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(u){var h,l=0,a=[];for(l=0;l<u.length;l++)(h=p(u,l))!==!1&&a.push(h);return a}}}(),function(){var p=Array.prototype.slice,u=function(){},h=function(){for(var m in{toString:1})if(m==="toString")return!1;return!0}(),l=function(m,v,g){for(var b in v)m.prototype[b]=b in m.prototype&&typeof m.prototype[b]=="function"&&(v[b]+"").indexOf("callSuper")>-1?function(w){return function(){var x=this.constructor.superclass;this.constructor.superclass=g;var R=v[w].apply(this,arguments);if(this.constructor.superclass=x,w!=="initialize")return R}}(b):v[b],h&&(v.toString!==Object.prototype.toString&&(m.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(m.prototype.valueOf=v.valueOf))};function a(){}function c(m){for(var v=null,g=this;g.constructor.superclass;){var b=g.constructor.superclass.prototype[m];if(g[m]!==b){v=b;break}g=g.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,p.call(arguments,1)):v.call(this):console.log("tried to callSuper "+m+", method not found in prototype chain",this)}C.util.createClass=function(){var m=null,v=p.call(arguments,0);function g(){this.initialize.apply(this,arguments)}typeof v[0]=="function"&&(m=v.shift()),g.superclass=m,g.subclasses=[],m&&(a.prototype=m.prototype,g.prototype=new a,m.subclasses.push(g));for(var b=0,w=v.length;b<w;b++)l(g,v[b],m);return g.prototype.initialize||(g.prototype.initialize=u),g.prototype.constructor=g,g.prototype.callSuper=c,g}}(),function(){function p(at){var pt,bt=Array.prototype.slice.call(arguments,1),gt=bt.length;for(pt=0;pt<gt;pt++)if(!/^(?:function|object|unknown)$/.test(typeof at[bt[pt]]))return!1;return!0}var u,h,l,a,c=(l=0,function(at){return at.__uniqueID||(at.__uniqueID="uniqueID__"+l++)});function m(at,pt){return function(bt){pt.call(u(at),bt||C.window.event)}}a={},u=function(at){return a[at]},h=function(at,pt){a[at]=pt};var v,g,b=p(C.document.documentElement,"addEventListener","removeEventListener")&&p(C.window,"addEventListener","removeEventListener"),w=p(C.document.documentElement,"attachEvent","detachEvent")&&p(C.window,"attachEvent","detachEvent"),x={},R={};b?(v=function(at,pt,bt,gt){at&&at.addEventListener(pt,bt,!w&&gt)},g=function(at,pt,bt,gt){at&&at.removeEventListener(pt,bt,!w&&gt)}):w?(v=function(at,pt,bt){if(at){var gt=c(at);h(gt,at),x[gt]||(x[gt]={}),x[gt][pt]||(x[gt][pt]=[]);var I=function(M,W){return{handler:W,wrappedHandler:m(M,W)}}(gt,bt);x[gt][pt].push(I),at.attachEvent("on"+pt,I.wrappedHandler)}},g=function(at,pt,bt){if(at){var gt,I=c(at);if(x[I]&&x[I][pt])for(var M=0,W=x[I][pt].length;M<W;M++)(gt=x[I][pt][M])&&gt.handler===bt&&(at.detachEvent("on"+pt,gt.wrappedHandler),x[I][pt][M]=null)}}):(v=function(at,pt,bt){if(at){var gt=c(at);if(R[gt]||(R[gt]={}),!R[gt][pt]){R[gt][pt]=[];var I=at["on"+pt];I&&R[gt][pt].push(I),at["on"+pt]=function(M,W){return function(dt){if(R[M]&&R[M][W])for(var _t=R[M][W],Et=0,Ct=_t.length;Et<Ct;Et++)_t[Et].call(this,dt||C.window.event)}}(gt,pt)}R[gt][pt].push(bt)}},g=function(at,pt,bt){if(at){var gt=c(at);if(R[gt]&&R[gt][pt])for(var I=R[gt][pt],M=0,W=I.length;M<W;M++)I[M]===bt&&I.splice(M,1)}}),C.util.addListener=v,C.util.removeListener=g;var L=function(at){return at.clientX},H=function(at){return at.clientY};function rt(at,pt,bt){var gt,I=at[at.type==="touchend"?"changedTouches":"touches"];return I&&I[0]&&(gt=I[0][bt]),gt===void 0&&(gt=at[bt]),gt}C.isTouchSupported&&(L=function(at){return rt(at,0,"clientX")},H=function(at){return rt(at,0,"clientY")}),C.util.getPointer=function(at){at||(at=C.window.event);var pt=C.util.getScrollLeftTop(at.target||(typeof at.srcElement!="unknown"?at.srcElement:null));return{x:L(at)+pt.left,y:H(at)+pt.top}}}(),et=C.document.createElement("div"),ft=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,$=function(p){return p},typeof et.style.opacity=="string"?$=function(p,u){return p.style.opacity=u,p}:typeof et.style.filter=="string"&&($=function(p,u){var h=p.style;return p.currentStyle&&!p.currentStyle.hasLayout&&(h.zoom=1),ft.test(h.filter)?h.filter=h.filter.replace(ft,u=u>=.9999?"":"alpha(opacity="+100*u+")"):h.filter+=" alpha(opacity="+100*u+")",p}),C.util.setStyle=function(p,u){var h=p.style;if(!h)return p;if(typeof u=="string")return p.style.cssText+=";"+u,u.indexOf("opacity")>-1?$(p,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):p;for(var l in u)l==="opacity"?$(p,u[l]):h[l==="float"||l==="cssFloat"?h.styleFloat===void 0?"cssFloat":"styleFloat":l]=u[l];return p},function(){var p,u,h,l,a=Array.prototype.slice,c=function(g){return a.call(g,0)};try{p=c(C.document.childNodes)instanceof Array}catch{}function m(g,b){var w=C.document.createElement(g);for(var x in b)x==="class"?w.className=b[x]:x==="for"?w.htmlFor=b[x]:w.setAttribute(x,b[x]);return w}function v(g){for(var b=0,w=0,x=C.document.documentElement,R=C.document.body||{scrollLeft:0,scrollTop:0};g&&(g.parentNode||g.host)&&((g=g.parentNode||g.host)===C.document?(b=R.scrollLeft||x.scrollLeft||0,w=R.scrollTop||x.scrollTop||0):(b+=g.scrollLeft||0,w+=g.scrollTop||0),g.nodeType!==1||g.style.position!=="fixed"););return{left:b,top:w}}p||(c=function(g){for(var b=new Array(g.length),w=g.length;w--;)b[w]=g[w];return b}),u=C.document.defaultView&&C.document.defaultView.getComputedStyle?function(g,b){var w=C.document.defaultView.getComputedStyle(g,null);return w?w[b]:void 0}:function(g,b){var w=g.style[b];return!w&&g.currentStyle&&(w=g.currentStyle[b]),w},l="userSelect"in(h=C.document.documentElement.style)?"userSelect":"MozUserSelect"in h?"MozUserSelect":"WebkitUserSelect"in h?"WebkitUserSelect":"KhtmlUserSelect"in h?"KhtmlUserSelect":"",C.util.makeElementUnselectable=function(g){return g.onselectstart!==void 0&&(g.onselectstart=C.util.falseFunction),l?g.style[l]="none":typeof g.unselectable=="string"&&(g.unselectable="on"),g},C.util.makeElementSelectable=function(g){return g.onselectstart!==void 0&&(g.onselectstart=null),l?g.style[l]="":typeof g.unselectable=="string"&&(g.unselectable=""),g},C.util.getScript=function(g,b){var w=C.document.getElementsByTagName("head")[0],x=C.document.createElement("script"),R=!0;x.onload=x.onreadystatechange=function(L){if(R){if(typeof this.readyState=="string"&&this.readyState!=="loaded"&&this.readyState!=="complete")return;R=!1,b(L||C.window.event),x=x.onload=x.onreadystatechange=null}},x.src=g,w.appendChild(x)},C.util.getById=function(g){return typeof g=="string"?C.document.getElementById(g):g},C.util.toArray=c,C.util.makeElement=m,C.util.addClass=function(g,b){g&&(" "+g.className+" ").indexOf(" "+b+" ")===-1&&(g.className+=(g.className?" ":"")+b)},C.util.wrapElement=function(g,b,w){return typeof b=="string"&&(b=m(b,w)),g.parentNode&&g.parentNode.replaceChild(b,g),b.appendChild(g),b},C.util.getScrollLeftTop=v,C.util.getElementOffset=function(g){var b,w,x=g&&g.ownerDocument,R={left:0,top:0},L={left:0,top:0},H={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!x)return L;for(var rt in H)L[H[rt]]+=parseInt(u(g,rt),10)||0;return b=x.documentElement,g.getBoundingClientRect!==void 0&&(R=g.getBoundingClientRect()),w=v(g),{left:R.left+w.left-(b.clientLeft||0)+L.left,top:R.top+w.top-(b.clientTop||0)+L.top}},C.util.getElementStyle=u,C.util.getNodeCanvas=function(g){var b=C.jsdomImplForWrapper(g);return b._canvas||b._image},C.util.cleanUpJsdomNode=function(g){if(C.isLikelyNode){var b=C.jsdomImplForWrapper(g);b&&(b._image=null,b._canvas=null,b._currentSrc=null,b._attributes=null,b._classList=null)}}}(),function(){function p(){}C.util.request=function(u,h){h||(h={});var l=h.method?h.method.toUpperCase():"GET",a=h.onComplete||function(){},c=new C.window.XMLHttpRequest,m=h.body||h.parameters;return c.onreadystatechange=function(){c.readyState===4&&(a(c),c.onreadystatechange=p)},l==="GET"&&(m=null,typeof h.parameters=="string"&&(u=function(v,g){return v+(/\?/.test(v)?"&":"?")+g}(u,h.parameters))),c.open(l,u,!0),l!=="POST"&&l!=="PUT"||c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(m),c}}(),C.log=function(){},C.warn=function(){},typeof console<"u"&&["log","warn"].forEach(function(p){console[p]!==void 0&&typeof console[p].apply=="function"&&(C[p]=function(){return console[p].apply(console,arguments)})}),function(){function p(){return!1}var u=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(a){return C.window.setTimeout(a,1e3/60)},h=C.window.cancelAnimationFrame||C.window.clearTimeout;function l(){return u.apply(C.window,arguments)}C.util.animate=function(a){l(function(c){a||(a={});var m,v=c||+new Date,g=a.duration||500,b=v+g,w=a.onChange||p,x=a.abort||p,R=a.onComplete||p,L=a.easing||function(pt,bt,gt,I){return-gt*Math.cos(pt/I*(Math.PI/2))+gt+bt},H="startValue"in a?a.startValue:0,rt="endValue"in a?a.endValue:100,at=a.byValue||rt-H;a.onStart&&a.onStart(),function pt(bt){if(x())R(rt,1,1);else{var gt=(m=bt||+new Date)>b?g:m-v,I=gt/g,M=L(gt,H,at,g),W=Math.abs((M-H)/at);w(M,W,I),m>b?a.onComplete&&a.onComplete():l(pt)}}(v)})},C.util.requestAnimFrame=l,C.util.cancelAnimFrame=function(){return h.apply(C.window,arguments)}}(),C.util.animateColor=function(p,u,h,l){var a=new C.Color(p).getSource(),c=new C.Color(u).getSource();C.util.animate(C.util.object.extend(l=l||{},{duration:h||500,startValue:a,endValue:c,byValue:c,easing:function(m,v,g,b){var w,x,R,L;return w=v,x=g,R=l.colorEasing?l.colorEasing(m,b):1-Math.cos(m/b*(Math.PI/2)),L="rgba("+parseInt(w[0]+R*(x[0]-w[0]),10)+","+parseInt(w[1]+R*(x[1]-w[1]),10)+","+parseInt(w[2]+R*(x[2]-w[2]),10),(L+=","+(w&&x?parseFloat(w[3]+R*(x[3]-w[3])):1))+")"}}))},function(){function p(a,c,m,v){return a<Math.abs(c)?(a=c,v=m/4):v=c===0&&a===0?m/(2*Math.PI)*Math.asin(1):m/(2*Math.PI)*Math.asin(c/a),{a,c,p:m,s:v}}function u(a,c,m){return a.a*Math.pow(2,10*(c-=1))*Math.sin((c*m-a.s)*(2*Math.PI)/a.p)}function h(a,c,m,v){return m-l(v-a,0,m,v)+c}function l(a,c,m,v){return(a/=v)<1/2.75?m*(7.5625*a*a)+c:a<2/2.75?m*(7.5625*(a-=1.5/2.75)*a+.75)+c:a<2.5/2.75?m*(7.5625*(a-=2.25/2.75)*a+.9375)+c:m*(7.5625*(a-=2.625/2.75)*a+.984375)+c}C.util.ease={easeInQuad:function(a,c,m,v){return m*(a/=v)*a+c},easeOutQuad:function(a,c,m,v){return-m*(a/=v)*(a-2)+c},easeInOutQuad:function(a,c,m,v){return(a/=v/2)<1?m/2*a*a+c:-m/2*(--a*(a-2)-1)+c},easeInCubic:function(a,c,m,v){return m*(a/=v)*a*a+c},easeOutCubic:function(a,c,m,v){return m*((a=a/v-1)*a*a+1)+c},easeInOutCubic:function(a,c,m,v){return(a/=v/2)<1?m/2*a*a*a+c:m/2*((a-=2)*a*a+2)+c},easeInQuart:function(a,c,m,v){return m*(a/=v)*a*a*a+c},easeOutQuart:function(a,c,m,v){return-m*((a=a/v-1)*a*a*a-1)+c},easeInOutQuart:function(a,c,m,v){return(a/=v/2)<1?m/2*a*a*a*a+c:-m/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(a,c,m,v){return m*(a/=v)*a*a*a*a+c},easeOutQuint:function(a,c,m,v){return m*((a=a/v-1)*a*a*a*a+1)+c},easeInOutQuint:function(a,c,m,v){return(a/=v/2)<1?m/2*a*a*a*a*a+c:m/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(a,c,m,v){return-m*Math.cos(a/v*(Math.PI/2))+m+c},easeOutSine:function(a,c,m,v){return m*Math.sin(a/v*(Math.PI/2))+c},easeInOutSine:function(a,c,m,v){return-m/2*(Math.cos(Math.PI*a/v)-1)+c},easeInExpo:function(a,c,m,v){return a===0?c:m*Math.pow(2,10*(a/v-1))+c},easeOutExpo:function(a,c,m,v){return a===v?c+m:m*(1-Math.pow(2,-10*a/v))+c},easeInOutExpo:function(a,c,m,v){return a===0?c:a===v?c+m:(a/=v/2)<1?m/2*Math.pow(2,10*(a-1))+c:m/2*(2-Math.pow(2,-10*--a))+c},easeInCirc:function(a,c,m,v){return-m*(Math.sqrt(1-(a/=v)*a)-1)+c},easeOutCirc:function(a,c,m,v){return m*Math.sqrt(1-(a=a/v-1)*a)+c},easeInOutCirc:function(a,c,m,v){return(a/=v/2)<1?-m/2*(Math.sqrt(1-a*a)-1)+c:m/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(a,c,m,v){var g=0;return a===0?c:(a/=v)==1?c+m:(g||(g=.3*v),-u(p(m,m,g,1.70158),a,v)+c)},easeOutElastic:function(a,c,m,v){var g=0;if(a===0)return c;if((a/=v)==1)return c+m;g||(g=.3*v);var b=p(m,m,g,1.70158);return b.a*Math.pow(2,-10*a)*Math.sin((a*v-b.s)*(2*Math.PI)/b.p)+b.c+c},easeInOutElastic:function(a,c,m,v){var g=0;if(a===0)return c;if((a/=v/2)==2)return c+m;g||(g=v*(.3*1.5));var b=p(m,m,g,1.70158);return a<1?-.5*u(b,a,v)+c:b.a*Math.pow(2,-10*(a-=1))*Math.sin((a*v-b.s)*(2*Math.PI)/b.p)*.5+b.c+c},easeInBack:function(a,c,m,v,g){return g===void 0&&(g=1.70158),m*(a/=v)*a*((g+1)*a-g)+c},easeOutBack:function(a,c,m,v,g){return g===void 0&&(g=1.70158),m*((a=a/v-1)*a*((g+1)*a+g)+1)+c},easeInOutBack:function(a,c,m,v,g){return g===void 0&&(g=1.70158),(a/=v/2)<1?m/2*(a*a*((1+(g*=1.525))*a-g))+c:m/2*((a-=2)*a*((1+(g*=1.525))*a+g)+2)+c},easeInBounce:h,easeOutBounce:l,easeInOutBounce:function(a,c,m,v){return a<v/2?.5*h(2*a,0,m,v)+c:.5*l(2*a-v,0,m,v)+.5*m+c}}}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.util.object.clone,a=u.util.toFixed,c=u.util.parseUnit,m=u.util.multiplyTransformMatrices,v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule"},g={stroke:"strokeOpacity",fill:"fillOpacity"};function b(I){return I in v?v[I]:I}function w(I,M,W,dt){var _t,Et=Object.prototype.toString.call(M)==="[object Array]";if(I!=="fill"&&I!=="stroke"||M!=="none")if(I==="strokeDashArray")M=M==="none"?null:M.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(I==="transformMatrix")M=W&&W.transformMatrix?m(W.transformMatrix,u.parseTransformAttribute(M)):u.parseTransformAttribute(M);else if(I==="visible")M=M!=="none"&&M!=="hidden",W&&W.visible===!1&&(M=!1);else if(I==="opacity")M=parseFloat(M),W&&W.opacity!==void 0&&(M*=W.opacity);else if(I==="textAnchor")M=M==="start"?"left":M==="end"?"right":"center";else if(I==="charSpacing")_t=c(M,dt)/dt*1e3;else if(I==="paintFirst"){var Ct=M.indexOf("fill"),Ot=M.indexOf("stroke");M="fill",(Ct>-1&&Ot>-1&&Ot<Ct||Ct===-1&&Ot>-1)&&(M="stroke")}else{if(I==="href"||I==="xlink:href")return M;_t=Et?M.map(c):c(M,dt)}else M="";return!Et&&isNaN(_t)?M:_t}function x(I){return new RegExp("^("+I.join("|")+")\\b","i")}function R(I,M){var W,dt,_t,Et=[];for(dt=0,_t=M.length;dt<_t;dt++)W=I.getElementsByTagName(M[dt]),Et=Et.concat(Array.prototype.slice.call(W));return Et}function L(I,M){var W,dt=!0;return(W=H(I,M.pop()))&&M.length&&(dt=function(_t,Et){for(var Ct,Ot=!0;_t.parentNode&&_t.parentNode.nodeType===1&&Et.length;)Ot&&(Ct=Et.pop()),Ot=H(_t=_t.parentNode,Ct);return Et.length===0}(I,M)),W&&dt&&M.length===0}function H(I,M){var W,dt,_t=I.nodeName,Et=I.getAttribute("class"),Ct=I.getAttribute("id");if(W=new RegExp("^"+_t,"i"),M=M.replace(W,""),Ct&&M.length&&(W=new RegExp("#"+Ct+"(?![a-zA-Z\\-]+)","i"),M=M.replace(W,"")),Et&&M.length)for(dt=(Et=Et.split(" ")).length;dt--;)W=new RegExp("\\."+Et[dt]+"(?![a-zA-Z\\-]+)","i"),M=M.replace(W,"");return M.length===0}function rt(I,M){var W;if(I.getElementById&&(W=I.getElementById(M)),W)return W;var dt,_t,Et,Ct=I.getElementsByTagName("*");for(_t=0,Et=Ct.length;_t<Et;_t++)if(M===(dt=Ct[_t]).getAttribute("id"))return dt}u.svgValidTagNamesRegEx=x(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),u.svgViewBoxElementsRegEx=x(["symbol","image","marker","pattern","view","svg"]),u.svgInvalidAncestorsRegEx=x(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),u.svgValidParentsRegEx=x(["symbol","g","a","svg","clipPath","defs"]),u.cssRules={},u.gradientDefs={},u.clipPaths={},u.parseTransformAttribute=function(){function I(Ot,Xt,Ht){Ot[Ht]=Math.tan(u.util.degreesToRadians(Xt[0]))}var M=u.iMatrix,W=u.reNum,dt="(?:\\s+,?\\s*|,\\s*)",_t="(?:(?:(matrix)\\s*\\(\\s*("+W+")"+dt+"("+W+")"+dt+"("+W+")"+dt+"("+W+")"+dt+"("+W+")"+dt+"("+W+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+W+")(?:"+dt+"("+W+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+W+")(?:"+dt+"("+W+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+W+")(?:"+dt+"("+W+")"+dt+"("+W+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+W+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+W+")\\s*\\)))",Et=new RegExp("^\\s*(?:(?:"+_t+"(?:"+dt+"*"+_t+")*)?)\\s*$"),Ct=new RegExp(_t,"g");return function(Ot){var Xt=M.concat(),Ht=[];if(!Ot||Ot&&!Et.test(Ot))return Xt;Ot.replace(Ct,function(It){var Vt=new RegExp(_t).exec(It).filter(function(ut){return!!ut}),zt=Vt[1],Jt=Vt.slice(2).map(parseFloat);switch(zt){case"translate":(function(ut,ht){ut[4]=ht[0],ht.length===2&&(ut[5]=ht[1])})(Xt,Jt);break;case"rotate":Jt[0]=u.util.degreesToRadians(Jt[0]),function(ut,ht){var Ft=u.util.cos(ht[0]),Mt=u.util.sin(ht[0]),Ut=0,ae=0;ht.length===3&&(Ut=ht[1],ae=ht[2]),ut[0]=Ft,ut[1]=Mt,ut[2]=-Mt,ut[3]=Ft,ut[4]=Ut-(Ft*Ut-Mt*ae),ut[5]=ae-(Mt*Ut+Ft*ae)}(Xt,Jt);break;case"scale":(function(ut,ht){var Ft=ht.length===2?ht[1]:ht[0];ut[0]=ht[0],ut[3]=Ft})(Xt,Jt);break;case"skewX":I(Xt,Jt,2);break;case"skewY":I(Xt,Jt,1);break;case"matrix":Xt=Jt}Ht.push(Xt.concat()),Xt=M.concat()});for(var Kt=Ht[0];Ht.length>1;)Ht.shift(),Kt=u.util.multiplyTransformMatrices(Kt,Ht[0]);return Kt}}();var at=new RegExp("^\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*$");function pt(I){var M,W,dt,_t,Et,Ct,Ot=I.getAttribute("viewBox"),Xt=1,Ht=1,Kt=I.getAttribute("width"),It=I.getAttribute("height"),Vt=I.getAttribute("x")||0,zt=I.getAttribute("y")||0,Jt=I.getAttribute("preserveAspectRatio")||"",ut=!Ot||!u.svgViewBoxElementsRegEx.test(I.nodeName)||!(Ot=Ot.match(at)),ht=!Kt||!It||Kt==="100%"||It==="100%",Ft=ut&&ht,Mt={},Ut="",ae=0,se=0;if(Mt.width=0,Mt.height=0,Mt.toBeParsed=Ft,Ft)return Mt;if(ut)return Mt.width=c(Kt),Mt.height=c(It),Mt;if(M=-parseFloat(Ot[1]),W=-parseFloat(Ot[2]),dt=parseFloat(Ot[3]),_t=parseFloat(Ot[4]),ht?(Mt.width=dt,Mt.height=_t):(Mt.width=c(Kt),Mt.height=c(It),Xt=Mt.width/dt,Ht=Mt.height/_t),(Jt=u.util.parsePreserveAspectRatioAttribute(Jt)).alignX!=="none"&&(Jt.meetOrSlice==="meet"&&(Ht=Xt=Xt>Ht?Ht:Xt),Jt.meetOrSlice==="slice"&&(Ht=Xt=Xt>Ht?Xt:Ht),ae=Mt.width-dt*Xt,se=Mt.height-_t*Xt,Jt.alignX==="Mid"&&(ae/=2),Jt.alignY==="Mid"&&(se/=2),Jt.alignX==="Min"&&(ae=0),Jt.alignY==="Min"&&(se=0)),Xt===1&&Ht===1&&M===0&&W===0&&Vt===0&&zt===0)return Mt;if((Vt||zt)&&(Ut=" translate("+c(Vt)+" "+c(zt)+") "),Mt.viewboxTransform=u.parseTransformAttribute(Et=Ut+" matrix("+Xt+" 0 0 "+Ht+" "+(M*Xt+ae)+" "+(W*Ht+se)+") "),I.nodeName==="svg"){for(Ct=I.ownerDocument.createElement("g");I.firstChild;)Ct.appendChild(I.firstChild);I.appendChild(Ct)}else Et=(Ct=I).getAttribute("transform")+Et;return Ct.setAttribute("transform",Et),Mt}function bt(I,M){var W=rt(I,M.getAttribute("xlink:href").substr(1));if(W&&W.getAttribute("xlink:href")&&bt(I,W),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(_t){M.hasAttribute(_t)||M.setAttribute(_t,W.getAttribute(_t))}),!M.children.length)for(var dt=W.cloneNode(!0);dt.firstChild;)M.appendChild(dt.firstChild);M.removeAttribute("xlink:href")}u.parseSVGDocument=function(I,M,W,dt){if(I){(function(Vt){for(var zt=R(Vt,["use","svg:use"]),Jt=0;zt.length&&Jt<zt.length;){var ut,ht,Ft,Mt,Ut=zt[Jt],ae=(Ut.getAttribute("xlink:href")||Ut.getAttribute("href")).substr(1),se=Ut.getAttribute("x")||0,Ae=Ut.getAttribute("y")||0,we=rt(Vt,ae).cloneNode(!0),be=(we.getAttribute("transform")||"")+" translate("+se+", "+Ae+")",Ue=zt.length;if(pt(we),/^svg$/i.test(we.nodeName)){var Jn=we.ownerDocument.createElement("g");for(ht=0,Mt=(Ft=we.attributes).length;ht<Mt;ht++)ut=Ft.item(ht),Jn.setAttribute(ut.nodeName,ut.nodeValue);for(;we.firstChild;)Jn.appendChild(we.firstChild);we=Jn}for(ht=0,Mt=(Ft=Ut.attributes).length;ht<Mt;ht++)(ut=Ft.item(ht)).nodeName!=="x"&&ut.nodeName!=="y"&&ut.nodeName!=="xlink:href"&&ut.nodeName!=="href"&&(ut.nodeName==="transform"?be=ut.nodeValue+" "+be:we.setAttribute(ut.nodeName,ut.nodeValue));we.setAttribute("transform",be),we.setAttribute("instantiated_by_use","1"),we.removeAttribute("id"),Ut.parentNode.replaceChild(we,Ut),zt.length===Ue&&Jt++}})(I);var _t,Et,Ct=u.Object.__uid++,Ot=pt(I),Xt=u.util.toArray(I.getElementsByTagName("*"));if(Ot.crossOrigin=dt&&dt.crossOrigin,Ot.svgUid=Ct,Xt.length===0&&u.isLikelyNode){var Ht=[];for(_t=0,Et=(Xt=I.selectNodes('//*[name(.)!="svg"]')).length;_t<Et;_t++)Ht[_t]=Xt[_t];Xt=Ht}var Kt=Xt.filter(function(Vt){return pt(Vt),u.svgValidTagNamesRegEx.test(Vt.nodeName.replace("svg:",""))&&!function(zt,Jt){for(;zt&&(zt=zt.parentNode);)if(zt.nodeName&&Jt.test(zt.nodeName.replace("svg:",""))&&!zt.getAttribute("instantiated_by_use"))return!0;return!1}(Vt,u.svgInvalidAncestorsRegEx)});if(!Kt||Kt&&!Kt.length)M&&M([],{});else{var It={};Xt.filter(function(Vt){return Vt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Vt){var zt=Vt.getAttribute("id");It[zt]=u.util.toArray(Vt.getElementsByTagName("*")).filter(function(Jt){return u.svgValidTagNamesRegEx.test(Jt.nodeName.replace("svg:",""))})}),u.gradientDefs[Ct]=u.getGradientDefs(I),u.cssRules[Ct]=u.getCSSRules(I),u.clipPaths[Ct]=It,u.parseElements(Kt,function(Vt,zt){M&&(M(Vt,Ot,zt,Xt),delete u.gradientDefs[Ct],delete u.cssRules[Ct],delete u.clipPaths[Ct])},l(Ot),W,dt)}}};var gt=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+u.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+u.reNum+"))?\\s+(.*)");h(u,{parseFontDeclaration:function(I,M){var W=I.match(gt);if(W){var dt=W[1],_t=W[3],Et=W[4],Ct=W[5],Ot=W[6];dt&&(M.fontStyle=dt),_t&&(M.fontWeight=isNaN(parseFloat(_t))?_t:parseFloat(_t)),Et&&(M.fontSize=c(Et)),Ot&&(M.fontFamily=Ot),Ct&&(M.lineHeight=Ct==="normal"?1:Ct)}},getGradientDefs:function(I){var M,W=R(I,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),dt=0,_t={};for(dt=W.length;dt--;)(M=W[dt]).getAttribute("xlink:href")&&bt(I,M),_t[M.getAttribute("id")]=M;return _t},parseAttributes:function(I,M,W){if(I){var dt,_t,Et,Ct={};W===void 0&&(W=I.getAttribute("svgUid")),I.parentNode&&u.svgValidParentsRegEx.test(I.parentNode.nodeName)&&(Ct=u.parseAttributes(I.parentNode,M,W));var Ot=M.reduce(function(zt,Jt){return(dt=I.getAttribute(Jt))&&(zt[Jt]=dt),zt},{});Ot=h(Ot,h(function(zt,Jt){var ut={};for(var ht in u.cssRules[Jt])if(L(zt,ht.split(" ")))for(var Ft in u.cssRules[Jt][ht])ut[Ft]=u.cssRules[Jt][ht][Ft];return ut}(I,W),u.parseStyleAttribute(I))),_t=Et=Ct.fontSize||u.Text.DEFAULT_SVG_FONT_SIZE,Ot["font-size"]&&(Ot["font-size"]=_t=c(Ot["font-size"],Et));var Xt,Ht,Kt={};for(var It in Ot)Ht=w(Xt=b(It),Ot[It],Ct,_t),Kt[Xt]=Ht;Kt&&Kt.font&&u.parseFontDeclaration(Kt.font,Kt);var Vt=h(Ct,Kt);return u.svgValidParentsRegEx.test(I.nodeName)?Vt:function(zt){for(var Jt in g)if(zt[g[Jt]]!==void 0&&zt[Jt]!==""){if(zt[Jt]===void 0){if(!u.Object.prototype[Jt])continue;zt[Jt]=u.Object.prototype[Jt]}if(zt[Jt].indexOf("url(")!==0){var ut=new u.Color(zt[Jt]);zt[Jt]=ut.setAlpha(a(ut.getAlpha()*zt[g[Jt]],2)).toRgba()}}return zt}(Vt)}},parseElements:function(I,M,W,dt,_t){new u.ElementsParser(I,M,W,dt,_t).parse()},parseStyleAttribute:function(I){var M={},W=I.getAttribute("style");return W&&(typeof W=="string"?function(dt,_t){var Et,Ct;dt.replace(/;\s*$/,"").split(";").forEach(function(Ot){var Xt=Ot.split(":");Et=Xt[0].trim().toLowerCase(),Ct=Xt[1].trim(),_t[Et]=Ct})}(W,M):function(dt,_t){for(var Et in dt)dt[Et]!==void 0&&(_t[Et.toLowerCase()]=dt[Et])}(W,M)),M},parsePointsAttribute:function(I){if(!I)return null;var M,W,dt=[];for(M=0,W=(I=(I=I.replace(/,/g," ").trim()).split(/\s+/)).length;M<W;M+=2)dt.push({x:parseFloat(I[M]),y:parseFloat(I[M+1])});return dt},getCSSRules:function(I){var M,W,dt=I.getElementsByTagName("style"),_t={};for(M=0,W=dt.length;M<W;M++){var Et=dt[M].textContent||dt[M].text;(Et=Et.replace(/\/\*[\s\S]*?\*\//g,"")).trim()!==""&&Et.match(/[^{]*\{[\s\S]*?\}/g).map(function(Ct){return Ct.trim()}).forEach(function(Ct){var Ot=Ct.match(/([\s\S]*?)\s*\{([^}]*)\}/),Xt={},Ht=Ot[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(M=0,W=Ht.length;M<W;M++){var Kt=Ht[M].split(/\s*:\s*/);Xt[Kt[0]]=Kt[1]}(Ct=Ot[1]).split(",").forEach(function(It){(It=It.replace(/^svg/i,"").trim())!==""&&(_t[It]?u.util.object.extend(_t[It],Xt):_t[It]=u.util.object.clone(Xt))})})}return _t},loadSVGFromURL:function(I,M,W,dt){I=I.replace(/^\n\s*/,"").trim(),new u.util.request(I,{method:"get",onComplete:function(_t){var Et=_t.responseXML;if(Et&&!Et.documentElement&&u.window.ActiveXObject&&_t.responseText&&((Et=new ActiveXObject("Microsoft.XMLDOM")).async="false",Et.loadXML(_t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),!Et||!Et.documentElement)return M&&M(null),!1;u.parseSVGDocument(Et.documentElement,function(Ct,Ot,Xt,Ht){M&&M(Ct,Ot,Xt,Ht)},W,dt)}})},loadSVGFromString:function(I,M,W,dt){var _t;if(I=I.trim(),typeof DOMParser<"u"){var Et=new DOMParser;Et&&Et.parseFromString&&(_t=Et.parseFromString(I,"text/xml"))}else u.window.ActiveXObject&&((_t=new ActiveXObject("Microsoft.XMLDOM")).async="false",_t.loadXML(I.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));u.parseSVGDocument(_t.documentElement,function(Ct,Ot,Xt,Ht){M(Ct,Ot,Xt,Ht)},W,dt)}})}(),C.ElementsParser=function(p,u,h,l,a){this.elements=p,this.callback=u,this.options=h,this.reviver=l,this.svgUid=h&&h.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g},(N=C.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},N.createObjects=function(){var p=this;this.elements.forEach(function(u,h){u.setAttribute("svgUid",p.svgUid),p.createObject(u,h)})},N.findTag=function(p){return C[C.util.string.capitalize(p.tagName.replace("svg:",""))]},N.createObject=function(p,u){var h=this.findTag(p);if(h&&h.fromElement)try{h.fromElement(p,this.createCallback(u,p),this.options)}catch(l){C.log(l)}else this.checkIfDone()},N.createCallback=function(p,u){var h=this;return function(l){var a;h.resolveGradient(l,"fill"),h.resolveGradient(l,"stroke"),l instanceof C.Image&&l._originalElement&&(a=l.parsePreserveAspectRatioAttribute(u)),l._removeTransformMatrix(a),h.resolveClipPath(l),h.reviver&&h.reviver(u,l),h.instances[p]=l,h.checkIfDone()}},N.extractPropertyDefinition=function(p,u,h){var l=p[u];if(/^url\(/.test(l)){var a=this.regexUrl.exec(l)[1];return this.regexUrl.lastIndex=0,C[h][this.svgUid][a]}},N.resolveGradient=function(p,u){var h=this.extractPropertyDefinition(p,u,"gradientDefs");h&&p.set(u,C.Gradient.fromElement(h,p))},N.createClipPathCallback=function(p,u){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,u.push(h)}},N.resolveClipPath=function(p){var u,h,l,a,c=this.extractPropertyDefinition(p,"clipPath","clipPaths");if(c){l=[],h=C.util.invertTransform(p.calcTransformMatrix());for(var m=0;m<c.length;m++)this.findTag(u=c[m]).fromElement(u,this.createClipPathCallback(p,l),this.options);c=l.length===1?l[0]:new C.Group(l),a=C.util.multiplyTransformMatrices(h,c.calcTransformMatrix());var v=C.util.qrDecompose(a);c.flipX=!1,c.flipY=!1,c.set("scaleX",v.scaleX),c.set("scaleY",v.scaleY),c.angle=v.angle,c.skewX=v.skewX,c.skewY=0,c.setPositionByOrigin({x:v.translateX,y:v.translateY},"center","center"),p.clipPath=c}},N.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(p){return p!=null}),this.callback(this.instances,this.elements))},function(p){"use strict";var u=q.fabric||(q.fabric={});function h(l,a){this.x=l,this.y=a}u.Point?u.warn("fabric.Point is already defined"):(u.Point=h,h.prototype={type:"point",constructor:h,add:function(l){return new h(this.x+l.x,this.y+l.y)},addEquals:function(l){return this.x+=l.x,this.y+=l.y,this},scalarAdd:function(l){return new h(this.x+l,this.y+l)},scalarAddEquals:function(l){return this.x+=l,this.y+=l,this},subtract:function(l){return new h(this.x-l.x,this.y-l.y)},subtractEquals:function(l){return this.x-=l.x,this.y-=l.y,this},scalarSubtract:function(l){return new h(this.x-l,this.y-l)},scalarSubtractEquals:function(l){return this.x-=l,this.y-=l,this},multiply:function(l){return new h(this.x*l,this.y*l)},multiplyEquals:function(l){return this.x*=l,this.y*=l,this},divide:function(l){return new h(this.x/l,this.y/l)},divideEquals:function(l){return this.x/=l,this.y/=l,this},eq:function(l){return this.x===l.x&&this.y===l.y},lt:function(l){return this.x<l.x&&this.y<l.y},lte:function(l){return this.x<=l.x&&this.y<=l.y},gt:function(l){return this.x>l.x&&this.y>l.y},gte:function(l){return this.x>=l.x&&this.y>=l.y},lerp:function(l,a){return a===void 0&&(a=.5),a=Math.max(Math.min(1,a),0),new h(this.x+(l.x-this.x)*a,this.y+(l.y-this.y)*a)},distanceFrom:function(l){var a=this.x-l.x,c=this.y-l.y;return Math.sqrt(a*a+c*c)},midPointFrom:function(l){return this.lerp(l)},min:function(l){return new h(Math.min(this.x,l.x),Math.min(this.y,l.y))},max:function(l){return new h(Math.max(this.x,l.x),Math.max(this.y,l.y))},toString:function(){return this.x+","+this.y},setXY:function(l,a){return this.x=l,this.y=a,this},setX:function(l){return this.x=l,this},setY:function(l){return this.y=l,this},setFromPoint:function(l){return this.x=l.x,this.y=l.y,this},swap:function(l){var a=this.x,c=this.y;this.x=l.x,this.y=l.y,l.x=a,l.y=c},clone:function(){return new h(this.x,this.y)}})}(),function(p){"use strict";var u=q.fabric||(q.fabric={});function h(l){this.status=l,this.points=[]}u.Intersection?u.warn("fabric.Intersection is already defined"):(u.Intersection=h,u.Intersection.prototype={constructor:h,appendPoint:function(l){return this.points.push(l),this},appendPoints:function(l){return this.points=this.points.concat(l),this}},u.Intersection.intersectLineLine=function(l,a,c,m){var v,g=(m.x-c.x)*(l.y-c.y)-(m.y-c.y)*(l.x-c.x),b=(a.x-l.x)*(l.y-c.y)-(a.y-l.y)*(l.x-c.x),w=(m.y-c.y)*(a.x-l.x)-(m.x-c.x)*(a.y-l.y);if(w!==0){var x=g/w,R=b/w;0<=x&&x<=1&&0<=R&&R<=1?(v=new h("Intersection")).appendPoint(new u.Point(l.x+x*(a.x-l.x),l.y+x*(a.y-l.y))):v=new h}else v=new h(g===0||b===0?"Coincident":"Parallel");return v},u.Intersection.intersectLinePolygon=function(l,a,c){var m,v,g=new h,b=c.length;for(v=0;v<b;v++)m=h.intersectLineLine(l,a,c[v],c[(v+1)%b]),g.appendPoints(m.points);return g.points.length>0&&(g.status="Intersection"),g},u.Intersection.intersectPolygonPolygon=function(l,a){var c,m=new h,v=l.length;for(c=0;c<v;c++){var g=h.intersectLinePolygon(l[c],l[(c+1)%v],a);m.appendPoints(g.points)}return m.points.length>0&&(m.status="Intersection"),m},u.Intersection.intersectPolygonRectangle=function(l,a,c){var m=a.min(c),v=a.max(c),g=new u.Point(v.x,m.y),b=new u.Point(m.x,v.y),w=h.intersectLinePolygon(m,g,l),x=h.intersectLinePolygon(g,v,l),R=h.intersectLinePolygon(v,b,l),L=h.intersectLinePolygon(b,m,l),H=new h;return H.appendPoints(w.points),H.appendPoints(x.points),H.appendPoints(R.points),H.appendPoints(L.points),H.points.length>0&&(H.status="Intersection"),H})}(),function(p){"use strict";var u=q.fabric||(q.fabric={});function h(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}function l(a,c,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?a+6*(c-a)*m:m<.5?c:m<2/3?a+(c-a)*(2/3-m)*6:a}u.Color?u.warn("fabric.Color is already defined."):(u.Color=h,u.Color.prototype={_tryParsingColor:function(a){var c;a in h.colorNameMap&&(a=h.colorNameMap[a]),a==="transparent"&&(c=[255,255,255,0]),c||(c=h.sourceFromHex(a)),c||(c=h.sourceFromRgb(a)),c||(c=h.sourceFromHsl(a)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(a,c,m){var v,g,b,w=u.util.array.max([a/=255,c/=255,m/=255]),x=u.util.array.min([a,c,m]);if(b=(w+x)/2,w===x)v=g=0;else{var R=w-x;switch(g=b>.5?R/(2-w-x):R/(w+x),w){case a:v=(c-m)/R+(c<m?6:0);break;case c:v=(m-a)/R+2;break;case m:v=(a-c)/R+4}v/=6}return[Math.round(360*v),Math.round(100*g),Math.round(100*b)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+a[3]+")"},toHex:function(){var a,c,m,v=this.getSource();return a=(a=v[0].toString(16)).length===1?"0"+a:a,c=(c=v[1].toString(16)).length===1?"0"+c:c,m=(m=v[2].toString(16)).length===1?"0"+m:m,a.toUpperCase()+c.toUpperCase()+m.toUpperCase()},toHexa:function(){var a,c=this.getSource();return a=(a=(a=Math.round(255*c[3])).toString(16)).length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var c=this.getSource();return c[3]=a,this.setSource(c),this},toGrayscale:function(){var a=this.getSource(),c=parseInt((.3*a[0]+.59*a[1]+.11*a[2]).toFixed(0),10);return this.setSource([c,c,c,a[3]]),this},toBlackWhite:function(a){var c=this.getSource(),m=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),v=c[3];return a=a||127,m=Number(m)<Number(a)?0:255,this.setSource([m,m,m,v]),this},overlayWith:function(a){a instanceof h||(a=new h(a));var c,m=[],v=this.getAlpha(),g=this.getSource(),b=a.getSource();for(c=0;c<3;c++)m.push(Math.round(.5*g[c]+.5*b[c]));return m[3]=v,this.setSource(m),this}},u.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,u.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,u.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,u.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},u.Color.fromRgb=function(a){return h.fromSource(h.sourceFromRgb(a))},u.Color.sourceFromRgb=function(a){var c=a.match(h.reRGBa);if(c){var m=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),v=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),g=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(m,10),parseInt(v,10),parseInt(g,10),c[4]?parseFloat(c[4]):1]}},u.Color.fromRgba=h.fromRgb,u.Color.fromHsl=function(a){return h.fromSource(h.sourceFromHsl(a))},u.Color.sourceFromHsl=function(a){var c=a.match(h.reHSLa);if(c){var m,v,g,b=(parseFloat(c[1])%360+360)%360/360,w=parseFloat(c[2])/(/%$/.test(c[2])?100:1),x=parseFloat(c[3])/(/%$/.test(c[3])?100:1);if(w===0)m=v=g=x;else{var R=x<=.5?x*(w+1):x+w-x*w,L=2*x-R;m=l(L,R,b+1/3),v=l(L,R,b),g=l(L,R,b-1/3)}return[Math.round(255*m),Math.round(255*v),Math.round(255*g),c[4]?parseFloat(c[4]):1]}},u.Color.fromHsla=h.fromHsl,u.Color.fromHex=function(a){return h.fromSource(h.sourceFromHex(a))},u.Color.sourceFromHex=function(a){if(a.match(h.reHex)){var c=a.slice(a.indexOf("#")+1),m=c.length===3||c.length===4,v=c.length===8||c.length===4,g=m?c.charAt(0)+c.charAt(0):c.substring(0,2),b=m?c.charAt(1)+c.charAt(1):c.substring(2,4),w=m?c.charAt(2)+c.charAt(2):c.substring(4,6),x=v?m?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(g,16),parseInt(b,16),parseInt(w,16),parseFloat((parseInt(x,16)/255).toFixed(2))]}},u.Color.fromSource=function(a){var c=new h;return c.setSource(a),c})}(),function(){function p(l){var a,c,m,v,g=l.getAttribute("style"),b=l.getAttribute("offset")||0;if(b=(b=parseFloat(b)/(/%$/.test(b)?100:1))<0?0:b>1?1:b,g){var w=g.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),v=w.length;v--;){var x=w[v].split(/\s*:\s*/),R=x[0].trim(),L=x[1].trim();R==="stop-color"?a=L:R==="stop-opacity"&&(m=L)}}return a||(a=l.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=l.getAttribute("stop-opacity")),c=(a=new C.Color(a)).getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=c,{offset:b,color:a.toRgb(),opacity:m}}var u=C.util.object.clone;function h(l,a,c){var m,v=0,g=1,b="";for(var w in a)a[w]==="Infinity"?a[w]=1:a[w]==="-Infinity"&&(a[w]=0),m=parseFloat(a[w],10),g=typeof a[w]=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(a[w])?.01:1,w==="x1"||w==="x2"||w==="r2"?(g*=c==="objectBoundingBox"?l.width:1,v=c==="objectBoundingBox"&&l.left||0):w!=="y1"&&w!=="y2"||(g*=c==="objectBoundingBox"?l.height:1,v=c==="objectBoundingBox"&&l.top||0),a[w]=m*g+v;if(l.type==="ellipse"&&a.r2!==null&&c==="objectBoundingBox"&&l.rx!==l.ry){var x=l.ry/l.rx;b=" scale(1, "+x+")",a.y1&&(a.y1/=x),a.y2&&(a.y2/=x)}return b}C.Gradient=C.util.createClass({offsetX:0,offsetY:0,initialize:function(l){l||(l={});var a={};this.id=C.Object.__uid++,this.type=l.type||"linear",a={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(a.r1=l.coords.r1||0,a.r2=l.coords.r2||0),this.coords=a,this.colorStops=l.colorStops.slice(),l.gradientTransform&&(this.gradientTransform=l.gradientTransform),this.offsetX=l.offsetX||this.offsetX,this.offsetY=l.offsetY||this.offsetY},addColorStop:function(l){for(var a in l){var c=new C.Color(l[a]);this.colorStops.push({offset:parseFloat(a),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(l){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,a,l),a},toSVG:function(l){var a,c,m,v,g=u(this.coords,!0),b=u(this.colorStops,!0),w=g.r1>g.r2,x=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),R=l.width/2-this.offsetX,L=l.height/2-this.offsetY;if(b.sort(function(pt,bt){return pt.offset-bt.offset}),l.type==="path"&&(R-=l.pathOffset.x,L-=l.pathOffset.y),x[4]-=R,x[5]-=L,v='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',v+=' gradientTransform="matrix('+x.join(" ")+')" ',this.type==="linear"?m=["<linearGradient ",v,' x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",v,' cx="',w?g.x1:g.x2,'" cy="',w?g.y1:g.y2,'" r="',w?g.r1:g.r2,'" fx="',w?g.x2:g.x1,'" fy="',w?g.y2:g.y1,`">
`]),this.type==="radial"){if(w)for((b=b.concat()).reverse(),a=0,c=b.length;a<c;a++)b[a].offset=1-b[a].offset;var H=Math.min(g.r1,g.r2);if(H>0){var rt=H/Math.max(g.r1,g.r2);for(a=0,c=b.length;a<c;a++)b[a].offset+=rt*(1-b[a].offset)}}for(a=0,c=b.length;a<c;a++){var at=b[a];m.push("<stop ",'offset="',100*at.offset+"%",'" style="stop-color:',at.color,at.opacity!==void 0?";stop-opacity: "+at.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(l){var a,c,m,v=C.util.object.clone(this.coords);if(this.type){for(this.type==="linear"?a=l.createLinearGradient(v.x1,v.y1,v.x2,v.y2):this.type==="radial"&&(a=l.createRadialGradient(v.x1,v.y1,v.r1,v.x2,v.y2,v.r2)),c=0,m=this.colorStops.length;c<m;c++){var g=this.colorStops[c].color,b=this.colorStops[c].opacity,w=this.colorStops[c].offset;b!==void 0&&(g=new C.Color(g).setAlpha(b).toRgba()),a.addColorStop(w,g)}return a}}}),C.util.object.extend(C.Gradient,{fromElement:function(l,a){var c,m,v,g,b=l.getElementsByTagName("stop"),w=l.getAttribute("gradientUnits")||"objectBoundingBox",x=l.getAttribute("gradientTransform"),R=[];for((c=l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?"linear":"radial")=="linear"?m=function(H){return{x1:H.getAttribute("x1")||0,y1:H.getAttribute("y1")||0,x2:H.getAttribute("x2")||"100%",y2:H.getAttribute("y2")||0}}(l):c==="radial"&&(m=function(H){return{x1:H.getAttribute("fx")||H.getAttribute("cx")||"50%",y1:H.getAttribute("fy")||H.getAttribute("cy")||"50%",r1:0,x2:H.getAttribute("cx")||"50%",y2:H.getAttribute("cy")||"50%",r2:H.getAttribute("r")||"50%"}}(l)),g=b.length;g--;)R.push(p(b[g]));v=h(a,m,w);var L=new C.Gradient({type:c,coords:m,colorStops:R,offsetX:-a.left,offsetY:-a.top});return(x||v!=="")&&(L.gradientTransform=C.parseTransformAttribute((x||"")+v)),L},forObject:function(l,a){return a||(a={}),h(l,a.coords,"userSpaceOnUse"),new C.Gradient(a)}})}(),function(){"use strict";var p=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(u,h){if(u||(u={}),this.id=C.Object.__uid++,this.setOptions(u),!u.source||u.source&&typeof u.source!="string")h&&h(this);else if(C.util.getFunctionBody(u.source)!==void 0)this.source=new Function(C.util.getFunctionBody(u.source)),h&&h(this);else{var l=this;this.source=C.util.createImage(),C.util.loadImage(u.source,function(a){l.source=a,h&&h(l)},null,this.crossOrigin)}},toObject:function(u){var h,l,a=C.Object.NUM_FRACTION_DIGITS;return typeof this.source=="function"?h=String(this.source):typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),l={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:p(this.offsetX,a),offsetY:p(this.offsetY,a),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,l,u),l},toSVG:function(u){var h=typeof this.source=="function"?this.source():this.source,l=h.width/u.width,a=h.height/u.height,c=this.offsetX/u.width,m=this.offsetY/u.height,v="";return this.repeat!=="repeat-x"&&this.repeat!=="no-repeat"||(a=1,m&&(a+=Math.abs(m))),this.repeat!=="repeat-y"&&this.repeat!=="no-repeat"||(l=1,c&&(l+=Math.abs(c))),h.src?v=h.src:h.toDataURL&&(v=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+m+'" width="'+l+'" height="'+a+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+v+`"></image>
</pattern>
`},setOptions:function(u){for(var h in u)this[h]=u[h]},toLive:function(u){var h=typeof this.source=="function"?this.source():this.source;return!h||h.src!==void 0&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":u.createPattern(h,this.repeat)}})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.toFixed;u.Shadow?u.warn("fabric.Shadow is already defined."):(u.Shadow=u.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(l){for(var a in typeof l=="string"&&(l=this._parseShadow(l)),l)this[a]=l[a];this.id=u.Object.__uid++},_parseShadow:function(l){var a=l.trim(),c=u.Shadow.reOffsetsAndBlur.exec(a)||[];return{color:(a.replace(u.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(c[1],10)||0,offsetY:parseInt(c[2],10)||0,blur:parseInt(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(l){var a=40,c=40,m=u.Object.NUM_FRACTION_DIGITS,v=u.util.rotateVector({x:this.offsetX,y:this.offsetY},u.util.degreesToRadians(-l.angle)),g=new u.Color(this.color);return l.width&&l.height&&(a=100*h((Math.abs(v.x)+this.blur)/l.width,m)+20,c=100*h((Math.abs(v.y)+this.blur)/l.height,m)+20),l.flipX&&(v.x*=-1),l.flipY&&(v.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,m)+`"></feGaussianBlur>
	<feOffset dx="`+h(v.x,m)+'" dy="'+h(v.y,m)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var l={},a=u.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(c){this[c]!==a[c]&&(l[c]=this[c])},this),l}}),u.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(),function(){"use strict";if(C.StaticCanvas)C.warn("fabric.StaticCanvas is already defined.");else{var p=C.util.object.extend,u=C.util.getElementOffset,h=C.util.removeFromArray,l=C.util.toFixed,a=C.util.transformPoint,c=C.util.invertTransform,m=C.util.getNodeCanvas,v=C.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(b,w){w||(w={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(b,w)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(b,w){var x=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(b),this._initOptions(w),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),w.overlayImage&&this.setOverlayImage(w.overlayImage,x),w.backgroundImage&&this.setBackgroundImage(w.backgroundImage,x),w.backgroundColor&&this.setBackgroundColor(w.backgroundColor,x),w.overlayColor&&this.setOverlayColor(w.overlayColor,x),this.calcOffset()},_isRetinaScaling:function(){return C.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?C.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*C.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*C.devicePixelRatio),this.contextContainer.scale(C.devicePixelRatio,C.devicePixelRatio))},calcOffset:function(){return this._offset=u(this.lowerCanvasEl),this},setOverlayImage:function(b,w,x){return this.__setBgOverlayImage("overlayImage",b,w,x)},setBackgroundImage:function(b,w,x){return this.__setBgOverlayImage("backgroundImage",b,w,x)},setOverlayColor:function(b,w){return this.__setBgOverlayColor("overlayColor",b,w)},setBackgroundColor:function(b,w){return this.__setBgOverlayColor("backgroundColor",b,w)},_setImageSmoothing:function(){var b=this.getContext();b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(b,w,x,R){return typeof w=="string"?C.util.loadImage(w,function(L){if(L){var H=new C.Image(L,R);this[b]=H,H.canvas=this}x&&x(L)},this,R&&R.crossOrigin):(R&&w.setOptions(R),this[b]=w,w&&(w.canvas=this),x&&x(w)),this},__setBgOverlayColor:function(b,w,x){return this[b]=w,this._initGradient(w,b),this._initPattern(w,b,x),this},_createCanvasElement:function(){var b=v();if(!b||(b.style||(b.style={}),b.getContext===void 0))throw g;return b},_initOptions:function(b){var w=this.lowerCanvasEl;this._setOptions(b),this.width=this.width||parseInt(w.width,10)||0,this.height=this.height||parseInt(w.height,10)||0,this.lowerCanvasEl.style&&(w.width=this.width,w.height=this.height,w.style.width=this.width+"px",w.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(b){this.lowerCanvasEl=b&&b.getContext?b:C.util.getById(b)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(b,w){return this.setDimensions({width:b},w)},setHeight:function(b,w){return this.setDimensions({height:b},w)},setDimensions:function(b,w){var x;for(var R in w=w||{},b)x=b[R],w.cssOnly||(this._setBackstoreDimension(R,b[R]),x+="px",this.hasLostContext=!0),w.backstoreOnly||this._setCssDimension(R,x);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),w.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(b,w){return this.lowerCanvasEl[b]=w,this.upperCanvasEl&&(this.upperCanvasEl[b]=w),this.cacheCanvasEl&&(this.cacheCanvasEl[b]=w),this[b]=w,this},_setCssDimension:function(b,w){return this.lowerCanvasEl.style[b]=w,this.upperCanvasEl&&(this.upperCanvasEl.style[b]=w),this.wrapperEl&&(this.wrapperEl.style[b]=w),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(b){var w,x,R,L=this._activeObject;for(this.viewportTransform=b,x=0,R=this._objects.length;x<R;x++)(w=this._objects[x]).group||w.setCoords(!1,!0);return L&&L.type==="activeSelection"&&L.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(b,w){var x=b,R=this.viewportTransform.slice(0);b=a(b,c(this.viewportTransform)),R[0]=w,R[3]=w;var L=a(b,R);return R[4]+=x.x-L.x,R[5]+=x.y-L.y,this.setViewportTransform(R)},setZoom:function(b){return this.zoomToPoint(new C.Point(0,0),b),this},absolutePan:function(b){var w=this.viewportTransform.slice(0);return w[4]=-b.x,w[5]=-b.y,this.setViewportTransform(w)},relativePan:function(b){return this.absolutePan(new C.Point(-b.x-this.viewportTransform[4],-b.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(b){this.stateful&&b.setupState(),b._set("canvas",this),b.setCoords(),this.fire("object:added",{target:b}),b.fire("added")},_onObjectRemoved:function(b){this.fire("object:removed",{target:b}),b.fire("removed"),delete b.canvas},clearContext:function(b){return b.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var b={},w=this.width,x=this.height,R=c(this.viewportTransform);return b.tl=a({x:0,y:0},R),b.br=a({x:w,y:x},R),b.tr=new C.Point(b.br.x,b.tl.y),b.bl=new C.Point(b.tl.x,b.br.y),this.vptCoords=b,b},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(b,w){var x=this.viewportTransform,R=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(b),this.fire("before:render",{ctx:b}),this.clipTo&&C.util.clipContext(this,b),this._renderBackground(b),b.save(),b.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(b,w),b.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(b),this.clipTo&&b.restore(),R&&(R.canvas=this,R.shouldCache(),R._transformDone=!0,R.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(b)),this._renderOverlay(b),this.controlsAboveOverlay&&this.interactive&&this.drawControls(b),this.fire("after:render",{ctx:b})},drawClipPathOnCanvas:function(b){var w=this.viewportTransform,x=this.clipPath;b.save(),b.transform(w[0],w[1],w[2],w[3],w[4],w[5]),b.globalCompositeOperation="destination-in",x.transform(b),b.scale(1/x.zoomX,1/x.zoomY),b.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),b.restore()},_renderObjects:function(b,w){var x,R;for(x=0,R=w.length;x<R;++x)w[x]&&w[x].render(b)},_renderBackgroundOrOverlay:function(b,w){var x,R=this[w+"Color"];R&&(b.fillStyle=R.toLive?R.toLive(b,this):R,b.fillRect(R.offsetX||0,R.offsetY||0,this.width,this.height)),(R=this[w+"Image"])&&(this[w+"Vpt"]&&(x=this.viewportTransform,b.save(),b.transform(x[0],x[1],x[2],x[3],x[4],x[5])),R.render(b),this[w+"Vpt"]&&b.restore())},_renderBackground:function(b){this._renderBackgroundOrOverlay(b,"background")},_renderOverlay:function(b){this._renderBackgroundOrOverlay(b,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(b){return this._centerObject(b,new C.Point(this.getCenter().left,b.getCenterPoint().y))},centerObjectV:function(b){return this._centerObject(b,new C.Point(b.getCenterPoint().x,this.getCenter().top))},centerObject:function(b){var w=this.getCenter();return this._centerObject(b,new C.Point(w.left,w.top))},viewportCenterObject:function(b){var w=this.getVpCenter();return this._centerObject(b,w)},viewportCenterObjectH:function(b){var w=this.getVpCenter();return this._centerObject(b,new C.Point(w.x,b.getCenterPoint().y)),this},viewportCenterObjectV:function(b){var w=this.getVpCenter();return this._centerObject(b,new C.Point(b.getCenterPoint().x,w.y))},getVpCenter:function(){var b=this.getCenter(),w=c(this.viewportTransform);return a({x:b.left,y:b.top},w)},_centerObject:function(b,w){return b.setPositionByOrigin(w,"center","center"),b.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(b){return this.toDatalessObject(b)},toObject:function(b){return this._toObjectMethod("toObject",b)},toDatalessObject:function(b){return this._toObjectMethod("toDatalessObject",b)},_toObjectMethod:function(b,w){var x=this.clipPath,R={version:C.version,objects:this._toObjects(b,w)};return x&&(R.clipPath=this._toObjectMethod(x,b,w)),p(R,this.__serializeBgOverlay(b,w)),C.util.populateWithProperties(this,R,w),R},_toObjects:function(b,w){return this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){return this._toObject(x,b,w)},this)},_toObject:function(b,w,x){var R;this.includeDefaultValues||(R=b.includeDefaultValues,b.includeDefaultValues=!1);var L=b[w](x);return this.includeDefaultValues||(b.includeDefaultValues=R),L},__serializeBgOverlay:function(b,w){var x={},R=this.backgroundImage,L=this.overlayImage;return this.backgroundColor&&(x.background=this.backgroundColor.toObject?this.backgroundColor.toObject(w):this.backgroundColor),this.overlayColor&&(x.overlay=this.overlayColor.toObject?this.overlayColor.toObject(w):this.overlayColor),R&&!R.excludeFromExport&&(x.backgroundImage=this._toObject(R,b,w)),L&&!L.excludeFromExport&&(x.overlayImage=this._toObject(L,b,w)),x},svgViewportTransformation:!0,toSVG:function(b,w){b||(b={}),b.reviver=w;var x=[];return this._setSVGPreamble(x,b),this._setSVGHeader(x,b),this.clipPath&&x.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(x,"backgroundColor"),this._setSVGBgOverlayImage(x,"backgroundImage",w),this._setSVGObjects(x,w),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlayColor"),this._setSVGBgOverlayImage(x,"overlayImage",w),x.push("</svg>"),x.join("")},_setSVGPreamble:function(b,w){w.suppressPreamble||b.push('<?xml version="1.0" encoding="',w.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(b,w){var x,R=w.width||this.width,L=w.height||this.height,H='viewBox="0 0 '+this.width+" "+this.height+'" ',rt=C.Object.NUM_FRACTION_DIGITS;w.viewBox?H='viewBox="'+w.viewBox.x+" "+w.viewBox.y+" "+w.viewBox.width+" "+w.viewBox.height+'" ':this.svgViewportTransformation&&(H='viewBox="'+l(-(x=this.viewportTransform)[4]/x[0],rt)+" "+l(-x[5]/x[3],rt)+" "+l(this.width/x[0],rt)+" "+l(this.height/x[3],rt)+'" '),b.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',R,'" ','height="',L,'" ',H,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",C.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(w),`</defs>
`)},createSVGClipPathMarkup:function(b){var w=this.clipPath;return w?(w.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+w.clipPathId+`" >
`+this.clipPath.toClipPathSVG(b.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var b=this;return["backgroundColor","overlayColor"].map(function(w){var x=b[w];if(x&&x.toLive)return x.toSVG(b,!1)}).join("")},createSVGFontFacesMarkup:function(){var b,w,x,R,L,H,rt,at,pt="",bt={},gt=C.fontPaths,I=this._objects;for(rt=0,at=I.length;rt<at;rt++)if(w=(b=I[rt]).fontFamily,b.type.indexOf("text")!==-1&&!bt[w]&&gt[w]&&(bt[w]=!0,b.styles))for(L in x=b.styles)for(H in R=x[L])!bt[w=R[H].fontFamily]&&gt[w]&&(bt[w]=!0);for(var M in bt)pt+=[`		@font-face {
`,"			font-family: '",M,`';
`,"			src: url('",gt[M],`');
`,`		}
`].join("");return pt&&(pt=['	<style type="text/css">',`<![CDATA[
`,pt,"]]>",`</style>
`].join("")),pt},_setSVGObjects:function(b,w){var x,R,L,H=this._objects;for(R=0,L=H.length;R<L;R++)(x=H[R]).excludeFromExport||this._setSVGObject(b,x,w)},_setSVGObject:function(b,w,x){b.push(w.toSVG(x))},_setSVGBgOverlayImage:function(b,w,x){this[w]&&!this[w].excludeFromExport&&this[w].toSVG&&b.push(this[w].toSVG(x))},_setSVGBgOverlayColor:function(b,w){var x=this[w],R=this.viewportTransform,L=this.width/R[0],H=this.height/R[3];if(x)if(x.toLive){var rt=x.repeat;b.push('<rect transform="translate(',L/2,",",H/2,')"',' x="',x.offsetX-L/2,'" y="',x.offsetY-H/2,'" ','width="',rt==="repeat-y"||rt==="no-repeat"?x.source.width:L,'" height="',rt==="repeat-x"||rt==="no-repeat"?x.source.height:H,'" fill="url(#SVGID_'+x.id+')"',`></rect>
`)}else b.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',this[w],'"',`></rect>
`)},sendToBack:function(b){if(!b)return this;var w,x,R,L=this._activeObject;if(b===L&&b.type==="activeSelection")for(w=(R=L._objects).length;w--;)h(this._objects,x=R[w]),this._objects.unshift(x);else h(this._objects,b),this._objects.unshift(b);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(b){if(!b)return this;var w,x,R,L=this._activeObject;if(b===L&&b.type==="activeSelection")for(R=L._objects,w=0;w<R.length;w++)h(this._objects,x=R[w]),this._objects.push(x);else h(this._objects,b),this._objects.push(b);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(b,w){if(!b)return this;var x,R,L,H,rt,at=this._activeObject,pt=0;if(b===at&&b.type==="activeSelection")for(rt=at._objects,x=0;x<rt.length;x++)(L=this._objects.indexOf(R=rt[x]))>0+pt&&(H=L-1,h(this._objects,R),this._objects.splice(H,0,R)),pt++;else(L=this._objects.indexOf(b))!==0&&(H=this._findNewLowerIndex(b,L,w),h(this._objects,b),this._objects.splice(H,0,b));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(b,w,x){var R,L;if(x){for(R=w,L=w-1;L>=0;--L)if(b.intersectsWithObject(this._objects[L])||b.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(b)){R=L;break}}else R=w-1;return R},bringForward:function(b,w){if(!b)return this;var x,R,L,H,rt,at=this._activeObject,pt=0;if(b===at&&b.type==="activeSelection")for(x=(rt=at._objects).length;x--;)(L=this._objects.indexOf(R=rt[x]))<this._objects.length-1-pt&&(H=L+1,h(this._objects,R),this._objects.splice(H,0,R)),pt++;else(L=this._objects.indexOf(b))!==this._objects.length-1&&(H=this._findNewUpperIndex(b,L,w),h(this._objects,b),this._objects.splice(H,0,b));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(b,w,x){var R,L,H;if(x){for(R=w,L=w+1,H=this._objects.length;L<H;++L)if(b.intersectsWithObject(this._objects[L])||b.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(b)){R=L;break}}else R=w+1;return R},moveTo:function(b,w){return h(this._objects,b),this._objects.splice(w,0,b),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(b){b.dispose&&b.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),p(C.StaticCanvas.prototype,C.Observable),p(C.StaticCanvas.prototype,C.Collection),p(C.StaticCanvas.prototype,C.DataURLExporter),p(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(b){var w=v();if(!w||!w.getContext)return null;var x=w.getContext("2d");if(!x)return null;switch(b){case"setLineDash":return x.setLineDash!==void 0;default:return null}}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var b=m(this.lowerCanvasEl);return b&&b.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(b){var w=m(this.lowerCanvasEl);return w&&w.createJPEGStream(b)})}}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(p){return this.shadow=new C.Shadow(p),this},_setBrushStyles:function(){var p=this.canvas.contextTop;p.strokeStyle=this.color,p.lineWidth=this.width,p.lineCap=this.strokeLineCap,p.miterLimit=this.strokeMiterLimit,p.lineJoin=this.strokeLineJoin,C.StaticCanvas.supports("setLineDash")&&p.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(p){var u=this.canvas.viewportTransform;p.save(),p.transform(u[0],u[1],u[2],u[3],u[4],u[5])},_setShadow:function(){if(this.shadow){var p=this.canvas.contextTop,u=this.canvas.getZoom();p.shadowColor=this.shadow.color,p.shadowBlur=this.shadow.blur*u,p.shadowOffsetX=this.shadow.offsetX*u,p.shadowOffsetY=this.shadow.offsetY*u}},_resetShadow:function(){var p=this.canvas.contextTop;p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0}}),C.PencilBrush=C.util.createClass(C.BaseBrush,{initialize:function(p){this.canvas=p,this._points=[]},_drawSegment:function(p,u,h){var l=u.midPointFrom(h);return p.quadraticCurveTo(u.x,u.y,l.x,l.y),l},onMouseDown:function(p){this._prepareForDrawing(p),this._captureDrawingPath(p),this._render()},onMouseMove:function(p){if(this._captureDrawingPath(p)&&this._points.length>1)if(this.needsFullRender)this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,h=u.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,u[h-2],u[h-1],!0),l.stroke(),l.restore()}},onMouseUp:function(){this.oldEnd=void 0,this._finalizeAndAddPath()},_prepareForDrawing:function(p){var u=new C.Point(p.x,p.y);this._reset(),this._addPoint(u),this.canvas.contextTop.moveTo(u.x,u.y)},_addPoint:function(p){return!(this._points.length>1&&p.eq(this._points[this._points.length-1])||(this._points.push(p),0))},_reset:function(){this._points.length=0,this._setBrushStyles();var p=new C.Color(this.color);this.needsFullRender=p.getAlpha()<1,this._setShadow()},_captureDrawingPath:function(p){var u=new C.Point(p.x,p.y);return this._addPoint(u)},_render:function(){var p,u,h=this.canvas.contextTop,l=this._points[0],a=this._points[1];if(this._saveAndTransform(h),h.beginPath(),this._points.length===2&&l.x===a.x&&l.y===a.y){var c=this.width/1e3;l=new C.Point(l.x,l.y),a=new C.Point(a.x,a.y),l.x-=c,a.x+=c}for(h.moveTo(l.x,l.y),p=1,u=this._points.length;p<u;p++)this._drawSegment(h,l,a),l=this._points[p],a=this._points[p+1];h.lineTo(l.x,l.y),h.stroke(),h.restore()},convertPointsToSVGPath:function(p){var u,h=[],l=this.width/1e3,a=new C.Point(p[0].x,p[0].y),c=new C.Point(p[1].x,p[1].y),m=p.length,v=1,g=1,b=m>2;for(b&&(v=p[2].x<c.x?-1:p[2].x===c.x?0:1,g=p[2].y<c.y?-1:p[2].y===c.y?0:1),h.push("M ",a.x-v*l," ",a.y-g*l," "),u=1;u<m;u++){if(!a.eq(c)){var w=a.midPointFrom(c);h.push("Q ",a.x," ",a.y," ",w.x," ",w.y," ")}a=p[u],u+1<p.length&&(c=p[u+1])}return b&&(v=a.x>p[u-2].x?1:a.x===p[u-2].x?0:-1,g=a.y>p[u-2].y?1:a.y===p[u-2].y?0:-1),h.push("L ",a.x+v*l," ",a.y+g*l),h},createPath:function(p){var u=new C.Path(p,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray}),h=new C.Point(u.left+u.width/2,u.top+u.height/2);return h=u.translateToGivenOrigin(h,"center","center",u.originX,u.originY),u.top=h.y,u.left=h.x,this.shadow&&(this.shadow.affectStroke=!0,u.setShadow(this.shadow)),u},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var p=this.convertPointsToSVGPath(this._points).join("");if(p!=="M 0 0 Q 0 0 0 0 L 0 0"){var u=this.createPath(p);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(u),this.canvas.renderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}else this.canvas.requestRenderAll()}}),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(p){this.canvas=p,this.points=[]},drawDot:function(p){var u=this.addPoint(p),h=this.canvas.contextTop;this._saveAndTransform(h),h.fillStyle=u.fill,h.beginPath(),h.arc(u.x,u.y,u.radius,0,2*Math.PI,!1),h.closePath(),h.fill(),h.restore()},onMouseDown:function(p){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(p)},_render:function(){var p,u,h,l=this.canvas.contextTop,a=this.points;for(this._saveAndTransform(l),p=0,u=a.length;p<u;p++)l.fillStyle=(h=a[p]).fill,l.beginPath(),l.arc(h.x,h.y,h.radius,0,2*Math.PI,!1),l.closePath(),l.fill();l.restore()},onMouseMove:function(p){this.drawDot(p)},onMouseUp:function(){var p,u,h=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var l=[];for(p=0,u=this.points.length;p<u;p++){var a=this.points[p],c=new C.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&c.setShadow(this.shadow),l.push(c)}var m=new C.Group(l);m.canvas=this.canvas,this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},addPoint:function(p){var u=new C.Point(p.x,p.y),h=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,l=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return u.radius=h,u.fill=l,this.points.push(u),u}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(p){this.canvas=p,this.sprayChunks=[]},onMouseDown:function(p){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(p),this.render(this.sprayChunkPoints)},onMouseMove:function(p){this.addSprayChunk(p),this.render(this.sprayChunkPoints)},onMouseUp:function(){var p=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var u=[],h=0,l=this.sprayChunks.length;h<l;h++)for(var a=this.sprayChunks[h],c=0,m=a.length;c<m;c++){var v=new C.Rect({width:a[c].width,height:a[c].width,left:a[c].x+1,top:a[c].y+1,originX:"center",originY:"center",fill:this.color});u.push(v)}this.optimizeOverlapping&&(u=this._getOptimizedRects(u));var g=new C.Group(u);this.shadow&&g.setShadow(this.shadow),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},_getOptimizedRects:function(p){var u,h,l,a={};for(h=0,l=p.length;h<l;h++)a[u=p[h].left+""+p[h].top]||(a[u]=p[h]);var c=[];for(u in a)c.push(a[u]);return c},render:function(p){var u,h,l=this.canvas.contextTop;for(l.fillStyle=this.color,this._saveAndTransform(l),u=0,h=p.length;u<h;u++){var a=p[u];a.opacity!==void 0&&(l.globalAlpha=a.opacity),l.fillRect(a.x,a.y,a.width,a.width)}l.restore()},_render:function(){var p,u,h=this.canvas.contextTop;for(h.fillStyle=this.color,this._saveAndTransform(h),p=0,u=this.sprayChunks.length;p<u;p++)this.render(this.sprayChunks[p]);h.restore()},addSprayChunk:function(p){this.sprayChunkPoints=[];var u,h,l,a,c=this.width/2;for(a=0;a<this.density;a++){u=C.util.getRandomInt(p.x-c,p.x+c),h=C.util.getRandomInt(p.y-c,p.y+c),l=this.dotWidthVariance?C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var m=new C.Point(u,h);m.width=l,this.randomOpacity&&(m.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(m)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var p=C.util.createCanvasElement(),u=p.getContext("2d");return p.width=p.height=25,u.fillStyle=this.color,u.beginPath(),u.arc(10,10,10,0,2*Math.PI,!1),u.closePath(),u.fill(),p},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(p){var u=this.callSuper("createPath",p),h=u._getLeftTopCoords().scalarAdd(u.strokeWidth/2);return u.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),u}}),function(){var p=C.util.getPointer,u=C.util.degreesToRadians,h=C.util.radiansToDegrees,l=Math.atan2,a=Math.abs,c=C.StaticCanvas.supports("setLineDash");for(var m in C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(v,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(v,g),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var v,g,b,w=this.getActiveObjects();if(w.length>0&&!this.preserveObjectStacking){g=[],b=[];for(var x=0,R=this._objects.length;x<R;x++)w.indexOf(v=this._objects[x])===-1?g.push(v):b.push(v);w.length>1&&(this._activeObject._objects=b),g.push.apply(g,b)}else g=this._objects;return g},renderAll:function(){return!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(v){v.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(v),this.contextTopDirty=!0),v.restore()},renderTop:function(){var v=this.contextTop;return this.clearContext(v),this.renderTopLayer(v),this.fire("after:render"),this},_resetCurrentTransform:function(){var v=this._currentTransform;v.target.set({scaleX:v.original.scaleX,scaleY:v.original.scaleY,skewX:v.original.skewX,skewY:v.original.skewY,left:v.original.left,top:v.original.top}),this._shouldCenterTransform(v.target)?(v.originX!=="center"&&(v.mouseXSign=v.originX==="right"?-1:1),v.originY!=="center"&&(v.mouseYSign=v.originY==="bottom"?-1:1),v.originX="center",v.originY="center"):(v.originX=v.original.originX,v.originY=v.original.originY)},containsPoint:function(v,g,b){var w,x=b||this.getPointer(v,!0);return w=g.group&&g.group===this._activeObject&&g.group.type==="activeSelection"?this._normalizePointer(g.group,x):{x:x.x,y:x.y},g.containsPoint(w)||g._findTargetCorner(x)},_normalizePointer:function(v,g){var b=v.calcTransformMatrix(),w=C.util.invertTransform(b),x=this.restorePointerVpt(g);return C.util.transformPoint(x,w)},isTargetTransparent:function(v,g,b){if(v.shouldCache()&&v._cacheCanvas&&v!==this._activeObject){var w=this._normalizePointer(v,{x:g,y:b}),x=Math.max(v.cacheTranslationX+w.x*v.zoomX,0),R=Math.max(v.cacheTranslationY+w.y*v.zoomY,0);return C.util.isTransparent(v._cacheContext,Math.round(x),Math.round(R),this.targetFindTolerance)}var L=this.contextCache,H=v.selectionBackgroundColor,rt=this.viewportTransform;return v.selectionBackgroundColor="",this.clearContext(L),L.save(),L.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),v.render(L),L.restore(),v===this._activeObject&&v._renderControls(L,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),v.selectionBackgroundColor=H,C.util.isTransparent(L,g,b,this.targetFindTolerance)},_isSelectionKeyPressed:function(v){return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?!!this.selectionKey.find(function(g){return v[g]===!0}):v[this.selectionKey]},_shouldClearSelection:function(v,g){var b=this.getActiveObjects(),w=this._activeObject;return!g||g&&w&&b.length>1&&b.indexOf(g)===-1&&w!==g&&!this._isSelectionKeyPressed(v)||g&&!g.evented||g&&!g.selectable&&w&&w!==g},_shouldCenterTransform:function(v){if(v){var g,b=this._currentTransform;return b.action==="scale"||b.action==="scaleX"||b.action==="scaleY"?g=this.centeredScaling||v.centeredScaling:b.action==="rotate"&&(g=this.centeredRotation||v.centeredRotation),g?!b.altKey:b.altKey}},_getOriginFromCorner:function(v,g){var b={x:v.originX,y:v.originY};return g==="ml"||g==="tl"||g==="bl"?b.x="right":g!=="mr"&&g!=="tr"&&g!=="br"||(b.x="left"),g==="tl"||g==="mt"||g==="tr"?b.y="bottom":g!=="bl"&&g!=="mb"&&g!=="br"||(b.y="top"),b},_getActionFromCorner:function(v,g,b){if(!g||!v)return"drag";switch(g){case"mtr":return"rotate";case"ml":case"mr":return b[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return b[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(v,g,b){if(g){var w=this.getPointer(v),x=g._findTargetCorner(this.getPointer(v,!0)),R=this._getActionFromCorner(b,x,v),L=this._getOriginFromCorner(g,x);this._currentTransform={target:g,action:R,corner:x,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:w.x-g.left,offsetY:w.y-g.top,originX:L.x,originY:L.y,ex:w.x,ey:w.y,lastX:w.x,lastY:w.y,theta:u(g.angle),width:g.width*g.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:v.shiftKey,altKey:v[this.centeredKey],original:C.util.saveObjectTransform(g)},this._currentTransform.original.originX=L.x,this._currentTransform.original.originY=L.y,this._resetCurrentTransform(),this._beforeTransform(v)}},_translateObject:function(v,g){var b=this._currentTransform,w=b.target,x=v-b.offsetX,R=g-b.offsetY,L=!w.get("lockMovementX")&&w.left!==x,H=!w.get("lockMovementY")&&w.top!==R;return L&&w.set("left",x),H&&w.set("top",R),L||H},_changeSkewTransformOrigin:function(v,g,b){var w="originX",x={0:"center"},R=g.target.skewX,L="left",H="right",rt=g.corner==="mt"||g.corner==="ml"?1:-1,at=1;v=v>0?1:-1,b==="y"&&(R=g.target.skewY,L="top",H="bottom",w="originY"),x[-1]=L,x[1]=H,g.target.flipX&&(at*=-1),g.target.flipY&&(at*=-1),R===0?(g.skewSign=-rt*v*at,g[w]=x[-v]):(g.skewSign=R=R>0?1:-1,g[w]=x[R*rt*at])},_skewObject:function(v,g,b){var w,x=this._currentTransform,R=x.target,L=R.get("lockSkewingX"),H=R.get("lockSkewingY");if(L&&b==="x"||H&&b==="y")return!1;var rt,at,pt=R.getCenterPoint(),bt=R.toLocalPoint(new C.Point(v,g),"center","center")[b],gt=R.toLocalPoint(new C.Point(x.lastX,x.lastY),"center","center")[b],I=R._getTransformedDimensions();return this._changeSkewTransformOrigin(bt-gt,x,b),rt=R.toLocalPoint(new C.Point(v,g),x.originX,x.originY)[b],at=R.translateToOriginPoint(pt,x.originX,x.originY),w=this._setObjectSkew(rt,x,b,I),x.lastX=v,x.lastY=g,R.setPositionByOrigin(at,x.originX,x.originY),w},_setObjectSkew:function(v,g,b,w){var x,R,L,H,rt,at,pt,bt,gt,I,M=g.target,W=g.skewSign;return b==="x"?(rt="y",at="Y",pt="X",gt=0,I=M.skewY):(rt="x",at="X",pt="Y",gt=M.skewX,I=0),H=M._getTransformedDimensions(gt,I),(bt=2*Math.abs(v)-H[b])<=2?x=0:(x=W*Math.atan(bt/M["scale"+pt]/(H[rt]/M["scale"+at])),x=C.util.radiansToDegrees(x)),R=M["skew"+pt]!==x,M.set("skew"+pt,x),M["skew"+at]!==0&&(L=M._getTransformedDimensions(),M.set("scale"+at,x=w[rt]/L[rt]*M["scale"+at])),R},_scaleObject:function(v,g,b){var w=this._currentTransform,x=w.target,R=x.lockScalingX,L=x.lockScalingY,H=x.lockScalingFlip;if(R&&L)return!1;var rt,at=x.translateToOriginPoint(x.getCenterPoint(),w.originX,w.originY),pt=x.toLocalPoint(new C.Point(v,g),w.originX,w.originY),bt=x._getTransformedDimensions();return this._setLocalMouse(pt,w),rt=this._setObjectScale(pt,w,R,L,b,H,bt),x.setPositionByOrigin(at,w.originX,w.originY),rt},_setObjectScale:function(v,g,b,w,x,R,L){var H=g.target,rt=!1,at=!1,pt=!1,bt=v.x*H.scaleX/L.x,gt=v.y*H.scaleY/L.y,I=H.scaleX!==bt,M=H.scaleY!==gt;return R&&bt<=0&&bt<H.scaleX&&(rt=!0,v.x=0),R&&gt<=0&&gt<H.scaleY&&(at=!0,v.y=0),x!=="equally"||b||w?x?x!=="x"||H.get("lockUniScaling")?x!=="y"||H.get("lockUniScaling")||at||w||H.set("scaleY",gt)&&(pt=M):rt||b||H.set("scaleX",bt)&&(pt=I):(rt||b||H.set("scaleX",bt)&&(pt=pt||I),at||w||H.set("scaleY",gt)&&(pt=pt||M)):pt=this._scaleObjectEqually(v,H,g,L),g.newScaleX=bt,g.newScaleY=gt,rt||at||this._flipObject(g,x),pt},_scaleObjectEqually:function(v,g,b,w){var x,R,L,H=v.y+v.x,rt=w.y*b.original.scaleY/g.scaleY+w.x*b.original.scaleX/g.scaleX,at=v.y<0?-1:1;return R=(v.x<0?-1:1)*Math.abs(b.original.scaleX*H/rt),L=at*Math.abs(b.original.scaleY*H/rt),x=R!==g.scaleX||L!==g.scaleY,g.set("scaleX",R),g.set("scaleY",L),x},_flipObject:function(v,g){v.newScaleX<0&&g!=="y"&&(v.originX==="left"?v.originX="right":v.originX==="right"&&(v.originX="left")),v.newScaleY<0&&g!=="x"&&(v.originY==="top"?v.originY="bottom":v.originY==="bottom"&&(v.originY="top"))},_setLocalMouse:function(v,g){var b=g.target,w=this.getZoom(),x=b.padding/w;g.originX==="right"?v.x*=-1:g.originX==="center"&&(v.x*=2*g.mouseXSign,v.x<0&&(g.mouseXSign=-g.mouseXSign)),g.originY==="bottom"?v.y*=-1:g.originY==="center"&&(v.y*=2*g.mouseYSign,v.y<0&&(g.mouseYSign=-g.mouseYSign)),a(v.x)>x?v.x<0?v.x+=x:v.x-=x:v.x=0,a(v.y)>x?v.y<0?v.y+=x:v.y-=x:v.y=0},_rotateObject:function(v,g){var b=this._currentTransform,w=b.target,x=w.translateToOriginPoint(w.getCenterPoint(),b.originX,b.originY);if(w.lockRotation)return!1;var R=l(b.ey-x.y,b.ex-x.x),L=l(g-x.y,v-x.x),H=h(L-R+b.theta),rt=!0;if(w.snapAngle>0){var at=w.snapAngle,pt=w.snapThreshold||at,bt=Math.ceil(H/at)*at,gt=Math.floor(H/at)*at;Math.abs(H-gt)<pt?H=gt:Math.abs(H-bt)<pt&&(H=bt)}return H<0&&(H=360+H),w.angle===(H%=360)?rt=!1:(w.angle=H,w.setPositionByOrigin(x,b.originX,b.originY)),rt},setCursor:function(v){this.upperCanvasEl.style.cursor=v},_drawSelection:function(v){var g=this._groupSelector,b=g.left,w=g.top,x=a(b),R=a(w);if(this.selectionColor&&(v.fillStyle=this.selectionColor,v.fillRect(g.ex-(b>0?0:-b),g.ey-(w>0?0:-w),x,R)),this.selectionLineWidth&&this.selectionBorderColor)if(v.lineWidth=this.selectionLineWidth,v.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!c){var L=g.ex+.5-(b>0?0:x),H=g.ey+.5-(w>0?0:R);v.beginPath(),C.util.drawDashedLine(v,L,H,L+x,H,this.selectionDashArray),C.util.drawDashedLine(v,L,H+R-1,L+x,H+R-1,this.selectionDashArray),C.util.drawDashedLine(v,L,H,L,H+R,this.selectionDashArray),C.util.drawDashedLine(v,L+x-1,H,L+x-1,H+R,this.selectionDashArray),v.closePath(),v.stroke()}else C.Object.prototype._setLineDash.call(this,v,this.selectionDashArray),v.strokeRect(g.ex+.5-(b>0?0:x),g.ey+.5-(w>0?0:R),x,R)},findTarget:function(v,g){if(!this.skipTargetFind){var b,w,x=this.getPointer(v,!0),R=this._activeObject,L=this.getActiveObjects();if(this.targets=[],L.length>1&&!g&&R===this._searchPossibleTargets([R],x)||L.length===1&&R._findTargetCorner(x))return R;if(L.length===1&&R===this._searchPossibleTargets([R],x)){if(!this.preserveObjectStacking)return R;b=R,w=this.targets,this.targets=[]}var H=this._searchPossibleTargets(this._objects,x);return v[this.altSelectionKey]&&H&&b&&H!==b&&(H=b,this.targets=w),H}},_checkTarget:function(v,g,b){if(g&&g.visible&&g.evented&&this.containsPoint(null,g,v)&&(!this.perPixelTargetFind&&!g.perPixelTargetFind||g.isEditing||!this.isTargetTransparent(g,b.x,b.y)))return!0},_searchPossibleTargets:function(v,g){for(var b,w,x=v.length;x--;){var R=v[x],L=R.group&&R.group.type!=="activeSelection"?this._normalizePointer(R.group,g):g;if(this._checkTarget(L,R,g)){(b=v[x]).subTargetCheck&&b instanceof C.Group&&(w=this._searchPossibleTargets(b._objects,g))&&this.targets.push(w);break}}return b},restorePointerVpt:function(v){return C.util.transformPoint(v,C.util.invertTransform(this.viewportTransform))},getPointer:function(v,g){if(this._absolutePointer&&!g)return this._absolutePointer;if(this._pointer&&g)return this._pointer;var b,w=p(v),x=this.upperCanvasEl,R=x.getBoundingClientRect(),L=R.width||0,H=R.height||0;return L&&H||("top"in R&&"bottom"in R&&(H=Math.abs(R.top-R.bottom)),"right"in R&&"left"in R&&(L=Math.abs(R.right-R.left))),this.calcOffset(),w.x=w.x-this._offset.left,w.y=w.y-this._offset.top,g||(w=this.restorePointerVpt(w)),{x:w.x*(b=L===0||H===0?{width:1,height:1}:{width:x.width/L,height:x.height/H}).width,y:w.y*b.height}},_createUpperCanvas:function(){var v=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),C.util.addClass(this.upperCanvasEl,"upper-canvas "+v),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(v){var g=this.width||v.width,b=this.height||v.height;C.util.setStyle(v,{position:"absolute",width:g+"px",height:b+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none"}),v.width=g,v.height=b,C.util.makeElementUnselectable(v)},_copyCanvasStyle:function(v,g){g.style.cssText=v.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var v=this._activeObject;return v?v.type==="activeSelection"&&v._objects?v._objects.slice(0):[v]:[]},_onObjectRemoved:function(v){v===this._activeObject&&(this.fire("before:selection:cleared",{target:v}),this._discardActiveObject(),this.fire("selection:cleared",{target:v}),v.fire("deselected")),this._hoveredTarget===v&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",v)},_fireSelectionEvents:function(v,g){var b=!1,w=this.getActiveObjects(),x=[],R=[],L={e:g};v.forEach(function(H){w.indexOf(H)===-1&&(b=!0,H.fire("deselected",L),R.push(H))}),w.forEach(function(H){v.indexOf(H)===-1&&(b=!0,H.fire("selected",L),x.push(H))}),v.length>0&&w.length>0?(L.selected=x,L.deselected=R,L.updated=x[0]||R[0],L.target=this._activeObject,b&&this.fire("selection:updated",L)):w.length>0?(w.length===1&&(L.target=x[0],this.fire("object:selected",L)),L.selected=x,L.target=this._activeObject,this.fire("selection:created",L)):v.length>0&&(L.deselected=R,this.fire("selection:cleared",L))},setActiveObject:function(v,g){var b=this.getActiveObjects();return this._setActiveObject(v,g),this._fireSelectionEvents(b,g),this},_setActiveObject:function(v,g){return this._activeObject!==v&&!!this._discardActiveObject(g,v)&&!v.onSelect({e:g})&&(this._activeObject=v,!0)},_discardActiveObject:function(v,g){var b=this._activeObject;if(b){if(b.onDeselect({e:v,object:g}))return!1;this._activeObject=null}return!0},discardActiveObject:function(v){var g=this.getActiveObjects();return g.length&&this.fire("before:selection:cleared",{target:g[0],e:v}),this._discardActiveObject(v),this._fireSelectionEvents(g,v),this},dispose:function(){var v=this.wrapperEl;return this.removeListeners(),v.removeChild(this.upperCanvasEl),v.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(g){C.util.cleanUpJsdomNode(this[g]),this[g]=void 0}).bind(this)),v.parentNode&&v.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(v){var g=this._activeObject;g&&g._renderControls(v)},_toObject:function(v,g,b){var w=this._realizeGroupTransformOnObject(v),x=this.callSuper("_toObject",v,g,b);return this._unwindGroupTransformOnObject(v,w),x},_realizeGroupTransformOnObject:function(v){if(v.group&&v.group.type==="activeSelection"&&this._activeObject===v.group){var g={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(b){g[b]=v[b]}),this._activeObject.realizeTransform(v),g}return null},_unwindGroupTransformOnObject:function(v,g){g&&v.set(g)},_setSVGObject:function(v,g,b){var w=this._realizeGroupTransformOnObject(g);this.callSuper("_setSVGObject",v,g,b),this._unwindGroupTransformOnObject(g,w)},setViewportTransform:function(v){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,v)}}),C.StaticCanvas)m!=="prototype"&&(C.Canvas[m]=C.StaticCanvas[m]);C.isTouchSupported&&(C.Canvas.prototype._setCursorFromEvent=function(){})}(),function(){var p={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},u=C.util.addListener,h=C.util.removeListener,l={passive:!1};function a(c,m){return"which"in c?c.which===m:c.button===m-1}C.util.object.extend(C.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},addOrRemove:function(c,m){c(C.window,"resize",this._onResize),c(this.upperCanvasEl,"mousedown",this._onMouseDown),c(this.upperCanvasEl,"mousemove",this._onMouseMove,l),c(this.upperCanvasEl,"mouseout",this._onMouseOut),c(this.upperCanvasEl,"mouseenter",this._onMouseEnter),c(this.upperCanvasEl,"wheel",this._onMouseWheel),c(this.upperCanvasEl,"contextmenu",this._onContextMenu),c(this.upperCanvasEl,"dblclick",this._onDoubleClick),c(this.upperCanvasEl,"touchstart",this._onMouseDown,l),c(this.upperCanvasEl,"touchmove",this._onMouseMove,l),c(this.upperCanvasEl,"dragover",this._onDragOver),c(this.upperCanvasEl,"dragenter",this._onDragEnter),c(this.upperCanvasEl,"dragleave",this._onDragLeave),c(this.upperCanvasEl,"drop",this._onDrop),typeof eventjs<"u"&&m in eventjs&&(eventjs[m](this.upperCanvasEl,"gesture",this._onGesture),eventjs[m](this.upperCanvasEl,"drag",this._onDrag),eventjs[m](this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs[m](this.upperCanvasEl,"shake",this._onShake),eventjs[m](this.upperCanvasEl,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(h,"remove"),h(C.document,"mouseup",this._onMouseUp),h(C.document,"touchend",this._onMouseUp,l),h(C.document,"mousemove",this._onMouseMove,l),h(C.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(c,m){this.__onTransformGesture&&this.__onTransformGesture(c,m)},_onDrag:function(c,m){this.__onDrag&&this.__onDrag(c,m)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var m=this._hoveredTarget;this.fire("mouse:out",{target:m,e:c}),this._hoveredTarget=null,m&&m.fire("mouseout",{e:c}),this._iTextInstances&&this._iTextInstances.forEach(function(v){v.isEditing&&v.hiddenTextarea.focus()})},_onMouseEnter:function(c){this.findTarget(c)||(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null)},_onOrientationChange:function(c,m){this.__onOrientationChange&&this.__onOrientationChange(c,m)},_onShake:function(c,m){this.__onShake&&this.__onShake(c,m)},_onLongPress:function(c,m){this.__onLongPress&&this.__onLongPress(c,m)},_onDragOver:function(c){c.preventDefault();var m=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(m,c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData(),u(C.document,"touchend",this._onMouseUp,l),u(C.document,"touchmove",this._onMouseMove,l),h(this.upperCanvasEl,"mousemove",this._onMouseMove,l),h(this.upperCanvasEl,"touchmove",this._onMouseMove,l),c.type==="touchstart"?h(this.upperCanvasEl,"mousedown",this._onMouseDown):(u(C.document,"mouseup",this._onMouseUp),u(C.document,"mousemove",this._onMouseMove,l))},_onMouseUp:function(c){if(this.__onMouseUp(c),this._resetTransformEventData(),h(C.document,"mouseup",this._onMouseUp),h(C.document,"touchend",this._onMouseUp,l),h(C.document,"mousemove",this._onMouseMove,l),h(C.document,"touchmove",this._onMouseMove,l),u(this.upperCanvasEl,"mousemove",this._onMouseMove,l),u(this.upperCanvasEl,"touchmove",this._onMouseMove,l),c.type==="touchend"){var m=this;setTimeout(function(){u(m.upperCanvasEl,"mousedown",m._onMouseDown)},400)}},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var m=this._activeObject;return!!(!!m!=!!c||m&&c&&m!==c)},__onMouseUp:function(c){var m,v=this._currentTransform,g=this._groupSelector,b=!1,w=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(c),m=this._target,this._handleEvent(c,"up:before"),!a(c,3))return a(c,2)?(this.fireMiddleClick&&this._handleEvent(c,"up",2,w),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(c):(v&&(this._finalizeCurrentTransform(c),b=v.actionPerformed),w||(this._maybeGroupObjects(c),b||(b=this._shouldRender(m))),m&&(m.isMoving=!1),this._setCursorFromEvent(c,m),this._handleEvent(c,"up",1,w),this._groupSelector=null,this._currentTransform=null,m&&(m.__corner=0),b?this.requestRenderAll():w||this.renderTop()));this.fireRightClick&&this._handleEvent(c,"up",3,w)},_simpleEventHandler:function(c,m){var v=this.findTarget(m),g=this.targets,b={e:m,target:v,subTargets:g};if(this.fire(c,b),v&&v.fire(c,b),!g)return v;for(var w=0;w<g.length;w++)g[w].fire(c,b);return v},_handleEvent:function(c,m,v,g){var b=this._target,w=this.targets||[],x={e:c,target:b,subTargets:w,button:v||1,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+m,x),b&&b.fire("mouse"+m,x);for(var R=0;R<w.length;R++)w[R].fire("mouse"+m,x)},_finalizeCurrentTransform:function(c){var m,v=this._currentTransform,g=v.target,b={e:c,target:g,transform:v};g._scaling&&(g._scaling=!1),g.setCoords(),(v.actionPerformed||this.stateful&&g.hasStateChanged())&&(v.actionPerformed&&(m=this._addEventOptions(b,v),this._fire(m,b)),this._fire("modified",b))},_addEventOptions:function(c,m){var v,g;switch(m.action){case"scaleX":v="scaled",g="x";break;case"scaleY":v="scaled",g="y";break;case"skewX":v="skewed",g="x";break;case"skewY":v="skewed",g="y";break;case"scale":v="scaled",g="equally";break;case"rotate":v="rotated";break;case"drag":v="moved"}return c.by=g,v},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll(),this.clipTo&&C.util.clipContext(this,this.contextTop);var m=this.getPointer(c);this.freeDrawingBrush.onMouseDown(m),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var m=this.getPointer(c);this.freeDrawingBrush.onMouseMove(m)}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var m=this._target;if(a(c,3))this.fireRightClick&&this._handleEvent(c,"down",3);else if(a(c,2))this.fireMiddleClick&&this._handleEvent(c,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(c);else if(!this._currentTransform){var v=this._pointer;this._previousPointer=v;var g=this._shouldRender(m),b=this._shouldGroup(c,m);if(this._shouldClearSelection(c,m)?this.discardActiveObject(c):b&&(this._handleGrouping(c,m),m=this._activeObject),!this.selection||m&&(m.selectable||m.isEditing||m===this._activeObject)||(this._groupSelector={ex:v.x,ey:v.y,top:0,left:0}),m){var w=m===this._activeObject;m.selectable&&this.setActiveObject(m,c),m!==this._activeObject||!m.__corner&&b||this._setupCurrentTransform(c,m,w)}this._handleEvent(c,"down"),(g||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var m=this._currentTransform;this.stateful&&m.target.saveState(),this.fire("before:transform",{e:c,transform:m}),m.corner&&this.onBeforeScaleRotate(m.target)},__onMouseMove:function(c){var m,v;if(this._handleEvent(c,"move:before"),this._cacheTransformEventData(c),this.isDrawingMode)this._onMouseMoveInDrawingMode(c);else if(!(c.touches!==void 0&&c.touches.length>1)){var g=this._groupSelector;g?(g.left=(v=this._pointer).x-g.ex,g.top=v.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(m=this.findTarget(c)||null,this._setCursorFromEvent(c,m),this._fireOverOutEvents(m,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,m){this.fireSynteticInOutEvents(c,m,{targetName:"_hoveredTarget",canvasEvtOut:"mouse:out",evtOut:"mouseout",canvasEvtIn:"mouse:over",evtIn:"mouseover"})},_fireEnterLeaveEvents:function(c,m){this.fireSynteticInOutEvents(c,m,{targetName:"_draggedoverTarget",evtOut:"dragleave",evtIn:"dragenter"})},fireSynteticInOutEvents:function(c,m,v){var g,b,w,x=this[v.targetName],R=x!==c,L=v.canvasEvtIn,H=v.canvasEvtOut;R&&(g={e:m,target:c,previousTarget:x},b={e:m,target:x,nextTarget:c},this[v.targetName]=c),w=c&&R,x&&R&&(H&&this.fire(H,b),x.fire(v.evtOut,b)),w&&(L&&this.fire(L,g),c.fire(v.evtIn,g))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var m=this.getPointer(c),v=this._currentTransform;v.reset=!1,v.target.isMoving=!0,v.shiftKey=c.shiftKey,v.altKey=c[this.centeredKey],this._beforeScaleTransform(c,v),this._performTransformAction(c,v,m),v.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,m,v){var g=v.x,b=v.y,w=m.action,x=!1,R={target:m.target,e:c,transform:m,pointer:v};w==="rotate"?(x=this._rotateObject(g,b))&&this._fire("rotating",R):w==="scale"?(x=this._onScale(c,m,g,b))&&this._fire("scaling",R):w==="scaleX"?(x=this._scaleObject(g,b,"x"))&&this._fire("scaling",R):w==="scaleY"?(x=this._scaleObject(g,b,"y"))&&this._fire("scaling",R):w==="skewX"?(x=this._skewObject(g,b,"x"))&&this._fire("skewing",R):w==="skewY"?(x=this._skewObject(g,b,"y"))&&this._fire("skewing",R):(x=this._translateObject(g,b))&&(this._fire("moving",R),this.setCursor(R.target.moveCursor||this.moveCursor)),m.actionPerformed=m.actionPerformed||x},_fire:function(c,m){this.fire("object:"+c,m),m.target.fire(c,m)},_beforeScaleTransform:function(c,m){if(m.action==="scale"||m.action==="scaleX"||m.action==="scaleY"){var v=this._shouldCenterTransform(m.target);(v&&(m.originX!=="center"||m.originY!=="center")||!v&&m.originX==="center"&&m.originY==="center")&&(this._resetCurrentTransform(),m.reset=!0)}},_onScale:function(c,m,v,g){return this._isUniscalePossible(c,m.target)?(m.currentAction="scale",this._scaleObject(v,g)):(m.reset||m.currentAction!=="scale"||this._resetCurrentTransform(),m.currentAction="scaleEqually",this._scaleObject(v,g,"equally"))},_isUniscalePossible:function(c,m){return(c[this.uniScaleKey]||this.uniScaleTransform)&&!m.get("lockUniScaling")},_setCursorFromEvent:function(c,m){if(!m)return this.setCursor(this.defaultCursor),!1;var v=m.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!g||!g.contains(m))&&m._findTargetCorner(this.getPointer(c,!0));this.setCursor(b?this.getCornerCursor(b,m,c):v)},getCornerCursor:function(c,m,v){return this.actionIsDisabled(c,m,v)?this.notAllowedCursor:c in p?this._getRotatedCornerCursor(c,m,v):c==="mtr"&&m.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(c,m,v){return c==="mt"||c==="mb"?v[this.altActionKey]?m.lockSkewingX:m.lockScalingY:c==="ml"||c==="mr"?v[this.altActionKey]?m.lockSkewingY:m.lockScalingX:c==="mtr"?m.lockRotation:this._isUniscalePossible(v,m)?m.lockScalingX&&m.lockScalingY:m.lockScalingX||m.lockScalingY},_getRotatedCornerCursor:function(c,m,v){var g=Math.round(m.angle%360/45);return g<0&&(g+=8),g+=p[c],v[this.altActionKey]&&p[c]%2==0&&(g+=2),this.cursorMap[g%=8]}})}(),G=Math.min,B=Math.max,C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(p,u){var h=this._activeObject;return h&&this._isSelectionKeyPressed(p)&&u&&u.selectable&&this.selection&&(h!==u||h.type==="activeSelection")&&!u.onSelect({e:p})},_handleGrouping:function(p,u){var h=this._activeObject;h.__corner||(u!==h||(u=this.findTarget(p,!0))&&u.selectable)&&(h&&h.type==="activeSelection"?this._updateActiveSelection(u,p):this._createActiveSelection(u,p))},_updateActiveSelection:function(p,u){var h=this._activeObject,l=h._objects.slice(0);h.contains(p)?(h.removeWithUpdate(p),this._hoveredTarget=p,h.size()===1&&this._setActiveObject(h.item(0),u)):(h.addWithUpdate(p),this._hoveredTarget=h),this._fireSelectionEvents(l,u)},_createActiveSelection:function(p,u){var h=this.getActiveObjects(),l=this._createGroup(p);this._hoveredTarget=l,this._setActiveObject(l,u),this._fireSelectionEvents(h,u)},_createGroup:function(p){var u=this._objects,h=u.indexOf(this._activeObject)<u.indexOf(p)?[this._activeObject,p]:[p,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(h,{canvas:this})},_groupSelectedObjects:function(p){var u,h=this._collectObjects(p);h.length===1?this.setActiveObject(h[0],p):h.length>1&&(u=new C.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(u,p))},_collectObjects:function(p){for(var u,h=[],l=this._groupSelector.ex,a=this._groupSelector.ey,c=l+this._groupSelector.left,m=a+this._groupSelector.top,v=new C.Point(G(l,c),G(a,m)),g=new C.Point(B(l,c),B(a,m)),b=!this.selectionFullyContained,w=l===c&&a===m,x=this._objects.length;x--&&!((u=this._objects[x])&&u.selectable&&u.visible&&!u.onSelect({e:p})&&(b&&u.intersectsWithRect(v,g)||u.isContainedWithinRect(v,g)||b&&u.containsPoint(v)||b&&u.containsPoint(g))&&(h.push(u),w)););return h},_maybeGroupObjects:function(p){this.selection&&this._groupSelector&&this._groupSelectedObjects(p),this.setCursor(this.defaultCursor),this._groupSelector=null}}),C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(p){p||(p={});var u=p.format||"png",h=p.quality||1,l=(p.multiplier||1)*(p.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(l,p);return C.util.toDataURL(a,u,h)},toCanvasElement:function(p,u){var h=((u=u||{}).width||this.width)*(p=p||1),l=(u.height||this.height)*p,a=this.getZoom(),c=this.width,m=this.height,v=a*p,g=this.viewportTransform,b=this.interactive,w=this.contextContainer,x=[v,0,0,v,(g[4]-(u.left||0))*p,(g[5]-(u.top||0))*p],R=C.util.createCanvasElement();return R.width=h,R.height=l,this.interactive=!1,this.viewportTransform=x,this.width=h,this.height=l,this.calcViewportBoundaries(),this.contextContainer=R.getContext("2d"),this.renderAll(),this.viewportTransform=g,this.width=c,this.height=m,this.calcViewportBoundaries(),this.contextContainer=w,this.interactive=b,R}}),C.util.object.extend(C.StaticCanvas.prototype,{loadFromDatalessJSON:function(p,u,h){return this.loadFromJSON(p,u,h)},loadFromJSON:function(p,u,h){if(p){var l=typeof p=="string"?JSON.parse(p):C.util.object.clone(p),a=this,c=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(l.objects,function(m){a.clear(),a._setBgOverlay(l,function(){m.forEach(function(v,g){a.insertAt(v,g)}),a.renderOnAddRemove=c,delete l.objects,delete l.backgroundImage,delete l.overlayImage,delete l.background,delete l.overlay,a._setOptions(l),a.renderAll(),u&&u()})},h),this}},_setBgOverlay:function(p,u){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(p.backgroundImage||p.overlayImage||p.background||p.overlay){var l=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&u&&u()};this.__setBgOverlay("backgroundImage",p.backgroundImage,h,l),this.__setBgOverlay("overlayImage",p.overlayImage,h,l),this.__setBgOverlay("backgroundColor",p.background,h,l),this.__setBgOverlay("overlayColor",p.overlay,h,l)}else u&&u()},__setBgOverlay:function(p,u,h,l){var a=this;if(!u)return h[p]=!0,void(l&&l());p==="backgroundImage"||p==="overlayImage"?C.util.enlivenObjects([u],function(c){a[p]=c[0],h[p]=!0,l&&l()}):this["set"+C.util.string.capitalize(p,!0)](u,function(){h[p]=!0,l&&l()})},_enlivenObjects:function(p,u,h){p&&p.length!==0?C.util.enlivenObjects(p,function(l){u&&u(l)},null,h):u&&u([])},_toDataURL:function(p,u){this.clone(function(h){u(h.toDataURL(p))})},_toDataURLWithMultiplier:function(p,u,h){this.clone(function(l){h(l.toDataURLWithMultiplier(p,u))})},clone:function(p,u){var h=JSON.stringify(this.toJSON(u));this.cloneWithoutData(function(l){l.loadFromJSON(h,function(){p&&p(l)})})},cloneWithoutData:function(p){var u=C.util.createCanvasElement();u.width=this.width,u.height=this.height;var h=new C.Canvas(u);h.clipTo=this.clipTo,this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),p&&p(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):p&&p(h)}}),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.util.object.clone,a=u.util.toFixed,c=u.util.string.capitalize,m=u.util.degreesToRadians,v=u.StaticCanvas.supports("setLineDash");u.Object||(u.Object=u.util.createClass(u.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!u.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=u.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var b=u.perfLimitSizeTotal,w=g.width,x=g.height,R=u.maxCacheSideLimit,L=u.minCacheSideLimit;if(w<=R&&x<=R&&w*x<=b)return w<L&&(g.width=L),x<L&&(g.height=L),g;var H=u.util.limitDimsByArea(w/x,b),rt=u.util.capValue,at=rt(L,H.x,R),pt=rt(L,H.y,R);return w>at&&(g.zoomX/=w/at,g.width=at,g.capped=!0),x>pt&&(g.zoomY/=x/pt,g.height=pt,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),b=this._getNonTransformedDimensions(),w=g.scaleX,x=g.scaleY;return{width:b.x*w+2,height:b.y*x+2,zoomX:w,zoomY:x,x:b.x,y:b.y}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var b=g._currentTransform.action;if(this===g._currentTransform.target&&b.slice&&b.slice(0,5)==="scale")return!1}var w,x,R=this._cacheCanvas,L=this._limitCacheSize(this._getCacheCanvasDimensions()),H=u.minCacheSideLimit,rt=L.width,at=L.height,pt=L.zoomX,bt=L.zoomY,gt=rt!==this.cacheWidth||at!==this.cacheHeight,I=0,M=0,W=!1;if(gt){var dt=this._cacheCanvas.width,_t=this._cacheCanvas.height,Et=rt>dt||at>_t;W=Et||(rt<.9*dt||at<.9*_t)&&dt>H&&_t>H,Et&&!L.capped&&(rt>H||at>H)&&(I=.1*rt,M=.1*at)}return!(!gt&&this.zoomX===pt&&this.zoomY===bt||(W?(R.width=Math.ceil(rt+I),R.height=Math.ceil(at+M)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,R.width,R.height)),w=L.x*pt/2,x=L.y*bt/2,this.cacheTranslationX=Math.round(R.width/2-w)+w,this.cacheTranslationY=Math.round(R.height/2-x)+x,this.cacheWidth=rt,this.cacheHeight=at,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(pt,bt),this.zoomX=pt,this.zoomY=bt,0))},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initClipping(g),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var b;b=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),g.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(g){var b=u.Object.NUM_FRACTION_DIGITS,w={type:this.type,version:u.version,originX:this.originX,originY:this.originY,left:a(this.left,b),top:a(this.top,b),width:a(this.width,b),height:a(this.height,b),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,b),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:a(this.strokeMiterLimit,b),scaleX:a(this.scaleX,b),scaleY:a(this.scaleY,b),angle:a(this.angle,b),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,b),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:a(this.skewX,b),skewY:a(this.skewY,b)};return this.clipPath&&(w.clipPath=this.clipPath.toObject(g),w.clipPath.inverted=this.clipPath.inverted,w.clipPath.absolutePositioned=this.clipPath.absolutePositioned),u.util.populateWithProperties(this,w,g),this.includeDefaultValues||(w=this._removeDefaultValues(w)),w},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var b=u.util.getKlass(g.type).prototype;return b.stateProperties.forEach(function(w){g[w]===b[w]&&delete g[w],Object.prototype.toString.call(g[w])==="[object Array]"&&Object.prototype.toString.call(b[w])==="[object Array]"&&g[w].length===0&&b[w].length===0&&delete g[w]}),g},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){var g=this.scaleX,b=this.scaleY;if(this.group){var w=this.group.getObjectScaling();g*=w.scaleX,b*=w.scaleY}return{scaleX:g,scaleY:b}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),b=g.scaleX,w=g.scaleY;if(this.canvas){var x=this.canvas.getZoom(),R=this.canvas.getRetinaScaling();b*=x*R,w*=x*R}return{scaleX:b,scaleY:w}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,b){var w=this[g]!==b,x=!1;return(g==="scaleX"||g==="scaleY")&&(b=this._constrainScale(b)),g==="scaleX"&&b<0?(this.flipX=!this.flipX,b*=-1):g==="scaleY"&&b<0?(this.flipY=!this.flipY,b*=-1):g!=="shadow"||!b||b instanceof u.Shadow?g==="dirty"&&this.group&&this.group.set("dirty",b):b=new u.Shadow(b),this[g]=b,w&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:u.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||this.width===0&&this.height===0&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.transformMatrix&&g.transform.apply(g,this.transformMatrix),this.clipTo&&u.util.clipContext(this,g),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&g.restore(),g.restore())},renderCache:function(g){g=g||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return this.paintFirst==="stroke"&&typeof this.shadow=="object"||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g){var b=this.clipPath;if(g.save(),g.globalCompositeOperation=b.inverted?"destination-out":"destination-in",b.absolutePositioned){var w=u.util.invertTransform(this.calcTransformMatrix());g.transform(w[0],w[1],w[2],w[3],w[4],w[5])}b.transform(g),g.scale(1/b.zoomX,1/b.zoomY),g.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),g.restore()},drawObject:function(g,b){var w=this.fill,x=this.stroke;b?(this.fill="black",this.stroke="",this._setClippingProperties(g)):(this._renderBackground(g),this._setStrokeStyles(g,this),this._setFillStyles(g,this)),this._render(g),this._drawClipPath(g),this.fill=w,this.stroke=x},_drawClipPath:function(g){var b=this.clipPath;b&&(b.canvas=this.canvas,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCache(g))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!g){var b=this.cacheWidth/this.zoomX,w=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-b/2,-w/2,b,w)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var b=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-b.x/2,-b.y/2,b.x,b.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,b){b.stroke&&(g.lineWidth=b.strokeWidth,g.lineCap=b.strokeLineCap,g.lineDashOffset=b.strokeDashOffset,g.lineJoin=b.strokeLineJoin,g.miterLimit=b.strokeMiterLimit,g.strokeStyle=b.stroke.toLive?b.stroke.toLive(g,this):b.stroke)},_setFillStyles:function(g,b){b.fill&&(g.fillStyle=b.fill.toLive?b.fill.toLive(g,this):b.fill)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,b,w){b&&(1&b.length&&b.push.apply(b,b),v?g.setLineDash(b):w&&w(g))},_renderControls:function(g,b){var w,x,R,L=this.getViewportTransform(),H=this.calcTransformMatrix();x=(b=b||{}).hasBorders!==void 0?b.hasBorders:this.hasBorders,R=b.hasControls!==void 0?b.hasControls:this.hasControls,H=u.util.multiplyTransformMatrices(L,H),w=u.util.qrDecompose(H),g.save(),g.translate(w.translateX,w.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),b.forActiveSelection?(g.rotate(m(w.angle)),x&&this.drawBordersInGroup(g,w,b)):(g.rotate(m(this.angle)),x&&this.drawBorders(g,b)),R&&this.drawControls(g,b),g.restore()},_setShadow:function(g){if(this.shadow){var b=this.shadow,w=this.canvas,x=w&&w.viewportTransform[0]||1,R=w&&w.viewportTransform[3]||1,L=this.getObjectScaling();w&&w._isRetinaScaling()&&(x*=u.devicePixelRatio,R*=u.devicePixelRatio),g.shadowColor=b.color,g.shadowBlur=b.blur*u.browserShadowBlurConstant*(x+R)*(L.scaleX+L.scaleY)/4,g.shadowOffsetX=b.offsetX*x*L.scaleX,g.shadowOffsetY=b.offsetY*R*L.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,b){if(!b||!b.toLive)return{offsetX:0,offsetY:0};var w=b.gradientTransform||b.patternTransform,x=-this.width/2+b.offsetX||0,R=-this.height/2+b.offsetY||0;return g.translate(x,R),w&&g.transform(w[0],w[1],w[2],w[3],w[4],w[5]),{offsetX:x,offsetY:R}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_renderFill:function(g){this.fill&&(g.save(),this._applyPatternGradientTransform(g,this.fill),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){this.stroke&&this.strokeWidth!==0&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this._setLineDash(g,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(g,this.stroke),g.stroke(),g.restore())},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=u.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var b=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),b=u.util.transformPoint(b,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,b.x+=g.offsetLeft,b.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(b,"center","center")},clone:function(g,b){var w=this.toObject(b);this.constructor.fromObject?this.constructor.fromObject(w,g):u.Object._fromObject("Object",w,g)},cloneAsImage:function(g,b){var w=this.toCanvasElement(b);return g&&g(new u.Image(w)),this},toCanvasElement:function(g){g||(g={});var b=u.util,w=b.saveObjectTransform(this),x=this.shadow,R=Math.abs,L=(g.multiplier||1)*(g.enableRetinaScaling?u.devicePixelRatio:1);g.withoutTransform&&b.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var H,rt,at=u.util.createCanvasElement(),pt=this.getBoundingRect(!0,!0),bt=this.shadow,gt={x:0,y:0};bt&&(rt=bt.blur,H=this.getObjectScaling(),gt.x=2*Math.round((R(bt.offsetX)+rt)*R(H.scaleX)),gt.y=2*Math.round((R(bt.offsetY)+rt)*R(H.scaleY))),at.width=pt.width+gt.x,at.height=pt.height+gt.y,at.width+=at.width%2?2-at.width%2:0,at.height+=at.height%2?2-at.height%2:0;var I=new u.StaticCanvas(at,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(I.backgroundColor="#fff"),this.setPositionByOrigin(new u.Point(I.width/2,I.height/2),"center","center");var M=this.canvas;I.add(this);var W=I.toCanvasElement(L||1,g);return this.shadow=x,this.canvas=M,this.set(w).setCoords(),I._objects=[],I.dispose(),I=null,W},toDataURL:function(g){return g||(g={}),u.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},setGradient:function(g,b){b||(b={});var w={colorStops:[]};return w.type=b.type||(b.r1||b.r2?"radial":"linear"),w.coords={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},(b.r1||b.r2)&&(w.coords.r1=b.r1,w.coords.r2=b.r2),w.gradientTransform=b.gradientTransform,u.Gradient.prototype.addColorStop.call(w,b.colorStops),this.set(g,u.Gradient.forObject(this,w))},setPatternFill:function(g,b){return this.set("fill",new u.Pattern(g,b))},setShadow:function(g){return this.set("shadow",g?new u.Shadow(g):null)},setColor:function(g){return this.set("fill",g),this},rotate:function(g){var b=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return b&&this._setOriginToCenter(),this.set("angle",g),b&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,b){b=b||this.canvas.getPointer(g);var w=new u.Point(b.x,b.y),x=this._getLeftTopCoords();return this.angle&&(w=u.util.rotatePoint(w,x,m(-this.angle))),{x:w.x-x.x,y:w.y-x.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)}}),u.util.createAccessors&&u.util.createAccessors(u.Object),h(u.Object.prototype,u.Observable),u.Object.NUM_FRACTION_DIGITS=2,u.Object._fromObject=function(g,b,w,x){var R=u[g];b=l(b,!0),u.util.enlivenPatterns([b.fill,b.stroke],function(L){L[0]!==void 0&&(b.fill=L[0]),L[1]!==void 0&&(b.stroke=L[1]),u.util.enlivenObjects([b.clipPath],function(H){b.clipPath=H[0];var rt=x?new R(b[x],b):new R(b);w&&w(rt)})})},u.Object.__uid=0)}(),Q=C.util.degreesToRadians,it={left:-.5,center:0,right:.5},Y={top:-.5,center:0,bottom:.5},C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(p,u,h,l,a){var c,m,v,g=p.x,b=p.y;return typeof u=="string"?u=it[u]:u-=.5,typeof l=="string"?l=it[l]:l-=.5,typeof h=="string"?h=Y[h]:h-=.5,typeof a=="string"?a=Y[a]:a-=.5,m=a-h,((c=l-u)||m)&&(v=this._getTransformedDimensions(),g=p.x+c*v.x,b=p.y+m*v.y),new C.Point(g,b)},translateToCenterPoint:function(p,u,h){var l=this.translateToGivenOrigin(p,u,h,"center","center");return this.angle?C.util.rotatePoint(l,p,Q(this.angle)):l},translateToOriginPoint:function(p,u,h){var l=this.translateToGivenOrigin(p,"center","center",u,h);return this.angle?C.util.rotatePoint(l,p,Q(this.angle)):l},getCenterPoint:function(){var p=new C.Point(this.left,this.top);return this.translateToCenterPoint(p,this.originX,this.originY)},getPointByOrigin:function(p,u){var h=this.getCenterPoint();return this.translateToOriginPoint(h,p,u)},toLocalPoint:function(p,u,h){var l,a,c=this.getCenterPoint();return l=u!==void 0&&h!==void 0?this.translateToGivenOrigin(c,"center","center",u,h):new C.Point(this.left,this.top),a=new C.Point(p.x,p.y),this.angle&&(a=C.util.rotatePoint(a,c,-Q(this.angle))),a.subtractEquals(l)},setPositionByOrigin:function(p,u,h){var l=this.translateToCenterPoint(p,u,h),a=this.translateToOriginPoint(l,this.originX,this.originY);this.set("left",a.x),this.set("top",a.y)},adjustPosition:function(p){var u,h,l=Q(this.angle),a=this.getScaledWidth(),c=C.util.cos(l)*a,m=C.util.sin(l)*a;this.left+=c*((h=typeof p=="string"?it[p]:p-.5)-(u=typeof this.originX=="string"?it[this.originX]:this.originX-.5)),this.top+=m*(h-u),this.setCoords(),this.originX=p},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var p=this.getCenterPoint();this.originX="center",this.originY="center",this.left=p.x,this.top=p.y},_resetOrigin:function(){var p=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=p.x,this.top=p.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var p=C.util.degreesToRadians,u=C.util.multiplyTransformMatrices,h=C.util.transformPoint;C.util.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(l,a){this.oCoords||this.setCoords();var c=l?this.aCoords:this.oCoords;return function(m){return[new C.Point(m.tl.x,m.tl.y),new C.Point(m.tr.x,m.tr.y),new C.Point(m.br.x,m.br.y),new C.Point(m.bl.x,m.bl.y)]}(a?this.calcCoords(l):c)},intersectsWithRect:function(l,a,c,m){var v=this.getCoords(c,m);return C.Intersection.intersectPolygonRectangle(v,l,a).status==="Intersection"},intersectsWithObject:function(l,a,c){return C.Intersection.intersectPolygonPolygon(this.getCoords(a,c),l.getCoords(a,c)).status==="Intersection"||l.isContainedWithinObject(this,a,c)||this.isContainedWithinObject(l,a,c)},isContainedWithinObject:function(l,a,c){for(var m=this.getCoords(a,c),v=0,g=l._getImageLines(c?l.calcCoords(a):a?l.aCoords:l.oCoords);v<4;v++)if(!l.containsPoint(m[v],g))return!1;return!0},isContainedWithinRect:function(l,a,c,m){var v=this.getBoundingRect(c,m);return v.left>=l.x&&v.left+v.width<=a.x&&v.top>=l.y&&v.top+v.height<=a.y},containsPoint:function(l,a,c,m){a=a||this._getImageLines(m?this.calcCoords(c):c?this.aCoords:this.oCoords);var v=this._findCrossPoints(l,a);return v!==0&&v%2==1},isOnScreen:function(l){if(!this.canvas)return!1;for(var a,c=this.canvas.vptCoords.tl,m=this.canvas.vptCoords.br,v=this.getCoords(!0,l),g=0;g<4;g++)if((a=v[g]).x<=m.x&&a.x>=c.x&&a.y<=m.y&&a.y>=c.y)return!0;return!!this.intersectsWithRect(c,m,!0,l)||this._containsCenterOfCanvas(c,m,l)},_containsCenterOfCanvas:function(l,a,c){return!!this.containsPoint({x:(l.x+a.x)/2,y:(l.y+a.y)/2},null,!0,c)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;return!!this.intersectsWithRect(a,c,!0,l)||this._containsCenterOfCanvas(a,c,l)},_getImageLines:function(l){return{topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}}},_findCrossPoints:function(l,a){var c,m,v,g=0;for(var b in a)if(!((v=a[b]).o.y<l.y&&v.d.y<l.y||v.o.y>=l.y&&v.d.y>=l.y||(m=v.o.x===v.d.x&&v.o.x>=l.x?v.o.x:-(l.y-0*l.x-(v.o.y-(c=(v.d.y-v.o.y)/(v.d.x-v.o.x))*v.o.x))/(0-c),m>=l.x&&(g+=1),g!==2)))break;return g},getBoundingRect:function(l,a){var c=this.getCoords(l,a);return C.util.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,a){var c=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(l/this.width/c)},scaleToHeight:function(l,a){var c=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(l/this.height/c)},calcCoords:function(l){var a=this._calcRotateMatrix(),c=this._calcTranslateMatrix(),m=u(c,a),v=this.getViewportTransform(),g=l?m:u(v,m),b=this._getTransformedDimensions(),w=b.x/2,x=b.y/2,R=h({x:-w,y:-x},g),L=h({x:w,y:-x},g),H=h({x:-w,y:x},g),rt=h({x:w,y:x},g);if(!l){var at=this.padding,pt=p(this.angle),bt=C.util.cos(pt),gt=C.util.sin(pt),I=bt*at,M=gt*at,W=I+M,dt=I-M;at&&(R.x-=dt,R.y-=W,L.x+=W,L.y-=dt,H.x-=W,H.y+=dt,rt.x+=dt,rt.y+=W);var _t=new C.Point((R.x+H.x)/2,(R.y+H.y)/2),Et=new C.Point((L.x+R.x)/2,(L.y+R.y)/2),Ct=new C.Point((rt.x+L.x)/2,(rt.y+L.y)/2),Ot=new C.Point((rt.x+H.x)/2,(rt.y+H.y)/2),Xt=new C.Point(Et.x+gt*this.rotatingPointOffset,Et.y-bt*this.rotatingPointOffset)}var Ht={tl:R,tr:L,br:rt,bl:H};return l||(Ht.ml=_t,Ht.mt=Et,Ht.mr=Ct,Ht.mb=Ot,Ht.mtr=Xt),Ht},setCoords:function(l,a){return this.oCoords=this.calcCoords(l),a||(this.aCoords=this.calcCoords(!0)),l||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var l=p(this.angle),a=C.util.cos(l),c=C.util.sin(l);return[a,c,-c,a,0,0]}return C.iMatrix.concat()},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var a="";return!l&&this.group&&(a=this.group.transformMatrixKey(l)+"_"),a+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){if(l)return this.calcOwnMatrix();var a=this.transformMatrixKey(),c=this.matrixCache||(this.matrixCache={});if(c.key===a)return c.value;var m=this.calcOwnMatrix();return this.group&&(m=u(this.group.calcTransformMatrix(),m)),c.key=a,c.value=m,m},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===l)return a.value;var c,m=this._calcTranslateMatrix(),v=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return this.angle&&(c=this._calcRotateMatrix(),m=u(m,c)),m=u(m,v),a.key=l,a.value=m,m},_calcDimensionsTransformMatrix:function(l,a,c){var m,v=[this.scaleX*(c&&this.flipX?-1:1),0,0,this.scaleY*(c&&this.flipY?-1:1),0,0];return l&&(m=[1,0,Math.tan(p(l)),1],v=u(v,m,!0)),a&&(m=[1,Math.tan(p(a)),0,1],v=u(v,m,!0)),v},_getNonTransformedDimensions:function(){var l=this.strokeWidth;return{x:this.width+l,y:this.height+l}},_getTransformedDimensions:function(l,a){l===void 0&&(l=this.skewX),a===void 0&&(a=this.skewY);var c=this._getNonTransformedDimensions();if(l===0&&a===0)return{x:c.x*this.scaleX,y:c.y*this.scaleY};var m,v,g=c.x/2,b=c.y/2,w=[{x:-g,y:-b},{x:g,y:-b},{x:-g,y:b},{x:g,y:b}],x=this._calcDimensionsTransformMatrix(l,a,!1);for(m=0;m<w.length;m++)w[m]=C.util.transformPoint(w[m],x);return{x:(v=C.util.makeBoundingBoxFromPoints(w)).width,y:v.height}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),a=this._getTransformedDimensions();return C.util.transformPoint(a,l,!0).scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(p){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,p):this.canvas.sendBackwards(this,p),this},bringForward:function(p){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,p):this.canvas.bringForward(this,p),this},moveTo:function(p){return this.group&&this.group.type!=="activeSelection"?C.StaticCanvas.prototype.moveTo.call(this.group,this,p):this.canvas.moveTo(this,p),this}}),function(){function p(h,l){if(l){if(l.toLive)return h+": url(#SVGID_"+l.id+"); ";var a=new C.Color(l),c=h+": "+a.toRgb()+"; ",m=a.getAlpha();return m!==1&&(c+=h+"-opacity: "+m.toString()+"; "),c}return h+": none; "}var u=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(h){var l=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",m=this.strokeDashOffset?this.strokeDashOffset:"0",v=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",b=this.strokeMiterLimit?this.strokeMiterLimit:"4",w=this.opacity!==void 0?this.opacity:"1",x=this.visible?"":" visibility: hidden;",R=h?"":this.getSvgFilter(),L=p("fill",this.fill);return[p("stroke",this.stroke),"stroke-width: ",a,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",v,"; ","stroke-dashoffset: ",m,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",b,"; ",L,"fill-rule: ",l,"; ","opacity: ",w,";",R,x].join("")},getSvgSpanStyles:function(h,l){var a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+"; ":"",c=h.strokeWidth?"stroke-width: "+h.strokeWidth+"; ":"",m=(a=a,h.fontSize?"font-size: "+h.fontSize+"px; ":""),v=h.fontStyle?"font-style: "+h.fontStyle+"; ":"",g=h.fontWeight?"font-weight: "+h.fontWeight+"; ":"",b=h.fill?p("fill",h.fill):"",w=h.stroke?p("stroke",h.stroke):"",x=this.getSvgTextDecoration(h);return x&&(x="text-decoration: "+x+"; "),[w,c,a,m,v,g,x,b,h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"",l?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return"overline"in h||"underline"in h||"linethrough"in h?(h.overline?"overline ":"")+(h.underline?"underline ":"")+(h.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,l){return'transform="matrix('+(h?this.calcTransformMatrix():this.calcOwnMatrix()).map(function(a){return u(a,C.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"+(l||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+")":""},_setSVGBg:function(h){if(this.backgroundColor){var l=C.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',u(-this.width/2,l),'" y="',u(-this.height/2,l),'" width="',u(this.width,l),'" height="',u(this.height,l),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,l){var a=(l=l||{}).reviver,c=[this.getSvgTransform(!0,l.additionalTransform||""),this.getSvgCommons()].join(""),m=h.indexOf("COMMON_PARTS");return h[m]=c,a?a(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,l){var a,c,m=(l=l||{}).noStyle,v=l.withShadow,g=l.reviver,b=m?"":'style="'+this.getSvgStyles()+'" ',w=v?'style="'+this.getSvgFilter()+'" ':"",x=this.clipPath,R=this.clipPath&&this.clipPath.absolutePositioned,L=[],H=h.indexOf("COMMON_PARTS"),rt=l.additionalTransform;return x&&(x.clipPathId="CLIPPATH_"+C.Object.__uid++,c='<clipPath id="'+x.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g)+`</clipPath>
`),R&&L.push("<g ",w,this.getSvgCommons(),` >
`),L.push("<g ",this.getSvgTransform(!1),R?"":w+this.getSvgCommons(),` >
`),a=[b,m?"":this.addPaintOrder()," ",rt?'transform="'+rt+'" ':""].join(""),h[H]=a,this.fill&&this.fill.toLive&&L.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&L.push(this.stroke.toSVG(this,!1)),this.shadow&&L.push(this.shadow.toSVG(this)),x&&L.push(c),L.push(h.join("")),L.push(`</g>
`),R&&L.push(`</g>
`),g?g(L.join("")):L.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var p=C.util.object.extend;function u(h,l,a){var c={};a.forEach(function(m){c[m]=h[m]}),p(h[l],c,!0)}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(h){var l="_"+(h=h||"stateProperties");return Object.keys(this[l]).length<this[h].length||!function a(c,m,v){if(c===m)return!0;if(Array.isArray(c)){if(!Array.isArray(m)||c.length!==m.length)return!1;for(var g=0,b=c.length;g<b;g++)if(!a(c[g],m[g]))return!1;return!0}if(c&&typeof c=="object"){var w,x=Object.keys(c);if(!m||typeof m!="object"||!v&&x.length!==Object.keys(m).length)return!1;for(g=0,b=x.length;g<b;g++)if((w=x[g])!=="canvas"&&!a(c[w],m[w]))return!1;return!0}}(this[l],this,!0)},saveState:function(h){var l=h&&h.propertySet||"stateProperties",a="_"+l;return this[a]?(u(this,a,this[l]),h&&h.stateProperties&&u(this,a,h.stateProperties),this):this.setupState(h)},setupState:function(h){var l=(h=h||{}).propertySet||"stateProperties";return h.propertySet=l,this["_"+l]={},this.saveState(h),this}})}(),function(){var p=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h,l,a=u.x,c=u.y;for(var m in this.__corner=0,this.oCoords)if(this.isControlVisible(m)&&(m!=="mtr"||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||m!=="mt"&&m!=="mr"&&m!=="mb"&&m!=="ml")&&(l=this._getImageLines(this.oCoords[m].corner),(h=this._findCrossPoints({x:a,y:c},l))!==0&&h%2==1))return this.__corner=m,m;return!1},_setCornerCoords:function(){var u,h,l=this.oCoords,a=p(45-this.angle),c=.707106*this.cornerSize,m=c*C.util.cos(a),v=c*C.util.sin(a);for(var g in l)l[g].corner={tl:{x:(u=l[g].x)-v,y:(h=l[g].y)-m},tr:{x:u+m,y:h-v},bl:{x:u-m,y:h+v},br:{x:u+v,y:h+m}}},drawSelectionBackground:function(u){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;u.save();var h=this.getCenterPoint(),l=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return u.translate(h.x,h.y),u.scale(1/a[0],1/a[3]),u.rotate(p(this.angle)),u.fillStyle=this.selectionBackgroundColor,u.fillRect(-l.x/2,-l.y/2,l.x,l.y),u.restore(),this},drawBorders:function(u,h){h=h||{};var l=this._calculateCurrentDimensions(),a=1/this.borderScaleFactor,c=l.x+a,m=l.y+a,v=h.hasRotatingPoint!==void 0?h.hasRotatingPoint:this.hasRotatingPoint,g=h.hasControls!==void 0?h.hasControls:this.hasControls,b=h.rotatingPointOffset!==void 0?h.rotatingPointOffset:this.rotatingPointOffset;if(u.save(),u.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(u,h.borderDashArray||this.borderDashArray,null),u.strokeRect(-c/2,-m/2,c,m),v&&this.isControlVisible("mtr")&&g){var w=-m/2;u.beginPath(),u.moveTo(0,w),u.lineTo(0,w-b),u.stroke()}return u.restore(),this},drawBordersInGroup:function(u,h,l){l=l||{};var a=this._getNonTransformedDimensions(),c=C.util.customTransformMatrix(h.scaleX,h.scaleY,h.skewX),m=C.util.transformPoint(a,c),v=1/this.borderScaleFactor,g=m.x+v,b=m.y+v;return u.save(),this._setLineDash(u,l.borderDashArray||this.borderDashArray,null),u.strokeStyle=l.borderColor||this.borderColor,u.strokeRect(-g/2,-b/2,g,b),u.restore(),this},drawControls:function(u,h){h=h||{};var l=this._calculateCurrentDimensions(),a=l.x,c=l.y,m=h.cornerSize||this.cornerSize,v=-(a+m)/2,g=-(c+m)/2,b=h.hasRotatingPoint!==void 0?h.hasRotatingPoint:this.hasRotatingPoint,w=(h.transparentCorners!==void 0?h.transparentCorners:this.transparentCorners)?"stroke":"fill";return u.save(),u.strokeStyle=u.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(u.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(u,h.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",u,w,v,g,h),this._drawControl("tr",u,w,v+a,g,h),this._drawControl("bl",u,w,v,g+c,h),this._drawControl("br",u,w,v+a,g+c,h),this.get("lockUniScaling")||(this._drawControl("mt",u,w,v+a/2,g,h),this._drawControl("mb",u,w,v+a/2,g+c,h),this._drawControl("mr",u,w,v+a,g+c/2,h),this._drawControl("ml",u,w,v,g+c/2,h)),b&&this._drawControl("mtr",u,w,v+a/2,g-this.rotatingPointOffset,h),u.restore(),this},_drawControl:function(u,h,l,a,c,m){if(m=m||{},this.isControlVisible(u)){var v=this.cornerSize,g=!this.transparentCorners&&this.cornerStrokeColor;switch(m.cornerStyle||this.cornerStyle){case"circle":h.beginPath(),h.arc(a+v/2,c+v/2,v/2,0,2*Math.PI,!1),h[l](),g&&h.stroke();break;default:this.transparentCorners||h.clearRect(a,c,v,v),h[l+"Rect"](a,c,v,v),g&&h.strokeRect(a,c,v,v)}}},isControlVisible:function(u){return this._getControlsVisibility()[u]},setControlVisible:function(u,h){return this._getControlsVisibility()[u]=h,this},setControlsVisibility:function(u){for(var h in u||(u={}),u)this.setControlVisible(h,u[h]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(p,u){var h=function(){},l=(u=u||{}).onComplete||h,a=u.onChange||h,c=this;return C.util.animate({startValue:p.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(m){p.set("left",m),c.requestRenderAll(),a()},onComplete:function(){p.setCoords(),l()}}),this},fxCenterObjectV:function(p,u){var h=function(){},l=(u=u||{}).onComplete||h,a=u.onChange||h,c=this;return C.util.animate({startValue:p.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(m){p.set("top",m),c.requestRenderAll(),a()},onComplete:function(){p.setCoords(),l()}}),this},fxRemove:function(p,u){var h=function(){},l=(u=u||{}).onComplete||h,a=u.onChange||h,c=this;return C.util.animate({startValue:p.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(m){p.set("opacity",m),c.requestRenderAll(),a()},onComplete:function(){c.remove(p),l()}}),this}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var p,u=[];for(p in arguments[0])u.push(p);for(var h=0,l=u.length;h<l;h++)this._animate(p=u[h],arguments[0][p],arguments[1],h!==l-1)}else this._animate.apply(this,arguments);return this},_animate:function(p,u,h,l){var a,c=this;u=u.toString(),h=h?C.util.object.clone(h):{},~p.indexOf(".")&&(a=p.split("."));var m=a?this.get(a[0])[a[1]]:this.get(p);"from"in h||(h.from=m),u=~u.indexOf("=")?m+parseFloat(u.replace("=","")):parseFloat(u),C.util.animate({startValue:h.from,endValue:u,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(){return h.abort.call(c)},onChange:function(v,g,b){a?c[a[0]][a[1]]=v:c.set(p,v),l||h.onChange&&h.onChange(v,g,b)},onComplete:function(v,g,b){l||(c.setCoords(),h.onComplete&&h.onComplete(v,g,b))}})}}),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.util.object.clone,a={x1:1,x2:1,y1:1,y2:1},c=u.StaticCanvas.supports("setLineDash");function m(v,g){var b=v.origin,w=v.axis1,x=v.axis2,R=v.dimension,L=g.nearest,H=g.center,rt=g.farthest;return function(){switch(this.get(b)){case L:return Math.min(this.get(w),this.get(x));case H:return Math.min(this.get(w),this.get(x))+.5*this.get(R);case rt:return Math.max(this.get(w),this.get(x))}}}u.Line?u.warn("fabric.Line is already defined"):(u.Line=u.util.createClass(u.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:u.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(v,g){v||(v=[0,0,0,0]),this.callSuper("initialize",g),this.set("x1",v[0]),this.set("y1",v[1]),this.set("x2",v[2]),this.set("y2",v[3]),this._setWidthHeight(g)},_setWidthHeight:function(v){v||(v={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in v?v.left:this._getLeftToOriginX(),this.top="top"in v?v.top:this._getTopToOriginY()},_set:function(v,g){return this.callSuper("_set",v,g),a[v]!==void 0&&this._setWidthHeight(),this},_getLeftToOriginX:m({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:m({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(v){if(v.beginPath(),!this.strokeDashArray||this.strokeDashArray&&c){var g=this.calcLinePoints();v.moveTo(g.x1,g.y1),v.lineTo(g.x2,g.y2)}v.lineWidth=this.strokeWidth;var b=v.strokeStyle;v.strokeStyle=this.stroke||v.fillStyle,this.stroke&&this._renderStroke(v),v.strokeStyle=b},_renderDashedStroke:function(v){var g=this.calcLinePoints();v.beginPath(),u.util.drawDashedLine(v,g.x1,g.y1,g.x2,g.y2,this.strokeDashArray),v.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(v){return h(this.callSuper("toObject",v),this.calcLinePoints())},_getNonTransformedDimensions:function(){var v=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(v.y-=this.strokeWidth),this.height===0&&(v.x-=this.strokeWidth)),v},calcLinePoints:function(){var v=this.x1<=this.x2?-1:1,g=this.y1<=this.y2?-1:1;return{x1:v*this.width*.5,x2:v*this.width*-.5,y1:g*this.height*.5,y2:g*this.height*-.5}},_toSVG:function(){var v=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',v.x1,'" y1="',v.y1,'" x2="',v.x2,'" y2="',v.y2,`" />
`]}}),u.Line.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),u.Line.fromElement=function(v,g,b){b=b||{};var w=u.parseAttributes(v,u.Line.ATTRIBUTE_NAMES);g(new u.Line([w.x1||0,w.y1||0,w.x2||0,w.y2||0],h(w,b)))},u.Line.fromObject=function(v,g){var b=l(v,!0);b.points=[v.x1,v.y1,v.x2,v.y2],u.Object._fromObject("Line",b,function(w){delete w.points,g&&g(w)},"points")})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=Math.PI;u.Circle?u.warn("fabric.Circle is already defined."):(u.Circle=u.util.createClass(u.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*h,cacheProperties:u.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,a){return this.callSuper("_set",l,a),l==="radius"&&this.setRadius(a),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,a=(this.endAngle-this.startAngle)%(2*h);if(a===0)l=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,`" />
`];else{var c=u.util.cos(this.startAngle)*this.radius,m=u.util.sin(this.startAngle)*this.radius,v=u.util.cos(this.endAngle)*this.radius,g=u.util.sin(this.endAngle)*this.radius;l=['<path d="M '+c+" "+m," A "+this.radius+" "+this.radius," 0 ",+(a>h?"1":"0")+" 1"," "+v+" "+g,'"',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",2*l).set("height",2*l)}}),u.Circle.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),u.Circle.fromElement=function(l,a){var c,m=u.parseAttributes(l,u.Circle.ATTRIBUTE_NAMES);if(!("radius"in(c=m)&&c.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");m.left=(m.left||0)-m.radius,m.top=(m.top||0)-m.radius,a(new u.Circle(m))},u.Circle.fromObject=function(l,a){return u.Object._fromObject("Circle",l,a)})}(),function(p){"use strict";var u=q.fabric||(q.fabric={});u.Triangle?u.warn("fabric.Triangle is already defined"):(u.Triangle=u.util.createClass(u.Object,{type:"triangle",width:100,height:100,_render:function(h){var l=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-l,a),h.lineTo(0,-a),h.lineTo(l,a),h.closePath(),this._renderPaintInOrder(h)},_renderDashedStroke:function(h){var l=this.width/2,a=this.height/2;h.beginPath(),u.util.drawDashedLine(h,-l,a,0,-a,this.strokeDashArray),u.util.drawDashedLine(h,0,-a,l,a,this.strokeDashArray),u.util.drawDashedLine(h,l,a,-l,a,this.strokeDashArray),h.closePath()},_toSVG:function(){var h=this.width/2,l=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-h+" "+l,"0 "+-l,h+" "+l].join(","),'" />']}}),u.Triangle.fromObject=function(h,l){return u.Object._fromObject("Triangle",h,l)})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=2*Math.PI;u.Ellipse?u.warn("fabric.Ellipse is already defined."):(u.Ellipse=u.util.createClass(u.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:u.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this.set("rx",l&&l.rx||0),this.set("ry",l&&l.ry||0)},_set:function(l,a){switch(this.callSuper("_set",l,a),l){case"rx":this.rx=a,this.set("width",2*a);break;case"ry":this.ry=a,this.set("height",2*a)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(l){l.beginPath(),l.save(),l.transform(1,0,0,this.ry/this.rx,0,0),l.arc(0,0,this.rx,0,h,!1),l.restore(),this._renderPaintInOrder(l)}}),u.Ellipse.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),u.Ellipse.fromElement=function(l,a){var c=u.parseAttributes(l,u.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,a(new u.Ellipse(c))},u.Ellipse.fromObject=function(l,a){return u.Object._fromObject("Ellipse",l,a)})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend;u.Rect?u.warn("fabric.Rect is already defined"):(u.Rect=u.util.createClass(u.Object,{stateProperties:u.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:u.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(l){var a=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,m=this.width,v=this.height,g=-this.width/2,b=-this.height/2,w=a!==0||c!==0,x=.4477152502;l.beginPath(),l.moveTo(g+a,b),l.lineTo(g+m-a,b),w&&l.bezierCurveTo(g+m-x*a,b,g+m,b+x*c,g+m,b+c),l.lineTo(g+m,b+v-c),w&&l.bezierCurveTo(g+m,b+v-x*c,g+m-x*a,b+v,g+m-a,b+v),l.lineTo(g+a,b+v),w&&l.bezierCurveTo(g+x*a,b+v,g,b+v-x*c,g,b+v-c),l.lineTo(g,b+c),w&&l.bezierCurveTo(g,b+x*c,g+x*a,b,g+a,b),l.closePath(),this._renderPaintInOrder(l)},_renderDashedStroke:function(l){var a=-this.width/2,c=-this.height/2,m=this.width,v=this.height;l.beginPath(),u.util.drawDashedLine(l,a,c,a+m,c,this.strokeDashArray),u.util.drawDashedLine(l,a+m,c,a+m,c+v,this.strokeDashArray),u.util.drawDashedLine(l,a+m,c+v,a,c+v,this.strokeDashArray),u.util.drawDashedLine(l,a,c+v,a,c,this.strokeDashArray),l.closePath()},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),u.Rect.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),u.Rect.fromElement=function(l,a,c){if(!l)return a(null);c=c||{};var m=u.parseAttributes(l,u.Rect.ATTRIBUTE_NAMES);m.left=m.left||0,m.top=m.top||0;var v=new u.Rect(h(c?u.util.object.clone(c):{},m));v.visible=v.visible&&v.width>0&&v.height>0,a(v)},u.Rect.fromObject=function(l,a){return u.Object._fromObject("Rect",l,a)})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.util.array.min,a=u.util.array.max,c=u.util.toFixed;u.Polyline?u.warn("fabric.Polyline is already defined"):(u.Polyline=u.util.createClass(u.Object,{type:"polyline",points:null,cacheProperties:u.Object.prototype.cacheProperties.concat("points"),initialize:function(m,v){v=v||{},this.points=m||[],this.callSuper("initialize",v);var g=this._calcDimensions();v.left===void 0&&(this.left=g.left),v.top===void 0&&(this.top=g.top),this.width=g.width,this.height=g.height,this.pathOffset={x:g.left+this.width/2,y:g.top+this.height/2}},_calcDimensions:function(){var m=this.points,v=l(m,"x")||0,g=l(m,"y")||0;return{left:v,top:g,width:(a(m,"x")||0)-v,height:(a(m,"y")||0)-g}},toObject:function(m){return h(this.callSuper("toObject",m),{points:this.points.concat()})},_toSVG:function(){for(var m=[],v=this.pathOffset.x,g=this.pathOffset.y,b=u.Object.NUM_FRACTION_DIGITS,w=0,x=this.points.length;w<x;w++)m.push(c(this.points[w].x-v,b),",",c(this.points[w].y-g,b)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',m.join(""),`" />
`]},commonRender:function(m){var v,g=this.points.length,b=this.pathOffset.x,w=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;m.beginPath(),m.moveTo(this.points[0].x-b,this.points[0].y-w);for(var x=0;x<g;x++)m.lineTo((v=this.points[x]).x-b,v.y-w);return!0},_render:function(m){this.commonRender(m)&&this._renderPaintInOrder(m)},_renderDashedStroke:function(m){var v,g;m.beginPath();for(var b=0,w=this.points.length;b<w;b++)u.util.drawDashedLine(m,(v=this.points[b]).x,v.y,(g=this.points[b+1]||v).x,g.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),u.Polyline.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(),u.Polyline.fromElement=function(m,v,g){if(!m)return v(null);g||(g={});var b=u.parsePointsAttribute(m.getAttribute("points")),w=u.parseAttributes(m,u.Polyline.ATTRIBUTE_NAMES);v(new u.Polyline(b,u.util.object.extend(w,g)))},u.Polyline.fromObject=function(m,v){return u.Object._fromObject("Polyline",m,v,"points")})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend;u.Polygon?u.warn("fabric.Polygon is already defined"):(u.Polygon=u.util.createClass(u.Polyline,{type:"polygon",_render:function(l){this.commonRender(l)&&(l.closePath(),this._renderPaintInOrder(l))},_renderDashedStroke:function(l){this.callSuper("_renderDashedStroke",l),l.closePath()}}),u.Polygon.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(),u.Polygon.fromElement=function(l,a,c){if(!l)return a(null);c||(c={});var m=u.parsePointsAttribute(l.getAttribute("points")),v=u.parseAttributes(l,u.Polygon.ATTRIBUTE_NAMES);a(new u.Polygon(m,h(v,c)))},u.Polygon.fromObject=function(l,a){return u.Object._fromObject("Polygon",l,a,"points")})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.array.min,l=u.util.array.max,a=u.util.object.extend,c=Object.prototype.toString,m=u.util.drawArc,v=u.util.toFixed,g={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},b={m:"l",M:"L"};u.Path?u.warn("fabric.Path is already defined"):(u.Path=u.util.createClass(u.Object,{type:"path",path:null,cacheProperties:u.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:u.Object.prototype.stateProperties.concat("path"),initialize:function(w,x){this.callSuper("initialize",x=x||{}),w||(w=[]);var R=c.call(w)==="[object Array]";this.path=R?w:w.match&&w.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(R||(this.path=this._parsePath()),this._setPositionDimensions(x))},_setPositionDimensions:function(w){var x=this._parseDimensions();this.width=x.width,this.height=x.height,w.left===void 0&&(this.left=x.left),w.top===void 0&&(this.top=x.top),this.pathOffset=this.pathOffset||{x:x.left+this.width/2,y:x.top+this.height/2}},_renderPathCommands:function(w){var x,R,L,H=null,rt=0,at=0,pt=0,bt=0,gt=0,I=0,M=-this.pathOffset.x,W=-this.pathOffset.y;w.beginPath();for(var dt=0,_t=this.path.length;dt<_t;++dt){switch((x=this.path[dt])[0]){case"l":w.lineTo((pt+=x[1])+M,(bt+=x[2])+W);break;case"L":w.lineTo((pt=x[1])+M,(bt=x[2])+W);break;case"h":w.lineTo((pt+=x[1])+M,bt+W);break;case"H":w.lineTo((pt=x[1])+M,bt+W);break;case"v":w.lineTo(pt+M,(bt+=x[1])+W);break;case"V":w.lineTo(pt+M,(bt=x[1])+W);break;case"m":rt=pt+=x[1],at=bt+=x[2],w.moveTo(pt+M,bt+W);break;case"M":rt=pt=x[1],at=bt=x[2],w.moveTo(pt+M,bt+W);break;case"c":w.bezierCurveTo(pt+x[1]+M,bt+x[2]+W,(gt=pt+x[3])+M,(I=bt+x[4])+W,(R=pt+x[5])+M,(L=bt+x[6])+W),pt=R,bt=L;break;case"C":w.bezierCurveTo(x[1]+M,x[2]+W,(gt=x[3])+M,(I=x[4])+W,(pt=x[5])+M,(bt=x[6])+W);break;case"s":R=pt+x[3],L=bt+x[4],H[0].match(/[CcSs]/)===null?(gt=pt,I=bt):(gt=2*pt-gt,I=2*bt-I),w.bezierCurveTo(gt+M,I+W,pt+x[1]+M,bt+x[2]+W,R+M,L+W),gt=pt+x[1],I=bt+x[2],pt=R,bt=L;break;case"S":R=x[3],L=x[4],H[0].match(/[CcSs]/)===null?(gt=pt,I=bt):(gt=2*pt-gt,I=2*bt-I),w.bezierCurveTo(gt+M,I+W,x[1]+M,x[2]+W,R+M,L+W),pt=R,bt=L,gt=x[1],I=x[2];break;case"q":w.quadraticCurveTo((gt=pt+x[1])+M,(I=bt+x[2])+W,(R=pt+x[3])+M,(L=bt+x[4])+W),pt=R,bt=L;break;case"Q":w.quadraticCurveTo(x[1]+M,x[2]+W,(R=x[3])+M,(L=x[4])+W),pt=R,bt=L,gt=x[1],I=x[2];break;case"t":R=pt+x[1],L=bt+x[2],H[0].match(/[QqTt]/)===null?(gt=pt,I=bt):(gt=2*pt-gt,I=2*bt-I),w.quadraticCurveTo(gt+M,I+W,R+M,L+W),pt=R,bt=L;break;case"T":R=x[1],L=x[2],H[0].match(/[QqTt]/)===null?(gt=pt,I=bt):(gt=2*pt-gt,I=2*bt-I),w.quadraticCurveTo(gt+M,I+W,R+M,L+W),pt=R,bt=L;break;case"a":m(w,pt+M,bt+W,[x[1],x[2],x[3],x[4],x[5],x[6]+pt+M,x[7]+bt+W]),pt+=x[6],bt+=x[7];break;case"A":m(w,pt+M,bt+W,[x[1],x[2],x[3],x[4],x[5],x[6]+M,x[7]+W]),pt=x[6],bt=x[7];break;case"z":case"Z":pt=rt,bt=at,w.closePath()}H=x}},_render:function(w){this._renderPathCommands(w),this._renderPaintInOrder(w)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(w){return a(this.callSuper("toObject",w),{path:this.path.map(function(x){return x.slice()}),top:this.top,left:this.left})},toDatalessObject:function(w){var x=this.toObject(["sourcePath"].concat(w));return x.sourcePath&&delete x.path,x},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map(function(w){return w.join(" ")}).join(" "),'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var w=u.Object.NUM_FRACTION_DIGITS;return" translate("+v(-this.pathOffset.x,w)+", "+v(-this.pathOffset.y,w)+")"},toClipPathSVG:function(w){var x=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:w,additionalTransform:x})},toSVG:function(w){var x=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:w,additionalTransform:x})},complexity:function(){return this.path.length},_parsePath:function(){for(var w,x,R,L,H,rt=[],at=[],pt=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,bt=0,gt=this.path.length;bt<gt;bt++){for(L=(w=this.path[bt]).slice(1).trim(),at.length=0;R=pt.exec(L);)at.push(R[0]);H=[w.charAt(0)];for(var I=0,M=at.length;I<M;I++)x=parseFloat(at[I]),isNaN(x)||H.push(x);var W=H[0],dt=g[W.toLowerCase()],_t=b[W]||W;if(H.length-1>dt)for(var Et=1,Ct=H.length;Et<Ct;Et+=dt)rt.push([W].concat(H.slice(Et,Et+dt))),W=_t;else rt.push(H)}return rt},_parseDimensions:function(){for(var w,x,R,L,H=[],rt=[],at=null,pt=0,bt=0,gt=0,I=0,M=0,W=0,dt=0,_t=this.path.length;dt<_t;++dt){switch((w=this.path[dt])[0]){case"l":gt+=w[1],I+=w[2],L=[];break;case"L":gt=w[1],I=w[2],L=[];break;case"h":gt+=w[1],L=[];break;case"H":gt=w[1],L=[];break;case"v":I+=w[1],L=[];break;case"V":I=w[1],L=[];break;case"m":pt=gt+=w[1],bt=I+=w[2],L=[];break;case"M":pt=gt=w[1],bt=I=w[2],L=[];break;case"c":L=u.util.getBoundsOfCurve(gt,I,gt+w[1],I+w[2],M=gt+w[3],W=I+w[4],x=gt+w[5],R=I+w[6]),gt=x,I=R;break;case"C":L=u.util.getBoundsOfCurve(gt,I,w[1],w[2],M=w[3],W=w[4],w[5],w[6]),gt=w[5],I=w[6];break;case"s":x=gt+w[3],R=I+w[4],at[0].match(/[CcSs]/)===null?(M=gt,W=I):(M=2*gt-M,W=2*I-W),L=u.util.getBoundsOfCurve(gt,I,M,W,gt+w[1],I+w[2],x,R),M=gt+w[1],W=I+w[2],gt=x,I=R;break;case"S":x=w[3],R=w[4],at[0].match(/[CcSs]/)===null?(M=gt,W=I):(M=2*gt-M,W=2*I-W),L=u.util.getBoundsOfCurve(gt,I,M,W,w[1],w[2],x,R),gt=x,I=R,M=w[1],W=w[2];break;case"q":L=u.util.getBoundsOfCurve(gt,I,M=gt+w[1],W=I+w[2],M,W,x=gt+w[3],R=I+w[4]),gt=x,I=R;break;case"Q":L=u.util.getBoundsOfCurve(gt,I,M=w[1],W=w[2],M,W,w[3],w[4]),gt=w[3],I=w[4];break;case"t":x=gt+w[1],R=I+w[2],at[0].match(/[QqTt]/)===null?(M=gt,W=I):(M=2*gt-M,W=2*I-W),L=u.util.getBoundsOfCurve(gt,I,M,W,M,W,x,R),gt=x,I=R;break;case"T":x=w[1],R=w[2],at[0].match(/[QqTt]/)===null?(M=gt,W=I):(M=2*gt-M,W=2*I-W),L=u.util.getBoundsOfCurve(gt,I,M,W,M,W,x,R),gt=x,I=R;break;case"a":L=u.util.getBoundsOfArc(gt,I,w[1],w[2],w[3],w[4],w[5],w[6]+gt,w[7]+I),gt+=w[6],I+=w[7];break;case"A":L=u.util.getBoundsOfArc(gt,I,w[1],w[2],w[3],w[4],w[5],w[6],w[7]),gt=w[6],I=w[7];break;case"z":case"Z":gt=pt,I=bt}at=w,L.forEach(function(Ot){H.push(Ot.x),rt.push(Ot.y)}),H.push(gt),rt.push(I)}var Et=h(H)||0,Ct=h(rt)||0;return{left:Et,top:Ct,width:(l(H)||0)-Et,height:(l(rt)||0)-Ct}}}),u.Path.fromObject=function(w,x){typeof w.sourcePath=="string"?u.loadSVGFromURL(w.sourcePath,function(R){var L=R[0];L.setOptions(w),x&&x(L)}):u.Object._fromObject("Path",w,x,"path")},u.Path.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(["d"]),u.Path.fromElement=function(w,x,R){var L=u.parseAttributes(w,u.Path.ATTRIBUTE_NAMES);x(new u.Path(L.d,a(L,R)))})}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.array.min,l=u.util.array.max;u.Group||(u.Group=u.util.createClass(u.Object,u.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,c,m){c=c||{},this._objects=[],m&&this.callSuper("initialize",c),this._objects=a||[];for(var v=this._objects.length;v--;)this._objects[v].group=this;if(m)this._updateObjectsACoords();else{var g=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var a=this._objects.length;a--;)this._objects[a].setCoords(!0,!0)},_updateObjectsCoords:function(a){a=a||this.getCenterPoint();for(var c=this._objects.length;c--;)this._updateObjectCoords(this._objects[c],a)},_updateObjectCoords:function(a,c){a.set({left:a.left-c.x,top:a.top-c.y}),a.group=this,a.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){return this._restoreObjectsState(),u.util.resetObjectTransform(this),a&&(this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(a){return this._restoreObjectsState(),u.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,c){var m=this._objects.length;if(this.useSetOnGroup)for(;m--;)this._objects[m].setOnGroup(a,c);if(a==="canvas")for(;m--;)this._objects[m]._set(a,c);u.Object.prototype._set.call(this,a,c)},toObject:function(a){var c=this.includeDefaultValues,m=this._objects.map(function(g){var b=g.includeDefaultValues;g.includeDefaultValues=c;var w=g.toObject(a);return g.includeDefaultValues=b,w}),v=u.Object.prototype.toObject.call(this,a);return v.objects=m,v},toDatalessObject:function(a){var c,m=this.sourcePath;if(m)c=m;else{var v=this.includeDefaultValues;c=this._objects.map(function(b){var w=b.includeDefaultValues;b.includeDefaultValues=v;var x=b.toDatalessObject(a);return b.includeDefaultValues=w,x})}var g=u.Object.prototype.toDatalessObject.call(this,a);return g.objects=c,g},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache());if(this.ownCaching=a,a){for(var c=0,m=this._objects.length;c<m;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(this.shadow)return u.Object.prototype.willDrawShadow.call(this);for(var a=0,c=this._objects.length;a<c;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var c=0,m=this._objects.length;c<m;c++)this._objects[c].render(a);this._drawClipPath(a)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var c=0,m=this._objects.length;c<m;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var v=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-g/2,v,g)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(a){var c=a.calcTransformMatrix(),m=u.util.qrDecompose(c),v=new u.Point(m.translateX,m.translateY);return a.flipX=!1,a.flipY=!1,a.set("scaleX",m.scaleX),a.set("scaleY",m.scaleY),a.skewX=m.skewX,a.skewY=m.skewY,a.angle=m.angle,a.setPositionByOrigin(v,"center","center"),a},_restoreObjectState:function(a){return this.realizeTransform(a),a.setCoords(),delete a.group,this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var a=this._objects,c=this.canvas;this._objects=[];var m=this.toObject();delete m.objects;var v=new u.ActiveSelection([]);return v.set(m),v.type="activeSelection",c.remove(this),a.forEach(function(g){g.group=v,g.dirty=!0,c.add(g)}),v.canvas=c,v._objects=a,c._activeObject=v,v.setCoords(),v}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(a){a.setCoords(!0,!0)}),this},_calcBounds:function(a){for(var c,m,v,g=[],b=[],w=["tr","br","bl","tl"],x=0,R=this._objects.length,L=w.length;x<R;++x)for((c=this._objects[x]).setCoords(!0),v=0;v<L;v++)g.push(c.oCoords[m=w[v]].x),b.push(c.oCoords[m].y);this._getBounds(g,b,a)},_getBounds:function(a,c,m){var v=new u.Point(h(a),h(c)),g=new u.Point(l(a),l(c)),b=v.y||0,w=v.x||0,x=g.y-v.y||0;this.width=g.x-v.x||0,this.height=x,m||this.setPositionByOrigin({x:w,y:b},"left","top")},toSVG:function(a){for(var c=[],m=0,v=this._objects.length;m<v;m++)c.push("	",this._objects[m].toSVG(a));return this._createBaseSVGMarkup(c,{reviver:a,noStyle:!0,withShadow:!0})},toClipPathSVG:function(a){for(var c=[],m=0,v=this._objects.length;m<v;m++)c.push("	",this._objects[m].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(c,{reviver:a})}}),u.Group.fromObject=function(a,c){u.util.enlivenObjects(a.objects,function(m){u.util.enlivenObjects([a.clipPath],function(v){var g=u.util.object.clone(a,!0);g.clipPath=v[0],delete g.objects,c&&c(new u.Group(m,g,!0))})})})}(),function(p){"use strict";var u=q.fabric||(q.fabric={});u.ActiveSelection||(u.ActiveSelection=u.util.createClass(u.Group,{type:"activeSelection",initialize:function(h,l){l=l||{},this._objects=h||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;l.originX&&(this.originX=l.originX),l.originY&&(this.originY=l.originY),this._calcBounds(),this._updateObjectsCoords(),u.Object.prototype.initialize.call(this,l),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var l=u.Object.prototype.toObject.call(this),a=new u.Group([]);if(delete l.type,a.set(l),h.forEach(function(m){m.canvas.remove(m),m.group=a}),a._objects=h,!this.canvas)return a;var c=this.canvas;return c.add(a),c._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,l,a){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,l),(a=a||{}).hasControls===void 0&&(a.hasControls=!1),a.hasRotatingPoint===void 0&&(a.hasRotatingPoint=!1),a.forActiveSelection=!0;for(var c=0,m=this._objects.length;c<m;c++)this._objects[c]._renderControls(h,a);h.restore()}}),u.ActiveSelection.fromObject=function(h,l){u.util.enlivenObjects(h.objects,function(a){delete h.objects,l&&l(new u.ActiveSelection(a,h,!0))})})}(),function(p){"use strict";var u=C.util.object.extend;p.fabric||(p.fabric={}),p.fabric.Image?C.warn("fabric.Image is already defined."):(C.Image=C.util.createClass(C.Object,{type:"image",crossOrigin:"",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(h,l){l||(l={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",l),this._initElement(h,l)},getElement:function(){return this._element||{}},setElement:function(h,l){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(l),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var l=C.filterBackend;l&&l.evictCachesForKey&&l.evictCachesForKey(h)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){C.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},setCrossOrigin:function(h){return this.crossOrigin=h,this._element.crossOrigin=h,this},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(this.stroke&&this.strokeWidth!==0){var l=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-l,-a),h.lineTo(l,-a),h.lineTo(l,a),h.lineTo(-l,a),h.lineTo(-l,-a),h.closePath()}},_renderDashedStroke:function(h){var l=-this.width/2,a=-this.height/2,c=this.width,m=this.height;h.save(),this._setStrokeStyles(h,this),h.beginPath(),C.util.drawDashedLine(h,l,a,l+c,a,this.strokeDashArray),C.util.drawDashedLine(h,l+c,a,l+c,a+m,this.strokeDashArray),C.util.drawDashedLine(h,l+c,a+m,l,a+m,this.strokeDashArray),C.util.drawDashedLine(h,l,a+m,l,a,this.strokeDashArray),h.closePath(),h.restore()},toObject:function(h){var l=[];this.filters.forEach(function(c){c&&l.push(c.toObject())});var a=u(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(h)),{src:this.getSrc(),filters:l});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h,l=[],a=[],c=-this.width/2,m=-this.height/2,v="";if(this.hasCrop()){var g=C.Object.__uid++;l.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+c+'" y="'+m+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+g+')" '}if(a.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',c-this.cropX,'" y="',m-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,h=["	<rect ",'x="',c,'" y="',m,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?l.concat(h,a):l.concat(a,h)},getSrc:function(h){var l=h?this._element:this._originalElement;return l?l.toDataURL?l.toDataURL():l.src:this.src||""},setSrc:function(h,l,a){return C.util.loadImage(h,function(c){this.setElement(c,a),this._setWidthHeight(),l(this)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,l=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),c=a.scaleX,m=a.scaleY,v=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||c>l&&m>l)return this._element=v,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,void(this._lastScaleY=m);C.filterBackend||(C.filterBackend=C.initFilterBackend());var g=C.util.createCanvasElement(),b=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,w=v.width,x=v.height;g.width=w,g.height=x,this._element=g,this._lastScaleX=h.scaleX=c,this._lastScaleY=h.scaleY=m,C.filterBackend.applyFilters([h],v,w,x,this._element,b),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=(h=h||this.filters||[]).filter(function(v){return v&&!v.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var l=this._originalElement,a=l.naturalWidth||l.width,c=l.naturalHeight||l.height;if(this._element===this._originalElement){var m=C.util.createCanvasElement();m.width=a,m.height=c,this._element=m,this._filteredEl=m}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,c),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(h,this._originalElement,a,c,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},shouldCache:function(){return this.ownCaching=this.objectCaching&&this.needsItsOwnCache(),this.ownCaching},_renderFill:function(h){var l=this._element,a=this.width,c=this.height,m=Math.min(l.naturalWidth||l.width,a*this._filterScalingX),v=Math.min(l.naturalHeight||l.height,c*this._filterScalingY),g=-a/2,b=-c/2,w=Math.max(0,this.cropX*this._filterScalingX),x=Math.max(0,this.cropY*this._filterScalingY);l&&h.drawImage(l,w,x,m,v,g,b,a,c)},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,l){this.setElement(C.util.getById(h),l),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(h,l){h&&h.length?C.util.enlivenObjects(h,function(a){l&&l(a)},"fabric.Image.filters"):l&&l()},_setWidthHeight:function(h){h||(h={});var l=this.getElement();this.width=h.width||l.naturalWidth||l.width||0,this.height=h.height||l.naturalHeight||l.height||0},parsePreserveAspectRatioAttribute:function(){var h,l=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),a=this._element.width,c=this._element.height,m=1,v=1,g=0,b=0,w=0,x=0,R=this.width,L=this.height,H={width:R,height:L};return!l||l.alignX==="none"&&l.alignY==="none"?(m=R/a,v=L/c):(l.meetOrSlice==="meet"&&(h=(R-a*(m=v=C.util.findScaleToFit(this._element,H)))/2,l.alignX==="Min"&&(g=-h),l.alignX==="Max"&&(g=h),h=(L-c*v)/2,l.alignY==="Min"&&(b=-h),l.alignY==="Max"&&(b=h)),l.meetOrSlice==="slice"&&(h=a-R/(m=v=C.util.findScaleToCover(this._element,H)),l.alignX==="Mid"&&(w=h/2),l.alignX==="Max"&&(w=h),h=c-L/v,l.alignY==="Mid"&&(x=h/2),l.alignY==="Max"&&(x=h),a=R/m,c=L/v)),{width:a,height:c,scaleX:m,scaleY:v,offsetLeft:g,offsetTop:b,cropX:w,cropY:x}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(h,l){var a=C.util.object.clone(h);C.util.loadImage(a.src,function(c,m){m?l&&l(null,m):C.Image.prototype._initFilters.call(a,a.filters,function(v){a.filters=v||[],C.Image.prototype._initFilters.call(a,[a.resizeFilter],function(g){a.resizeFilter=g[0],C.util.enlivenObjects([a.clipPath],function(b){a.clipPath=b[0];var w=new C.Image(c,a);l(w)})})})},null,a.crossOrigin)},C.Image.fromURL=function(h,l,a){C.util.loadImage(h,function(c){l&&l(new C.Image(c,a))},null,a&&a.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),C.Image.fromElement=function(h,l,a){var c=C.parseAttributes(h,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(c["xlink:href"],l,u(a?C.util.object.clone(a):{},c))})}(q),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var p=this.angle%360;return p>0?90*Math.round((p-1)/90):90*Math.round(p/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(p){var u=function(){},h=(p=p||{}).onComplete||u,l=p.onChange||u,a=this;return C.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){a.rotate(c),l()},onComplete:function(){a.setCoords(),h()}}),this}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(p){return p.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(p){return p.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function p(h,l){var a="precision "+l+` float;
void main(){}`,c=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(c,a),h.compileShader(c),!!h.getShaderParameter(c,h.COMPILE_STATUS)}function u(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}C.isWebglSupported=function(h){if(C.isLikelyNode)return!1;h=h||C.WebglFilterBackend.prototype.tileSize;var l=document.createElement("canvas"),a=l.getContext("webgl")||l.getContext("experimental-webgl"),c=!1;if(a){C.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),c=C.maxTextureSize>=h;for(var m=["highp","mediump","lowp"],v=0;v<3;v++)if(p(a,m[v])){C.webGlPrecision=m[v];break}}return this.isSupported=c,c},C.WebglFilterBackend=u,u.prototype={tileSize:2048,resources:{},setupGLContext:function(h,l){this.dispose(),this.createWebGLCanvas(h,l),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,l)},chooseFastestCopyGLTo2DMethod:function(h,l){var a,c=window.performance!==void 0;try{new ImageData(1,1),a=!0}catch{a=!1}var m=typeof ArrayBuffer<"u",v=typeof Uint8ClampedArray<"u";if(c&&a&&m&&v){var g,b,w=C.util.createCanvasElement(),x=new ArrayBuffer(h*l*4),R={imageBuffer:x,destinationWidth:h,destinationHeight:l,targetCanvas:w};w.width=h,w.height=l,g=window.performance.now(),mt.call(R,this.gl,R),b=window.performance.now()-g,g=window.performance.now(),kt.call(R,this.gl,R),b>window.performance.now()-g?(this.imageBuffer=x,this.copyGLTo2D=kt):this.copyGLTo2D=mt}},createWebGLCanvas:function(h,l){var a=C.util.createCanvasElement();a.width=h,a.height=l;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},m=a.getContext("webgl",c);m||(m=a.getContext("experimental-webgl",c)),m&&(m.clearColor(0,0,0,0),this.canvas=a,this.gl=m)},applyFilters:function(h,l,a,c,m,v){var g,b=this.gl;v&&(g=this.getCachedTexture(v,l));var w={originalWidth:l.width||l.originalWidth,originalHeight:l.height||l.originalHeight,sourceWidth:a,sourceHeight:c,destinationWidth:a,destinationHeight:c,context:b,sourceTexture:this.createTexture(b,a,c,!g&&l),targetTexture:this.createTexture(b,a,c),originalTexture:g||this.createTexture(b,a,c,!g&&l),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:m},x=b.createFramebuffer();return b.bindFramebuffer(b.FRAMEBUFFER,x),h.forEach(function(R){R&&R.applyTo(w)}),function(R){var L=R.targetCanvas,H=R.destinationWidth,rt=R.destinationHeight;L.width===H&&L.height===rt||(L.width=H,L.height=rt)}(w),this.copyGLTo2D(b,w),b.bindTexture(b.TEXTURE_2D,null),b.deleteTexture(w.sourceTexture),b.deleteTexture(w.targetTexture),b.deleteFramebuffer(x),m.getContext("2d").setTransform(1,0,0,1,0,0),w},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,l,a,c){var m=h.createTexture();return h.bindTexture(h.TEXTURE_2D,m),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),c?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,c):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,l,a,0,h.RGBA,h.UNSIGNED_BYTE,null),m},getCachedTexture:function(h,l){if(this.textureCache[h])return this.textureCache[h];var a=this.createTexture(this.gl,l.width,l.height,l);return this.textureCache[h]=a,a},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:mt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,l={renderer:"",vendor:""};if(!h)return l;var a=h.getExtension("WEBGL_debug_renderer_info");if(a){var c=h.getParameter(a.UNMASKED_RENDERER_WEBGL),m=h.getParameter(a.UNMASKED_VENDOR_WEBGL);c&&(l.renderer=c.toLowerCase()),m&&(l.vendor=m.toLowerCase())}return this.gpuInfo=l,l}}}(),function(){"use strict";var p=function(){};function u(){}C.Canvas2dFilterBackend=u,u.prototype={evictCachesForKey:p,dispose:p,clearWebGLCaches:p,resources:{},applyFilters:function(h,l,a,c,m){var v=m.getContext("2d");v.drawImage(l,0,0,a,c);var g={sourceWidth:a,sourceHeight:c,imageData:v.getImageData(0,0,a,c),originalEl:l,originalImageData:v.getImageData(0,0,a,c),canvasEl:m,ctx:v,filterBackend:this};return h.forEach(function(b){b.applyTo(g)}),g.imageData.width===a&&g.imageData.height===c||(m.width=g.imageData.width,m.height=g.imageData.height),v.putImageData(g.imageData,0,0),g}}}(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(p){p&&this.setOptions(p)},setOptions:function(p){for(var u in p)this[u]=p[u]},createProgram:function(p,u,h){u=u||this.fragmentSource,h=h||this.vertexSource,C.webGlPrecision!=="highp"&&(u=u.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var l=p.createShader(p.VERTEX_SHADER);if(p.shaderSource(l,h),p.compileShader(l),!p.getShaderParameter(l,p.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+p.getShaderInfoLog(l));var a=p.createShader(p.FRAGMENT_SHADER);if(p.shaderSource(a,u),p.compileShader(a),!p.getShaderParameter(a,p.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+p.getShaderInfoLog(a));var c=p.createProgram();if(p.attachShader(c,l),p.attachShader(c,a),p.linkProgram(c),!p.getProgramParameter(c,p.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+p.getProgramInfoLog(c));var m=this.getAttributeLocations(p,c),v=this.getUniformLocations(p,c)||{};return v.uStepW=p.getUniformLocation(c,"uStepW"),v.uStepH=p.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:m,uniformLocations:v}},getAttributeLocations:function(p,u){return{aPosition:p.getAttribLocation(u,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(p,u,h){var l=u.aPosition,a=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,a),p.enableVertexAttribArray(l),p.vertexAttribPointer(l,2,p.FLOAT,!1,0,0),p.bufferData(p.ARRAY_BUFFER,h,p.STATIC_DRAW)},_setupFrameBuffer:function(p){var u,h,l=p.context;p.passes>1?(h=p.destinationHeight,p.sourceWidth===(u=p.destinationWidth)&&p.sourceHeight===h||(l.deleteTexture(p.targetTexture),p.targetTexture=p.filterBackend.createTexture(l,u,h)),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,p.targetTexture,0)):(l.bindFramebuffer(l.FRAMEBUFFER,null),l.finish())},_swapTextures:function(p){p.passes--,p.pass++;var u=p.targetTexture;p.targetTexture=p.sourceTexture,p.sourceTexture=u},isNeutralState:function(){var p=this.mainParameter,u=C.Image.filters[this.type].prototype;if(p){if(Array.isArray(u[p])){for(var h=u[p].length;h--;)if(this[p][h]!==u[p][h])return!1;return!0}return u[p]===this[p]}return!1},applyTo:function(p){p.webgl?(this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p)):this.applyTo2d(p)},retrieveShader:function(p){return p.programCache.hasOwnProperty(this.type)||(p.programCache[this.type]=this.createProgram(p.context)),p.programCache[this.type]},applyToWebGL:function(p){var u=p.context,h=this.retrieveShader(p);u.bindTexture(u.TEXTURE_2D,p.pass===0&&p.originalTexture?p.originalTexture:p.sourceTexture),u.useProgram(h.program),this.sendAttributeData(u,h.attributeLocations,p.aPosition),u.uniform1f(h.uniformLocations.uStepW,1/p.sourceWidth),u.uniform1f(h.uniformLocations.uStepH,1/p.sourceHeight),this.sendUniformData(u,h.uniformLocations),u.viewport(0,0,p.destinationWidth,p.destinationHeight),u.drawArrays(u.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(p,u,h){p.activeTexture(h),p.bindTexture(p.TEXTURE_2D,u),p.activeTexture(p.TEXTURE0)},unbindAdditionalTexture:function(p,u){p.activeTexture(u),p.bindTexture(p.TEXTURE_2D,null),p.activeTexture(p.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(p){this[this.mainParameter]=p},sendUniformData:function(){},createHelpLayer:function(p){if(!p.helpLayer){var u=document.createElement("canvas");u.width=p.sourceWidth,u.height=p.sourceHeight,p.helpLayer=u}},toObject:function(){var p={type:this.type},u=this.mainParameter;return u&&(p[u]=this[u]),p},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(p,u){var h=new C.Image.filters[p.type](p);return u&&u(h),h},function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.ColorMatrix=(0,u.util.createClass)(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var a,c,m,v,g,b=l.imageData.data,w=b.length,x=this.matrix,R=this.colorsOnly;for(g=0;g<w;g+=4)a=b[g],c=b[g+1],m=b[g+2],R?(b[g]=a*x[0]+c*x[1]+m*x[2]+255*x[4],b[g+1]=a*x[5]+c*x[6]+m*x[7]+255*x[9],b[g+2]=a*x[10]+c*x[11]+m*x[12]+255*x[14]):(b[g]=a*x[0]+c*x[1]+m*x[2]+(v=b[g+3])*x[3]+255*x[4],b[g+1]=a*x[5]+c*x[6]+m*x[7]+v*x[8]+255*x[9],b[g+2]=a*x[10]+c*x[11]+m*x[12]+v*x[13]+255*x[14],b[g+3]=a*x[15]+c*x[16]+m*x[17]+v*x[18]+255*x[19])},getUniformLocations:function(l,a){return{uColorMatrix:l.getUniformLocation(a,"uColorMatrix"),uConstants:l.getUniformLocation(a,"uConstants")}},sendUniformData:function(l,a){var c=this.matrix,m=[c[4],c[9],c[14],c[19]];l.uniformMatrix4fv(a.uColorMatrix,!1,[c[0],c[1],c[2],c[3],c[5],c[6],c[7],c[8],c[10],c[11],c[12],c[13],c[15],c[16],c[17],c[18]]),l.uniform4fv(a.uConstants,m)}}),u.Image.filters.ColorMatrix.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Brightness=(0,u.util.createClass)(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var a,c=l.imageData.data,m=c.length,v=Math.round(255*this.brightness);for(a=0;a<m;a+=4)c[a]=c[a]+v,c[a+1]=c[a+1]+v,c[a+2]=c[a+2]+v}},getUniformLocations:function(l,a){return{uBrightness:l.getUniformLocation(a,"uBrightness")}},sendUniformData:function(l,a){l.uniform1f(a.uBrightness,this.brightness)}}),u.Image.filters.Brightness.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.Image.filters;l.Convolute=(0,u.util.createClass)(l.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var c=Math.sqrt(this.matrix.length),m=this.type+"_"+c+"_"+(this.opaque?1:0),v=this.fragmentSource[m];return a.programCache.hasOwnProperty(m)||(a.programCache[m]=this.createProgram(a.context,v)),a.programCache[m]},applyTo2d:function(a){var c,m,v,g,b,w,x,R,L,H,rt,at,pt,bt=a.imageData,gt=bt.data,I=this.matrix,M=Math.round(Math.sqrt(I.length)),W=Math.floor(M/2),dt=bt.width,_t=bt.height,Et=a.ctx.createImageData(dt,_t),Ct=Et.data,Ot=this.opaque?1:0;for(rt=0;rt<_t;rt++)for(H=0;H<dt;H++){for(b=4*(rt*dt+H),c=0,m=0,v=0,g=0,pt=0;pt<M;pt++)for(at=0;at<M;at++)w=H+at-W,(x=rt+pt-W)<0||x>_t||w<0||w>dt||(c+=gt[R=4*(x*dt+w)]*(L=I[pt*M+at]),m+=gt[R+1]*L,v+=gt[R+2]*L,Ot||(g+=gt[R+3]*L));Ct[b]=c,Ct[b+1]=m,Ct[b+2]=v,Ct[b+3]=Ot?gt[b+3]:g}a.imageData=Et},getUniformLocations:function(a,c){return{uMatrix:a.getUniformLocation(c,"uMatrix"),uOpaque:a.getUniformLocation(c,"uOpaque"),uHalfSize:a.getUniformLocation(c,"uHalfSize"),uSize:a.getUniformLocation(c,"uSize")}},sendUniformData:function(a,c){a.uniform1fv(c.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),u.Image.filters.Convolute.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Grayscale=(0,u.util.createClass)(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var a,c,m=l.imageData.data,v=m.length,g=this.mode;for(a=0;a<v;a+=4)g==="average"?c=(m[a]+m[a+1]+m[a+2])/3:g==="lightness"?c=(Math.min(m[a],m[a+1],m[a+2])+Math.max(m[a],m[a+1],m[a+2]))/2:g==="luminosity"&&(c=.21*m[a]+.72*m[a+1]+.07*m[a+2]),m[a]=c,m[a+1]=c,m[a+2]=c},retrieveShader:function(l){var a=this.type+"_"+this.mode;return l.programCache.hasOwnProperty(a)||(l.programCache[a]=this.createProgram(l.context,this.fragmentSource[this.mode])),l.programCache[a]},getUniformLocations:function(l,a){return{uMode:l.getUniformLocation(a,"uMode")}},sendUniformData:function(l,a){l.uniform1i(a.uMode,1)},isNeutralState:function(){return!1}}),u.Image.filters.Grayscale.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Invert=(0,u.util.createClass)(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var a,c=l.imageData.data,m=c.length;for(a=0;a<m;a+=4)c[a]=255-c[a],c[a+1]=255-c[a+1],c[a+2]=255-c[a+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,a){return{uInvert:l.getUniformLocation(a,"uInvert")}},sendUniformData:function(l,a){l.uniform1i(a.uInvert,this.invert)}}),u.Image.filters.Invert.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.Image.filters;l.Noise=(0,u.util.createClass)(l.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var c,m,v,g=a.imageData.data,b=this.noise;for(c=0,m=g.length;c<m;c+=4)v=(.5-Math.random())*b,g[c]+=v,g[c+1]+=v,g[c+2]+=v}},getUniformLocations:function(a,c){return{uNoise:a.getUniformLocation(c,"uNoise"),uSeed:a.getUniformLocation(c,"uSeed")}},sendUniformData:function(a,c){a.uniform1f(c.uNoise,this.noise/255),a.uniform1f(c.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),u.Image.filters.Noise.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Pixelate=(0,u.util.createClass)(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var a,c,m,v,g,b,w,x,R,L,H,rt=l.imageData,at=rt.data,pt=rt.height,bt=rt.width;for(c=0;c<pt;c+=this.blocksize)for(m=0;m<bt;m+=this.blocksize)for(v=at[a=4*c*bt+4*m],g=at[a+1],b=at[a+2],w=at[a+3],L=Math.min(c+this.blocksize,pt),H=Math.min(m+this.blocksize,bt),x=c;x<L;x++)for(R=m;R<H;R++)at[a=4*x*bt+4*R]=v,at[a+1]=g,at[a+2]=b,at[a+3]=w},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,a){return{uBlocksize:l.getUniformLocation(a,"uBlocksize"),uStepW:l.getUniformLocation(a,"uStepW"),uStepH:l.getUniformLocation(a,"uStepH")}},sendUniformData:function(l,a){l.uniform1f(a.uBlocksize,this.blocksize)}}),u.Image.filters.Pixelate.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.extend,l=u.Image.filters;l.RemoveColor=(0,u.util.createClass)(l.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var c,m,v,g,b=a.imageData.data,w=255*this.distance,x=new u.Color(this.color).getSource(),R=[x[0]-w,x[1]-w,x[2]-w],L=[x[0]+w,x[1]+w,x[2]+w];for(c=0;c<b.length;c+=4)v=b[c+1],g=b[c+2],(m=b[c])>R[0]&&v>R[1]&&g>R[2]&&m<L[0]&&v<L[1]&&g<L[2]&&(b[c+3]=0)},getUniformLocations:function(a,c){return{uLow:a.getUniformLocation(c,"uLow"),uHigh:a.getUniformLocation(c,"uHigh")}},sendUniformData:function(a,c){var m=new u.Color(this.color).getSource(),v=parseFloat(this.distance),g=[m[0]/255+v,m[1]/255+v,m[2]/255+v,1];a.uniform4fv(c.uLow,[0+m[0]/255-v,0+m[1]/255-v,0+m[2]/255-v,1]),a.uniform4fv(c.uHigh,g)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),u.Image.filters.RemoveColor.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters,l=u.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in a)h[c]=l(h.ColorMatrix,{type:c,matrix:a[c],mainParameter:!1,colorsOnly:!0}),u.Image.filters[c].fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric,h=u.Image.filters;h.BlendColor=(0,u.util.createClass)(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var a,c=this.type+"_"+this.mode;return l.programCache.hasOwnProperty(c)||(a=this.buildSource(this.mode),l.programCache[c]=this.createProgram(l.context,a)),l.programCache[c]},applyTo2d:function(l){var a,c,m,v,g,b,w,x=l.imageData.data,R=x.length,L=1-this.alpha;a=(w=new u.Color(this.color).getSource())[0]*this.alpha,c=w[1]*this.alpha,m=w[2]*this.alpha;for(var H=0;H<R;H+=4)switch(v=x[H],g=x[H+1],b=x[H+2],this.mode){case"multiply":x[H]=v*a/255,x[H+1]=g*c/255,x[H+2]=b*m/255;break;case"screen":x[H]=255-(255-v)*(255-a)/255,x[H+1]=255-(255-g)*(255-c)/255,x[H+2]=255-(255-b)*(255-m)/255;break;case"add":x[H]=v+a,x[H+1]=g+c,x[H+2]=b+m;break;case"diff":case"difference":x[H]=Math.abs(v-a),x[H+1]=Math.abs(g-c),x[H+2]=Math.abs(b-m);break;case"subtract":x[H]=v-a,x[H+1]=g-c,x[H+2]=b-m;break;case"darken":x[H]=Math.min(v,a),x[H+1]=Math.min(g,c),x[H+2]=Math.min(b,m);break;case"lighten":x[H]=Math.max(v,a),x[H+1]=Math.max(g,c),x[H+2]=Math.max(b,m);break;case"overlay":x[H]=a<128?2*v*a/255:255-2*(255-v)*(255-a)/255,x[H+1]=c<128?2*g*c/255:255-2*(255-g)*(255-c)/255,x[H+2]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255;break;case"exclusion":x[H]=a+v-2*a*v/255,x[H+1]=c+g-2*c*g/255,x[H+2]=m+b-2*m*b/255;break;case"tint":x[H]=a+v*L,x[H+1]=c+g*L,x[H+2]=m+b*L}},getUniformLocations:function(l,a){return{uColor:l.getUniformLocation(a,"uColor")}},sendUniformData:function(l,a){var c=new u.Color(this.color).getSource();c[0]=this.alpha*c[0]/255,c[1]=this.alpha*c[1]/255,c[2]=this.alpha*c[2]/255,c[3]=this.alpha,l.uniform4fv(a.uColor,c)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),u.Image.filters.BlendColor.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric,h=u.Image.filters;h.BlendImage=(0,u.util.createClass)(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var a=this.type+"_"+this.mode,c=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(a)||(l.programCache[a]=this.createProgram(l.context,c)),l.programCache[a]},applyToWebGL:function(l){var a=l.context,c=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(a,c,a.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(l,a){return l.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var l=this.image;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/l._element.width,-l.top/l._element.height,1]},applyTo2d:function(l){var a,c,m,v,g,b,w,x,R,L,H,rt=l.imageData,at=l.filterBackend.resources,pt=rt.data,bt=pt.length,gt=rt.width,I=rt.height,M=this.image;at.blendImage||(at.blendImage=u.util.createCanvasElement()),L=(R=at.blendImage).getContext("2d"),R.width!==gt||R.height!==I?(R.width=gt,R.height=I):L.clearRect(0,0,gt,I),L.setTransform(M.scaleX,0,0,M.scaleY,M.left,M.top),L.drawImage(M._element,0,0,gt,I),H=L.getImageData(0,0,gt,I).data;for(var W=0;W<bt;W+=4)switch(g=pt[W],b=pt[W+1],w=pt[W+2],x=pt[W+3],a=H[W],c=H[W+1],m=H[W+2],v=H[W+3],this.mode){case"multiply":pt[W]=g*a/255,pt[W+1]=b*c/255,pt[W+2]=w*m/255,pt[W+3]=x*v/255;break;case"mask":pt[W+3]=v}},getUniformLocations:function(l,a){return{uTransformMatrix:l.getUniformLocation(a,"uTransformMatrix"),uImage:l.getUniformLocation(a,"uImage")}},sendUniformData:function(l,a){var c=this.calculateMatrix();l.uniform1i(a.uImage,1),l.uniformMatrix3fv(a.uTransformMatrix,!1,c)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),u.Image.filters.BlendImage.fromObject=function(l,a){u.Image.fromObject(l.image,function(c){var m=u.util.object.clone(l);m.image=c,a(new u.Image.filters.BlendImage(m))})}}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=Math.pow,l=Math.floor,a=Math.sqrt,c=Math.abs,m=Math.round,v=Math.sin,g=Math.ceil,b=u.Image.filters;b.Resize=(0,u.util.createClass)(b.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(w,x){return{uDelta:w.getUniformLocation(x,"uDelta"),uTaps:w.getUniformLocation(x,"uTaps")}},sendUniformData:function(w,x){w.uniform2fv(x.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),w.uniform1fv(x.uTaps,this.taps)},retrieveShader:function(w){var x=this.getFilterWindow(),R=this.type+"_"+x;if(!w.programCache.hasOwnProperty(R)){var L=this.generateShader(x);w.programCache[R]=this.createProgram(w.context,L)}return w.programCache[R]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var w=this.lanczosCreate(this.lanczosLobes),x=this.tempScale,R=this.getFilterWindow(),L=new Array(R),H=1;H<=R;H++)L[H-1]=w(H*x);return L},generateShader:function(w){for(var x=new Array(w),R=this.fragmentSourceTOP,L=1;L<=w;L++)x[L-1]=L+".0 * uDelta";return R+="uniform float uTaps["+w+`];
`,R+=`void main() {
`,R+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,R+=`  float sum = 1.0;
`,x.forEach(function(H,rt){R+="  color += texture2D(uTexture, vTexCoord + "+H+") * uTaps["+rt+`];
`,R+="  color += texture2D(uTexture, vTexCoord - "+H+") * uTaps["+rt+`];
`,R+="  sum += 2.0 * uTaps["+rt+`];
`}),R+=`  gl_FragColor = color / sum;
`,R+="}"},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(w){w.webgl?(w.passes++,this.width=w.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=w.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),w.destinationWidth=this.dW,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceWidth=w.destinationWidth,this.height=w.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),w.destinationHeight=this.dH,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceHeight=w.destinationHeight):this.applyTo2d(w)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(w){return function(x){if(x>=w||x<=-w)return 0;if(x<11920929e-14&&x>-11920929e-14)return 1;var R=(x*=Math.PI)/w;return v(x)/x*v(R)/R}},applyTo2d:function(w){var x=w.imageData,R=this.scaleX,L=this.scaleY;this.rcpScaleX=1/R,this.rcpScaleY=1/L;var H,rt=x.width,at=x.height,pt=m(rt*R),bt=m(at*L);this.resizeType==="sliceHack"?H=this.sliceByTwo(w,rt,at,pt,bt):this.resizeType==="hermite"?H=this.hermiteFastResize(w,rt,at,pt,bt):this.resizeType==="bilinear"?H=this.bilinearFiltering(w,rt,at,pt,bt):this.resizeType==="lanczos"&&(H=this.lanczosResize(w,rt,at,pt,bt)),w.imageData=H},sliceByTwo:function(w,x,R,L,H){var rt,at,pt=w.imageData,bt=!1,gt=!1,I=.5*x,M=.5*R,W=u.filterBackend.resources,dt=0,_t=0,Et=x,Ct=0;for(W.sliceByTwo||(W.sliceByTwo=document.createElement("canvas")),((rt=W.sliceByTwo).width<1.5*x||rt.height<R)&&(rt.width=1.5*x,rt.height=R),(at=rt.getContext("2d")).clearRect(0,0,1.5*x,R),at.putImageData(pt,0,0),L=l(L),H=l(H);!bt||!gt;)x=I,R=M,L<l(.5*I)?I=l(.5*I):(I=L,bt=!0),H<l(.5*M)?M=l(.5*M):(M=H,gt=!0),at.drawImage(rt,dt,_t,x,R,Et,Ct,I,M),dt=Et,_t=Ct,Ct+=M;return at.getImageData(dt,_t,L,H)},lanczosResize:function(w,x,R,L,H){var rt=w.imageData.data,at=w.ctx.createImageData(L,H),pt=at.data,bt=this.lanczosCreate(this.lanczosLobes),gt=this.rcpScaleX,I=this.rcpScaleY,M=2/this.rcpScaleX,W=2/this.rcpScaleY,dt=g(gt*this.lanczosLobes/2),_t=g(I*this.lanczosLobes/2),Et={},Ct={},Ot={};return function Xt(Ht){var Kt,It,Vt,zt,Jt,ut,ht,Ft,Mt,Ut,ae;for(Ct.x=(Ht+.5)*gt,Ot.x=l(Ct.x),Kt=0;Kt<H;Kt++){for(Ct.y=(Kt+.5)*I,Ot.y=l(Ct.y),Jt=0,ut=0,ht=0,Ft=0,Mt=0,It=Ot.x-dt;It<=Ot.x+dt;It++)if(!(It<0||It>=x)){Ut=l(1e3*c(It-Ct.x)),Et[Ut]||(Et[Ut]={});for(var se=Ot.y-_t;se<=Ot.y+_t;se++)se<0||se>=R||(ae=l(1e3*c(se-Ct.y)),Et[Ut][ae]||(Et[Ut][ae]=bt(a(h(Ut*M,2)+h(ae*W,2))/1e3)),(Vt=Et[Ut][ae])>0&&(Jt+=Vt,ut+=Vt*rt[zt=4*(se*x+It)],ht+=Vt*rt[zt+1],Ft+=Vt*rt[zt+2],Mt+=Vt*rt[zt+3]))}pt[zt=4*(Kt*L+Ht)]=ut/Jt,pt[zt+1]=ht/Jt,pt[zt+2]=Ft/Jt,pt[zt+3]=Mt/Jt}return++Ht<L?Xt(Ht):at}(0)},bilinearFiltering:function(w,x,R,L,H){var rt,at,pt,bt,gt,I,M,W,dt=0,_t=this.rcpScaleX,Et=this.rcpScaleY,Ct=4*(x-1),Ot=w.imageData.data,Xt=w.ctx.createImageData(L,H),Ht=Xt.data;for(pt=0;pt<H;pt++)for(bt=0;bt<L;bt++)for(gt=_t*bt-(rt=l(_t*bt)),I=Et*pt-(at=l(Et*pt)),W=4*(at*x+rt),M=0;M<4;M++)Ht[dt++]=Ot[W+M]*(1-gt)*(1-I)+Ot[W+4+M]*gt*(1-I)+Ot[W+Ct+M]*I*(1-gt)+Ot[W+Ct+4+M]*gt*I;return Xt},hermiteFastResize:function(w,x,R,L,H){for(var rt=this.rcpScaleX,at=this.rcpScaleY,pt=g(rt/2),bt=g(at/2),gt=w.imageData.data,I=w.ctx.createImageData(L,H),M=I.data,W=0;W<H;W++)for(var dt=0;dt<L;dt++){for(var _t=4*(dt+W*L),Et=0,Ct=0,Ot=0,Xt=0,Ht=0,Kt=0,It=0,Vt=(W+.5)*at,zt=l(W*at);zt<(W+1)*at;zt++)for(var Jt=c(Vt-(zt+.5))/bt,ut=(dt+.5)*rt,ht=Jt*Jt,Ft=l(dt*rt);Ft<(dt+1)*rt;Ft++){var Mt=c(ut-(Ft+.5))/pt,Ut=a(ht+Mt*Mt);Ut>1&&Ut<-1||(Et=2*Ut*Ut*Ut-3*Ut*Ut+1)>0&&(It+=Et*gt[3+(Mt=4*(Ft+zt*x))],Ot+=Et,gt[Mt+3]<255&&(Et=Et*gt[Mt+3]/250),Xt+=Et*gt[Mt],Ht+=Et*gt[Mt+1],Kt+=Et*gt[Mt+2],Ct+=Et)}M[_t]=Xt/Ct,M[_t+1]=Ht/Ct,M[_t+2]=Kt/Ct,M[_t+3]=It/Ot}return I},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),u.Image.filters.Resize.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Contrast=(0,u.util.createClass)(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var a,c=l.imageData.data,m=c.length,v=Math.floor(255*this.contrast),g=259*(v+255)/(255*(259-v));for(a=0;a<m;a+=4)c[a]=g*(c[a]-128)+128,c[a+1]=g*(c[a+1]-128)+128,c[a+2]=g*(c[a+2]-128)+128}},getUniformLocations:function(l,a){return{uContrast:l.getUniformLocation(a,"uContrast")}},sendUniformData:function(l,a){l.uniform1f(a.uContrast,this.contrast)}}),u.Image.filters.Contrast.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Saturation=(0,u.util.createClass)(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var a,c,m=l.imageData.data,v=m.length,g=-this.saturation;for(a=0;a<v;a+=4)c=Math.max(m[a],m[a+1],m[a+2]),m[a]+=c!==m[a]?(c-m[a])*g:0,m[a+1]+=c!==m[a+1]?(c-m[a+1])*g:0,m[a+2]+=c!==m[a+2]?(c-m[a+2])*g:0}},getUniformLocations:function(l,a){return{uSaturation:l.getUniformLocation(a,"uSaturation")}},sendUniformData:function(l,a){l.uniform1f(a.uSaturation,-this.saturation)}}),u.Image.filters.Saturation.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Blur=(0,u.util.createClass)(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var a,c,m=l.filterBackend.resources,v=l.imageData.width,g=l.imageData.height;m.blurLayer1||(m.blurLayer1=u.util.createCanvasElement(),m.blurLayer2=u.util.createCanvasElement()),c=m.blurLayer2,(a=m.blurLayer1).width===v&&a.height===g||(c.width=a.width=v,c.height=a.height=g);var b,w,x,R,L=a.getContext("2d"),H=c.getContext("2d"),rt=.06*this.blur*.5;for(L.putImageData(l.imageData,0,0),H.clearRect(0,0,v,g),R=-15;R<=15;R++)x=rt*(w=R/15)*v+(b=(Math.random()-.5)/4),H.globalAlpha=1-Math.abs(w),H.drawImage(a,x,b),L.drawImage(c,0,0),H.globalAlpha=1,H.clearRect(0,0,c.width,c.height);for(R=-15;R<=15;R++)x=rt*(w=R/15)*g+(b=(Math.random()-.5)/4),H.globalAlpha=1-Math.abs(w),H.drawImage(a,b,x),L.drawImage(c,0,0),H.globalAlpha=1,H.clearRect(0,0,c.width,c.height);l.ctx.drawImage(a,0,0);var at=l.ctx.getImageData(0,0,a.width,a.height);return L.globalAlpha=1,L.clearRect(0,0,a.width,a.height),at},getUniformLocations:function(l,a){return{delta:l.getUniformLocation(a,"uDelta")}},sendUniformData:function(l,a){var c=this.chooseRightDelta();l.uniform2fv(a.delta,c)},chooseRightDelta:function(){var l,a=1,c=[0,0];return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),l=a*this.blur*.12,this.horizontal?c[0]=l:c[1]=l,c}}),h.Blur.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Gamma=(0,u.util.createClass)(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var a,c=l.imageData.data,m=this.gamma,v=c.length,g=1/m[0],b=1/m[1],w=1/m[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),a=0,v=256;a<v;a++)this.rVals[a]=255*Math.pow(a/255,g),this.gVals[a]=255*Math.pow(a/255,b),this.bVals[a]=255*Math.pow(a/255,w);for(a=0,v=c.length;a<v;a+=4)c[a]=this.rVals[c[a]],c[a+1]=this.gVals[c[a+1]],c[a+2]=this.bVals[c[a+2]]},getUniformLocations:function(l,a){return{uGamma:l.getUniformLocation(a,"uGamma")}},sendUniformData:function(l,a){l.uniform3fv(a.uGamma,this.gamma)}}),u.Image.filters.Gamma.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.Composed=(0,u.util.createClass)(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(l)})},toObject:function(){return u.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),u.Image.filters.Composed.fromObject=function(l,a){var c=(l.subFilters||[]).map(function(v){return new u.Image.filters[v.type](v)}),m=new u.Image.filters.Composed({subFilters:c});return a&&a(m),m}}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.Image.filters;h.HueRotation=(0,u.util.createClass)(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,a=u.util.cos(l),c=u.util.sin(l),m=Math.sqrt(1/3)*c,v=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+v/3,this.matrix[1]=1/3*v-m,this.matrix[2]=1/3*v+m,this.matrix[5]=1/3*v+m,this.matrix[6]=a+1/3*v,this.matrix[7]=1/3*v-m,this.matrix[10]=1/3*v-m,this.matrix[11]=1/3*v+m,this.matrix[12]=a+1/3*v},isNeutralState:function(l){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,l)}}),u.Image.filters.HueRotation.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(p){"use strict";var u=q.fabric||(q.fabric={}),h=u.util.object.clone;u.Text?u.warn("fabric.Text is already defined"):(u.Text=u.util.createClass(u.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:u.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:u.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,a){this.styles=a&&a.styles||{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",a),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return u._measuringContext||(u._measuringContext=this.canvas&&this.canvas.contextCache||u.util.createCanvasElement().getContext("2d")),u._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,a,c,m,v,g,b=0,w=this._textLines.length;b<w;b++)if((this.textAlign==="justify"||b!==w-1&&!this.isEndOfWrapping(b))&&(c=0,m=this._textLines[b],(a=this.getLineWidth(b))<this.width&&(g=this.textLines[b].match(this._reSpacesAndTabs)))){l=(this.width-a)/g.length;for(var x=0,R=m.length;x<=R;x++)v=this.__charBounds[b][x],this._reSpaceAndTab.test(m[x])?(v.width+=l,v.kernedWidth+=l,v.left+=c,c+=l):v.left+=c}},isEndOfWrapping:function(l){return l===this._textLines.length-1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return l.width+=a*l.zoomX,l.height+=a*l.zoomY,l},_render:function(l){this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,a,c){l.textBaseline="alphabetic",l.font=this._getFontDeclaration(a,c)},calcTextWidth:function(){for(var l=this.getLineWidth(0),a=1,c=this._textLines.length;a<c;a++){var m=this.getLineWidth(a);m>l&&(l=m)}return l},_renderTextLine:function(l,a,c,m,v,g){this._renderChars(l,a,c,m,v,g)},_renderTextLinesBackground:function(l){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var a,c,m,v,g,b,w=0,x=l.fillStyle,R=this._getLeftOffset(),L=this._getTopOffset(),H=0,rt=0,at=0,pt=this._textLines.length;at<pt;at++)if(a=this.getHeightOfLine(at),this.textBackgroundColor||this.styleHas("textBackgroundColor",at)){m=this._textLines[at],c=this._getLineLeftOffset(at),rt=0,H=0,v=this.getValueOfPropertyAt(at,0,"textBackgroundColor");for(var bt=0,gt=m.length;bt<gt;bt++)g=this.__charBounds[at][bt],(b=this.getValueOfPropertyAt(at,bt,"textBackgroundColor"))!==v?(l.fillStyle=v,v&&l.fillRect(R+c+H,L+w,rt,a/this.lineHeight),H=g.left,rt=g.width,v=b):rt+=g.kernedWidth;b&&(l.fillStyle=b,l.fillRect(R+c+H,L+w,rt,a/this.lineHeight)),w+=a}else w+=a;l.fillStyle=x,this._removeShadow(l)}},getFontCache:function(l){var a=l.fontFamily.toLowerCase();u.charWidthsCache[a]||(u.charWidthsCache[a]={});var c=u.charWidthsCache[a],m=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return c[m]||(c[m]={}),c[m]},_applyCharStyles:function(l,a,c,m,v){this._setFillStyles(a,v),this._setStrokeStyles(a,v),a.font=this._getFontDeclaration(v)},_measureChar:function(l,a,c,m){var v,g,b,w,x=this.getFontCache(a),R=c+l,L=this._getFontDeclaration(a)===this._getFontDeclaration(m),H=a.fontSize/this.CACHE_FONT_SIZE;if(c&&x[c]!==void 0&&(b=x[c]),x[l]!==void 0&&(w=v=x[l]),L&&x[R]!==void 0&&(w=(g=x[R])-b),v===void 0||b===void 0||g===void 0){var rt=this.getMeasuringContext();this._setTextStyles(rt,a,!0)}return v===void 0&&(w=v=rt.measureText(l).width,x[l]=v),b===void 0&&L&&c&&(b=rt.measureText(c).width,x[c]=b),L&&g===void 0&&(g=rt.measureText(R).width,x[R]=g,w=g-b),{width:v*H,kernedWidth:w*H}},getHeightOfChar:function(l,a){return this.getValueOfPropertyAt(l,a,"fontSize")},measureLine:function(l){var a=this._measureLine(l);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(l){var a,c,m,v,g=0,b=this._textLines[l],w=new Array(b.length);for(this.__charBounds[l]=w,a=0;a<b.length;a++)v=this._getGraphemeBox(c=b[a],l,a,m),w[a]=v,g+=v.kernedWidth,m=c;return w[a]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:g,numOfSpaces:0}},_getGraphemeBox:function(l,a,c,m,v){var g,b=this.getCompleteStyleDeclaration(a,c),w=m?this.getCompleteStyleDeclaration(a,c-1):{},x=this._measureChar(l,b,m,w),R=x.kernedWidth,L=x.width;this.charSpacing!==0&&(L+=g=this._getWidthOfCharSpacing(),R+=g);var H={width:L,left:0,height:b.fontSize,kernedWidth:R,deltaY:b.deltaY};if(c>0&&!v){var rt=this.__charBounds[a][c-1];H.left=rt.left+rt.width+x.kernedWidth-x.width}return H},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var a=this._textLines[l],c=this.getHeightOfChar(l,0),m=1,v=a.length;m<v;m++)c=Math.max(this.getHeightOfChar(l,m),c);return this.__lineHeights[l]=c*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,a=0,c=0,m=this._textLines.length;c<m;c++)l=this.getHeightOfLine(c),a+=c===m-1?l/this.lineHeight:l;return a},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,a){l.save();for(var c=0,m=this._getLeftOffset(),v=this._getTopOffset(),g=this._applyPatternGradientTransform(l,a==="fillText"?this.fill:this.stroke),b=0,w=this._textLines.length;b<w;b++){var x=this.getHeightOfLine(b),R=x/this.lineHeight,L=this._getLineLeftOffset(b);this._renderTextLine(a,l,this._textLines[b],m+L-g.offsetX,v+c+R-g.offsetY,b),c+=x}l.restore()},_renderTextFill:function(l){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,a,c,m,v,g){var b,w,x,R,L=this.getHeightOfLine(g),H=this.textAlign.indexOf("justify")!==-1,rt="",at=0,pt=!H&&this.charSpacing===0&&this.isEmptyStyles(g);if(a.save(),v-=L*this._fontSizeFraction/this.lineHeight,pt)return this._renderChar(l,a,g,0,this.textLines[g],m,v,L),void a.restore();for(var bt=0,gt=c.length-1;bt<=gt;bt++)R=bt===gt||this.charSpacing,rt+=c[bt],x=this.__charBounds[g][bt],at===0?(m+=x.kernedWidth-x.width,at+=x.width):at+=x.kernedWidth,H&&!R&&this._reSpaceAndTab.test(c[bt])&&(R=!0),R||(b=b||this.getCompleteStyleDeclaration(g,bt),w=this.getCompleteStyleDeclaration(g,bt+1),R=this._hasStyleChanged(b,w)),R&&(this._renderChar(l,a,g,bt,rt,m,v,L),rt="",b=w,m+=at,at=0);a.restore()},_renderChar:function(l,a,c,m,v,g,b){var w=this._getStyleDeclaration(c,m),x=this.getCompleteStyleDeclaration(c,m),R=l==="fillText"&&x.fill,L=l==="strokeText"&&x.stroke&&x.strokeWidth;(L||R)&&(w&&a.save(),this._applyCharStyles(l,a,c,m,x),w&&w.textBackgroundColor&&this._removeShadow(a),w&&w.deltaY&&(b+=w.deltaY),R&&a.fillText(v,g,b),L&&a.strokeText(v,g,b),w&&a.restore())},setSuperscript:function(l,a){return this._setScript(l,a,this.superscript)},setSubscript:function(l,a){return this._setScript(l,a,this.subscript)},_setScript:function(l,a,c){var m=this.get2DCursorLocation(l,!0),v=this.getValueOfPropertyAt(m.lineIndex,m.charIndex,"fontSize"),g=this.getValueOfPropertyAt(m.lineIndex,m.charIndex,"deltaY");return this.setSelectionStyles({fontSize:v*c.size,deltaY:g+v*c.baseline},l,a),this},_hasStyleChanged:function(l,a){return l.fill!==a.fill||l.stroke!==a.stroke||l.strokeWidth!==a.strokeWidth||l.fontSize!==a.fontSize||l.fontFamily!==a.fontFamily||l.fontWeight!==a.fontWeight||l.fontStyle!==a.fontStyle||l.deltaY!==a.deltaY},_hasStyleChangedForSvg:function(l,a){return this._hasStyleChanged(l,a)||l.overline!==a.overline||l.underline!==a.underline||l.linethrough!==a.linethrough},_getLineLeftOffset:function(l){var a=this.getLineWidth(l);return this.textAlign==="center"?(this.width-a)/2:this.textAlign==="right"?this.width-a:this.textAlign==="justify-center"&&this.isEndOfWrapping(l)?(this.width-a)/2:this.textAlign==="justify-right"&&this.isEndOfWrapping(l)?this.width-a:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){return this.__lineWidths[l]?this.__lineWidths[l]:(a=this._textLines[l]===""?0:this.measureLine(l).width,this.__lineWidths[l]=a,a);var a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,a,c){var m=this._getStyleDeclaration(l,a);return m&&m[c]!==void 0?m[c]:this[c]},_renderTextDecoration:function(l,a){if(this[a]||this.styleHas(a)){for(var c,m,v,g,b,w,x,R,L,H,rt,at,pt,bt,gt,I,M=this._getLeftOffset(),W=this._getTopOffset(),dt=this._getWidthOfCharSpacing(),_t=0,Et=this._textLines.length;_t<Et;_t++)if(c=this.getHeightOfLine(_t),this[a]||this.styleHas(a,_t)){x=this._textLines[_t],bt=c/this.lineHeight,g=this._getLineLeftOffset(_t),H=0,rt=0,R=this.getValueOfPropertyAt(_t,0,a),I=this.getValueOfPropertyAt(_t,0,"fill"),L=W+bt*(1-this._fontSizeFraction),m=this.getHeightOfChar(_t,0),b=this.getValueOfPropertyAt(_t,0,"deltaY");for(var Ct=0,Ot=x.length;Ct<Ot;Ct++)at=this.__charBounds[_t][Ct],pt=this.getValueOfPropertyAt(_t,Ct,a),gt=this.getValueOfPropertyAt(_t,Ct,"fill"),v=this.getHeightOfChar(_t,Ct),w=this.getValueOfPropertyAt(_t,Ct,"deltaY"),(pt!==R||gt!==I||v!==m||w!==b)&&rt>0?(l.fillStyle=I,R&&I&&l.fillRect(M+g+H,L+this.offsets[a]*m+b,rt,this.fontSize/15),H=at.left,rt=at.width,R=pt,I=gt,m=v,b=w):rt+=at.kernedWidth;l.fillStyle=gt,pt&&gt&&l.fillRect(M+g+H,L+this.offsets[a]*m+b,rt-dt,this.fontSize/15),W+=c}else W+=c;this._removeShadow(l)}},_getFontDeclaration:function(l,a){var c=l||this,m=this.fontFamily,v=u.Text.genericFonts.indexOf(m.toLowerCase())>-1,g=m===void 0||m.indexOf("'")>-1||m.indexOf('"')>-1||v?c.fontFamily:'"'+c.fontFamily+'"';return[u.isLikelyNode?c.fontWeight:c.fontStyle,u.isLikelyNode?c.fontStyle:c.fontWeight,a?this.CACHE_FONT_SIZE+"px":c.fontSize+"px",g].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var a=l.split(this._reNewline),c=new Array(a.length),m=[`
`],v=[],g=0;g<a.length;g++)c[g]=u.util.string.graphemeSplit(a[g]),v=v.concat(c[g],m);return v.pop(),{_unwrappedLines:c,lines:a,graphemeText:v,graphemeLines:c}},toObject:function(l){var a=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(l),c=this.callSuper("toObject",a);return c.styles=h(this.styles,!0),c},set:function(l,a){this.callSuper("set",l,a);var c=!1;if(typeof l=="object")for(var m in l)c=c||this._dimensionAffectingProps.indexOf(m)!==-1;else c=this._dimensionAffectingProps.indexOf(l)!==-1;return c&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),u.Text.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),u.Text.DEFAULT_SVG_FONT_SIZE=16,u.Text.fromElement=function(l,a,c){if(!l)return a(null);var m=u.parseAttributes(l,u.Text.ATTRIBUTE_NAMES),v=m.textAnchor||"left";if((c=u.util.object.extend(c?h(c):{},m)).top=c.top||0,c.left=c.left||0,m.textDecoration){var g=m.textDecoration;g.indexOf("underline")!==-1&&(c.underline=!0),g.indexOf("overline")!==-1&&(c.overline=!0),g.indexOf("line-through")!==-1&&(c.linethrough=!0),delete c.textDecoration}"dx"in m&&(c.left+=m.dx),"dy"in m&&(c.top+=m.dy),"fontSize"in c||(c.fontSize=u.Text.DEFAULT_SVG_FONT_SIZE);var b="";"textContent"in l?b=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(b=l.firstChild.data),b=b.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var w=c.strokeWidth;c.strokeWidth=0;var x=new u.Text(b,c),R=x.getScaledHeight()/x.height,L=((x.height+x.strokeWidth)*x.lineHeight-x.height)*R,H=x.getScaledHeight()+L,rt=0;v==="center"&&(rt=x.getScaledWidth()/2),v==="right"&&(rt=x.getScaledWidth()),x.set({left:x.left-rt,top:x.top-(H-x.fontSize*(.07+x._fontSizeFraction))/x.lineHeight,strokeWidth:w!==void 0?w:1}),a(x)},u.Text.fromObject=function(l,a){return u.Object._fromObject("Text",l,a,"text")},u.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],u.util.createAccessors&&u.util.createAccessors(u.Text))}(),C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(p){if(!this.styles||p!==void 0&&!this.styles[p])return!0;var u=p===void 0?this.styles:{line:this.styles[p]};for(var h in u)for(var l in u[h])for(var a in u[h][l])return!1;return!0},styleHas:function(p,u){if(!this.styles||!p||p===""||u!==void 0&&!this.styles[u])return!1;var h=u===void 0?this.styles:{line:this.styles[u]};for(var l in h)for(var a in h[l])if(h[l][a][p]!==void 0)return!0;return!1},cleanStyle:function(p){if(!this.styles||!p||p==="")return!1;var u,h,l=this.styles,a=0,c=!0,m=0;for(var v in l){for(var g in u=0,l[v]){var b;a++,(b=l[v][g]).hasOwnProperty(p)?(h?b[p]!==h&&(c=!1):h=b[p],b[p]===this[p]&&delete b[p]):c=!1,Object.keys(b).length!==0?u++:delete l[v][g]}u===0&&delete l[v]}for(var w=0;w<this._textLines.length;w++)m+=this._textLines[w].length;c&&a===m&&(this[p]=h,this.removeStyle(p))},removeStyle:function(p){if(this.styles&&p&&p!==""){var u,h,l,a=this.styles;for(h in a){for(l in u=a[h])delete u[l][p],Object.keys(u[l]).length===0&&delete u[l];Object.keys(u).length===0&&delete a[h]}}},_extendStyles:function(p,u){var h=this.get2DCursorLocation(p);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex,{}),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),u)},get2DCursorLocation:function(p,u){p===void 0&&(p=this.selectionStart);for(var h=u?this._unwrappedTextLines:this._textLines,l=h.length,a=0;a<l;a++){if(p<=h[a].length)return{lineIndex:a,charIndex:p};p-=h[a].length+1}return{lineIndex:a-1,charIndex:h[a-1].length<p?h[a-1].length:p}},getSelectionStyles:function(p,u,h){p===void 0&&(p=this.selectionStart||0),u===void 0&&(u=this.selectionEnd||p);for(var l=[],a=p;a<u;a++)l.push(this.getStyleAtPosition(a,h));return l},getStyleAtPosition:function(p,u){var h=this.get2DCursorLocation(p);return(u?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex))||{}},setSelectionStyles:function(p,u,h){u===void 0&&(u=this.selectionStart||0),h===void 0&&(h=this.selectionEnd||u);for(var l=u;l<h;l++)this._extendStyles(l,p);return this._forceClearCache=!0,this},_getStyleDeclaration:function(p,u){var h=this.styles&&this.styles[p];return h?h[u]:null},getCompleteStyleDeclaration:function(p,u){for(var h,l=this._getStyleDeclaration(p,u)||{},a={},c=0;c<this._styleProperties.length;c++)a[h=this._styleProperties[c]]=l[h]===void 0?this[h]:l[h];return a},_setStyleDeclaration:function(p,u,h){this.styles[p][u]=h},_deleteStyleDeclaration:function(p,u){delete this.styles[p][u]},_getLineStyle:function(p){return this.styles[p]},_setLineStyle:function(p,u){this.styles[p]=u},_deleteLineStyle:function(p){delete this.styles[p]}}),function(){function p(u){u.textDecoration&&(u.textDecoration.indexOf("underline")>-1&&(u.underline=!0),u.textDecoration.indexOf("line-through")>-1&&(u.linethrough=!0),u.textDecoration.indexOf("overline")>-1&&(u.overline=!0),delete u.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(u,h){this.callSuper("initialize",u,h),this.initBehavior()},setSelectionStart:function(u){u=Math.max(u,0),this._updateAndFire("selectionStart",u)},setSelectionEnd:function(u){u=Math.min(u,this.text.length),this._updateAndFire("selectionEnd",u)},_updateAndFire:function(u,h){this[u]!==h&&(this._fireSelectionChanged(),this[u]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(u){this.clearContextTop(),this.callSuper("render",u),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(u){this.callSuper("_render",u)},clearContextTop:function(u){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var h=this.canvas.contextTop,l=this.canvas.viewportTransform;h.save(),h.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this.transform(h),this.transformMatrix&&h.transform.apply(h,this.transformMatrix),this._clearTextArea(h),u||h.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas){var u,h=this._getCursorBoundaries();this.canvas&&this.canvas.contextTop?(u=this.canvas.contextTop,this.clearContextTop(!0)):(u=this.canvas.contextContainer).save(),this.selectionStart===this.selectionEnd?this.renderCursor(h,u):this.renderSelection(h,u),u.restore()}},_clearTextArea:function(u){var h=this.width+4,l=this.height+4;u.clearRect(-h/2,-l/2,h,l)},_getCursorBoundaries:function(u){u===void 0&&(u=this.selectionStart);var h=this._getLeftOffset(),l=this._getTopOffset(),a=this._getCursorBoundariesOffsets(u);return{left:h,top:l,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(u){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,l,a,c=0,m=0,v=this.get2DCursorLocation(u);a=v.charIndex,l=v.lineIndex;for(var g=0;g<l;g++)c+=this.getHeightOfLine(g);h=this._getLineLeftOffset(l);var b=this.__charBounds[l][a];return b&&(m=b.left),this.charSpacing!==0&&a===this._textLines[l].length&&(m-=this._getWidthOfCharSpacing()),this.cursorOffsetCache={top:c,left:h+(m>0?m:0)},this.cursorOffsetCache},renderCursor:function(u,h){var l=this.get2DCursorLocation(),a=l.lineIndex,c=l.charIndex>0?l.charIndex-1:0,m=this.getValueOfPropertyAt(a,c,"fontSize"),v=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/v,b=u.topOffset,w=this.getValueOfPropertyAt(a,c,"deltaY");b+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-m*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(u,h),h.fillStyle=this.getValueOfPropertyAt(a,c,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(u.left+u.leftOffset-g/2,b+u.top+w,g,m)},renderSelection:function(u,h){for(var l=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,m=this.get2DCursorLocation(l),v=this.get2DCursorLocation(a),g=m.lineIndex,b=v.lineIndex,w=m.charIndex<0?0:m.charIndex,x=v.charIndex<0?0:v.charIndex,R=g;R<=b;R++){var L,H=this._getLineLeftOffset(R)||0,rt=this.getHeightOfLine(R),at=0,pt=0;if(R===g&&(at=this.__charBounds[g][w].left),R>=g&&R<b)pt=c&&!this.isEndOfWrapping(R)?this.width:this.getLineWidth(R)||5;else if(R===b)if(x===0)pt=this.__charBounds[b][x].left;else{var bt=this._getWidthOfCharSpacing();pt=this.__charBounds[b][x-1].left+this.__charBounds[b][x-1].width-bt}L=rt,(this.lineHeight<1||R===b&&this.lineHeight>1)&&(rt/=this.lineHeight),this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",h.fillRect(u.left+H+at,u.top+u.topOffset+rt,pt-at,1)):(h.fillStyle=this.selectionColor,h.fillRect(u.left+H+at,u.top+u.topOffset,pt-at,rt)),u.topOffset+=L}},getCurrentCharFontSize:function(){var u=this._getCurrentCharIndex();return this.getValueOfPropertyAt(u.l,u.c,"fontSize")},getCurrentCharColor:function(){var u=this._getCurrentCharIndex();return this.getValueOfPropertyAt(u.l,u.c,"fill")},_getCurrentCharIndex:function(){var u=this.get2DCursorLocation(this.selectionStart,!0);return{l:u.lineIndex,c:u.charIndex>0?u.charIndex-1:0}}}),C.IText.fromObject=function(u,h){if(p(u),u.styles)for(var l in u.styles)for(var a in u.styles[l])p(u.styles[l][a]);C.Object._fromObject("IText",u,h,"text")}}(),tt=C.util.object.clone,C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var p=this;this.on("added",function(){var u=p.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,p._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(p))})},initRemovedHandler:function(){var p=this;this.on("removed",function(){var u=p.canvas;u&&(u._iTextInstances=u._iTextInstances||[],C.util.removeFromArray(u._iTextInstances,p),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,p._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(p){p._mouseUpITextHandler=function(){p._iTextInstances&&p._iTextInstances.forEach(function(u){u.__isMousedown=!1})},p.on("mouse:up",p._mouseUpITextHandler)},_removeCanvasHandlers:function(p){p.off("mouse:up",p._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(p,u,h,l){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},p.animate("_currentCursorOpacity",u,{duration:h,onComplete:function(){a.isAborted||p[l]()},onChange:function(){p.canvas&&p.selectionStart===p.selectionEnd&&p.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var p=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){p._currentTickCompleteState=p._animateCursor(p,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(p){var u=this,h=p?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},h)},abortCursorAnimation:function(){var p=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,p&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(p){var u=0,h=p-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)u++,h--;for(;/\S/.test(this._text[h])&&h>-1;)u++,h--;return p-u},findWordBoundaryRight:function(p){var u=0,h=p;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)u++,h++;for(;/\S/.test(this._text[h])&&h<this.text.length;)u++,h++;return p+u},findLineBoundaryLeft:function(p){for(var u=0,h=p-1;!/\n/.test(this._text[h])&&h>-1;)u++,h--;return p-u},findLineBoundaryRight:function(p){for(var u=0,h=p;!/\n/.test(this._text[h])&&h<this.text.length;)u++,h++;return p+u},searchWordBoundary:function(p,u){for(var h=this._reSpace.test(this.text.charAt(p))?p-1:p,l=this.text.charAt(h),a=/[ \n\.,;!\?\-]/;!a.test(l)&&h>0&&h<this.text.length;)l=this.text.charAt(h+=u);return a.test(l)&&l!==`
`&&(h+=u===1?0:1),h},selectWord:function(p){var u=this.searchWordBoundary(p=p||this.selectionStart,-1),h=this.searchWordBoundary(p,1);this.selectionStart=u,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(p){var u=this.findLineBoundaryLeft(p=p||this.selectionStart),h=this.findLineBoundaryRight(p);return this.selectionStart=u,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(p){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(p),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(p){p._iTextInstances&&p._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(p){if(this.__isMousedown&&this.isEditing){var u=this.getSelectionStartFromPointer(p.e),h=this.selectionStart,l=this.selectionEnd;(u===this.__selectionStartOnMouseDown&&h!==l||h!==u&&l!==u)&&(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===h&&this.selectionEnd===l||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(p,u,h){var l=h.slice(0,p),a=C.util.string.graphemeSplit(l).length;if(p===u)return{selectionStart:a,selectionEnd:a};var c=h.slice(p,u);return{selectionStart:a,selectionEnd:a+C.util.string.graphemeSplit(c).length}},fromGraphemeToStringSelection:function(p,u,h){var l=h.slice(0,p).join("").length;return p===u?{selectionStart:l,selectionEnd:l}:{selectionStart:l,selectionEnd:l+h.slice(p,u).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var p=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=p.selectionStart,this.hiddenTextarea.selectionEnd=p.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=p.selectionEnd,this.inCompositionMode||(this.selectionStart=p.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var p=this._calcTextareaPosition();this.hiddenTextarea.style.left=p.left,this.hiddenTextarea.style.top=p.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var p=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(p),h=this.get2DCursorLocation(p),l=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"fontSize")*this.lineHeight,a=u.leftOffset,c=this.calcTransformMatrix(),m={x:u.left+a,y:u.top+u.topOffset+l},v=this.canvas.upperCanvasEl,g=v.width,b=v.height,w=g-l,x=b-l,R=v.clientWidth/g,L=v.clientHeight/b;return m=C.util.transformPoint(m,c),(m=C.util.transformPoint(m,this.canvas.viewportTransform)).x*=R,m.y*=L,m.x<0&&(m.x=0),m.x>w&&(m.x=w),m.y<0&&(m.y=0),m.y>x&&(m.y=x),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:l+"px",charHeight:l}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var p=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),p&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),p&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var p in this.styles)this._textLines[p]||delete this.styles[p]},removeStyleFromTo:function(p,u){var h,l,a=this.get2DCursorLocation(p,!0),c=this.get2DCursorLocation(u,!0),m=a.lineIndex,v=a.charIndex,g=c.lineIndex,b=c.charIndex;if(m!==g){if(this.styles[m])for(h=v;h<this._unwrappedTextLines[m].length;h++)delete this.styles[m][h];if(this.styles[g])for(h=b;h<this._unwrappedTextLines[g].length;h++)(l=this.styles[g][h])&&(this.styles[m]||(this.styles[m]={}),this.styles[m][v+h-b]=l);for(h=m+1;h<=g;h++)delete this.styles[h];this.shiftLineStyles(g,m-g)}else if(this.styles[m]){l=this.styles[m];var w,x,R=b-v;for(h=v;h<b;h++)delete l[h];for(x in this.styles[m])(w=parseInt(x,10))>=b&&(l[w-R]=l[x],delete l[x])}},shiftLineStyles:function(p,u){var h=tt(this.styles);for(var l in this.styles){var a=parseInt(l,10);a>p&&(this.styles[a+u]=h[a],h[a-u]||delete this.styles[a])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(p,u,h,l){var a,c={},m=!1;for(var v in h||(h=1),this.shiftLineStyles(p,h),this.styles[p]&&(a=this.styles[p][u===0?u:u-1]),this.styles[p]){var g=parseInt(v,10);g>=u&&(m=!0,c[g-u]=this.styles[p][v],delete this.styles[p][v])}for(m?this.styles[p+h]=c:delete this.styles[p+h];h>1;)h--,l&&l[h]?this.styles[p+h]={0:tt(l[h])}:a?this.styles[p+h]={0:tt(a)}:delete this.styles[p+h];this._forceClearCache=!0},insertCharStyleObject:function(p,u,h,l){this.styles||(this.styles={});var a=this.styles[p],c=a?tt(a):{};for(var m in h||(h=1),c){var v=parseInt(m,10);v>=u&&(a[v+h]=c[v],c[v-h]||delete a[v])}if(this._forceClearCache=!0,l)for(;h--;)Object.keys(l[h]).length&&(this.styles[p]||(this.styles[p]={}),this.styles[p][u+h]=tt(l[h]));else if(a)for(var g=a[u?u-1:1];g&&h--;)this.styles[p][u+h]=tt(g)},insertNewStyleBlock:function(p,u,h){for(var l=this.get2DCursorLocation(u,!0),a=[0],c=0,m=0;m<p.length;m++)p[m]===`
`?a[++c]=0:a[c]++;for(a[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,a[0],h),h=h&&h.slice(a[0]+1)),c&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+a[0],c),m=1;m<c;m++)a[m]>0?this.insertCharStyleObject(l.lineIndex+m,0,a[m],h):h&&(this.styles[l.lineIndex+m][0]=h[0]),h=h&&h.slice(a[m]+1);a[m]>0&&this.insertCharStyleObject(l.lineIndex+m,0,a[m],h)},setSelectionStartEndWithShift:function(p,u,h){h<=p?(u===p?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=p),this.selectionStart=h):h>p&&h<u?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(u===p?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=h)},setSelectionInBoundaries:function(){var p=this.text.length;this.selectionStart>p?this.selectionStart=p:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>p?this.selectionEnd=p:this.selectionEnd<0&&(this.selectionEnd=0)}}),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(p){if(this.canvas){this.__newClickTime=+new Date;var u=p.pointer;this.isTripleClick(u)&&(this.fire("tripleclick",p),this._stopEvent(p.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=u,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(p){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===p.x&&this.__lastPointer.y===p.y},_stopEvent:function(p){p.preventDefault&&p.preventDefault(),p.stopPropagation&&p.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",function(p){this.selectWord(this.getSelectionStartFromPointer(p.e))}),this.on("tripleclick",function(p){this.selectLine(this.getSelectionStartFromPointer(p.e))})},_mouseDownHandler:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(p.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||this===this.canvas._activeObject&&(this.selected=!0)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(p){if(this.__isMousedown=!1,!(!this.editable||this.group||p.transform&&p.transform.actionPerformed||p.e.button&&p.e.button!==1)){if(this.canvas){var u=this.canvas._activeObject;if(u&&u!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(p){var u=this.getSelectionStartFromPointer(p);p.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,u):(this.selectionStart=u,this.selectionEnd=u),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(p){for(var u=this.getLocalPointer(p),h=0,l=0,a=0,c=0,m=0,v=0,g=this._textLines.length;v<g&&a<=u.y;v++)a+=this.getHeightOfLine(v)*this.scaleY,m=v,v>0&&(c+=this._textLines[v-1].length+1);l=this._getLineLeftOffset(m)*this.scaleX;for(var b=0,w=this._textLines[m].length;b<w&&(h=l,(l+=this.__charBounds[m][b].kernedWidth*this.scaleX)<=u.x);b++)c++;return this._getNewSelectionStartFromOffset(u,h,l,c,w)},_getNewSelectionStartFromOffset:function(p,u,h,l,a){var c=h-p.x,m=l+(c>p.x-u||c<0?0:1);return this.flipX&&(m=a-m),m>this._text.length&&(m=this._text.length),m}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var p=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+p.top+"; left: "+p.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+p.fontSize+";",C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(p){if(this.isEditing&&!this.inCompositionMode){if(p.keyCode in this.keysMap)this[this.keysMap[p.keyCode]](p);else{if(!(p.keyCode in this.ctrlKeysMapDown&&(p.ctrlKey||p.metaKey)))return;this[this.ctrlKeysMapDown[p.keyCode]](p)}p.stopImmediatePropagation(),p.preventDefault(),p.keyCode>=33&&p.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(p){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:p.keyCode in this.ctrlKeysMapUp&&(p.ctrlKey||p.metaKey)&&(this[this.ctrlKeysMapUp[p.keyCode]](p),p.stopImmediatePropagation(),p.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(p){var u=this.fromPaste;if(this.fromPaste=!1,p&&p.stopPropagation(),this.isEditing){var h,l,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,m=a.length,v=m-c;if(this.hiddenTextarea.value==="")return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var g=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),b=this.selectionStart>g.selectionStart;this.selectionStart!==this.selectionEnd?(h=this._text.slice(this.selectionStart,this.selectionEnd),v+=this.selectionEnd-this.selectionStart):m<c&&(h=b?this._text.slice(this.selectionEnd+v,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-v)),l=a.slice(g.selectionEnd-v,g.selectionEnd),h&&h.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):b?this.removeStyleFromTo(this.selectionEnd-h.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+h.length)),l.length&&(u&&l.join("")===C.copiedText?this.insertNewStyleBlock(l,this.selectionStart,C.copiedTextStyle):this.insertNewStyleBlock(l,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(p){this.compositionStart=p.target.selectionStart,this.compositionEnd=p.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(p){return p&&p.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(p,u){var h,l=this._getLineLeftOffset(p);return u>0&&(l+=(h=this.__charBounds[p][u-1]).left+h.width),l},getDownCursorOffset:function(p,u){var h=this._getSelectionForOffset(p,u),l=this.get2DCursorLocation(h),a=l.lineIndex;if(a===this._textLines.length-1||p.metaKey||p.keyCode===34)return this._text.length-h;var c=l.charIndex,m=this._getWidthBeforeCursor(a,c),v=this._getIndexOnLine(a+1,m);return this._textLines[a].slice(c).length+v+2},_getSelectionForOffset:function(p,u){return p.shiftKey&&this.selectionStart!==this.selectionEnd&&u?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(p,u){var h=this._getSelectionForOffset(p,u),l=this.get2DCursorLocation(h),a=l.lineIndex;if(a===0||p.metaKey||p.keyCode===33)return-h;var c=l.charIndex,m=this._getWidthBeforeCursor(a,c),v=this._getIndexOnLine(a-1,m),g=this._textLines[a].slice(0,c);return-this._textLines[a-1].length+v-g.length},_getIndexOnLine:function(p,u){for(var h,l,a=this._textLines[p],c=this._getLineLeftOffset(p),m=0,v=0,g=a.length;v<g;v++)if((c+=h=this.__charBounds[p][v].width)>u){l=!0;var b=c,w=Math.abs(c-h-u);m=Math.abs(b-u)<w?v:v-1;break}return l||(m=a.length-1),m},moveCursorDown:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",p)},moveCursorUp:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",p)},_moveCursorUpOrDown:function(p,u){var h=this["get"+p+"CursorOffset"](u,this._selectionDirection==="right");u.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(p){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,this._selectionDirection==="left"?this.selectionStart+p:this.selectionEnd+p),p!==0},moveCursorWithoutShift:function(p){return p<0?(this.selectionStart+=p,this.selectionEnd=this.selectionStart):(this.selectionEnd+=p,this.selectionStart=this.selectionEnd),p!==0},moveCursorLeft:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",p)},_move:function(p,u,h){var l;if(p.altKey)l=this["findWordBoundary"+h](this[u]);else{if(!p.metaKey&&p.keyCode!==35&&p.keyCode!==36)return this[u]+=h==="Left"?-1:1,!0;l=this["findLineBoundary"+h](this[u])}if(typeof l!==void 0&&this[u]!==l)return this[u]=l,!0},_moveLeft:function(p,u){return this._move(p,u,"Left")},_moveRight:function(p,u){return this._move(p,u,"Right")},moveCursorLeftWithoutShift:function(p){var u=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(u=this._moveLeft(p,"selectionStart")),this.selectionEnd=this.selectionStart,u},moveCursorLeftWithShift:function(p){return this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd?this._moveLeft(p,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection="left",this._moveLeft(p,"selectionStart")):void 0},moveCursorRight:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",p)},_moveCursorLeftOrRight:function(p,u){var h="moveCursor"+p+"With";this._currentCursorOpacity=1,this[h+=u.shiftKey?"Shift":"outShift"](u)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(p){return this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd?this._moveRight(p,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(p,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(p){var u=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(u=this._moveRight(p,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,u},removeChars:function(p,u){u===void 0&&(u=p+1),this.removeStyleFromTo(p,u),this._text.splice(p,u-p),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(p,u,h,l){l===void 0&&(l=h),l>h&&this.removeStyleFromTo(h,l);var a=C.util.string.graphemeSplit(p);this.insertNewStyleBlock(a,h,u),this._text=[].concat(this._text.slice(0,h),a,this._text.slice(l)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),nt=C.util.toFixed,Z=/  +/g,C.util.object.extend(C.Text.prototype,{toSVG:function(p){var u=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(u.textTop,u.textLeft),l=this._wrapSVGTextAndBg(h);return this._createBaseSVGMarkup(l,{reviver:p,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(p){var u=this.getSvgTextDecoration(this);return[p.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",u?'text-decoration="'+u+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",p.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(p,u){var h,l=[],a=[],c=p;this._setSVGBg(a);for(var m=0,v=this._textLines.length;m<v;m++)h=this._getLineLeftOffset(m),(this.textBackgroundColor||this.styleHas("textBackgroundColor",m))&&this._setSVGTextLineBg(a,m,u+h,c),this._setSVGTextLineText(l,m,u+h,c),c+=this.getHeightOfLine(m);return{textSpans:l,textBgRects:a}},_createTextCharSpan:function(p,u,h,l){var a=p!==p.trim()||p.match(Z),c=this.getSvgSpanStyles(u,a),m=c?'style="'+c+'"':"",v=u.deltaY,g="",b=C.Object.NUM_FRACTION_DIGITS;return v&&(g=' dy="'+nt(v,b)+'" '),['<tspan x="',nt(h,b),'" y="',nt(l,b),'" ',g,m,">",C.util.string.escapeXml(p),"</tspan>"].join("")},_setSVGTextLineText:function(p,u,h,l){var a,c,m,v,g,b=this.getHeightOfLine(u),w=this.textAlign.indexOf("justify")!==-1,x="",R=0,L=this._textLines[u];l+=b*(1-this._fontSizeFraction)/this.lineHeight;for(var H=0,rt=L.length-1;H<=rt;H++)g=H===rt||this.charSpacing,x+=L[H],m=this.__charBounds[u][H],R===0?(h+=m.kernedWidth-m.width,R+=m.width):R+=m.kernedWidth,w&&!g&&this._reSpaceAndTab.test(L[H])&&(g=!0),g||(a=a||this.getCompleteStyleDeclaration(u,H),c=this.getCompleteStyleDeclaration(u,H+1),g=this._hasStyleChangedForSvg(a,c)),g&&(v=this._getStyleDeclaration(u,H)||{},p.push(this._createTextCharSpan(x,v,h,l)),x="",a=c,h+=R,R=0)},_pushTextBgRect:function(p,u,h,l,a,c){var m=C.Object.NUM_FRACTION_DIGITS;p.push("		<rect ",this._getFillAttributes(u),' x="',nt(h,m),'" y="',nt(l,m),'" width="',nt(a,m),'" height="',nt(c,m),`"></rect>
`)},_setSVGTextLineBg:function(p,u,h,l){for(var a,c,m=this._textLines[u],v=this.getHeightOfLine(u)/this.lineHeight,g=0,b=0,w=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),x=0,R=m.length;x<R;x++)a=this.__charBounds[u][x],(c=this.getValueOfPropertyAt(u,x,"textBackgroundColor"))!==w?(w&&this._pushTextBgRect(p,w,h+b,l,g,v),b=a.left,g=a.width,w=c):g+=a.kernedWidth;c&&this._pushTextBgRect(p,c,h+b,l,g,v)},_getFillAttributes:function(p){var u=p&&typeof p=="string"?new C.Color(p):"";return u&&u.getSource()&&u.getAlpha()!==1?'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"':'fill="'+p+'"'},_getSVGLineTopOffset:function(p){for(var u,h=0,l=0;l<p;l++)h+=this.getHeightOfLine(l);return u=this.getHeightOfLine(l),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*u/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(p){return C.Object.prototype.getSvgStyles.call(this,p)+" white-space: pre;"}}),function(p){"use strict";var u=q.fabric||(q.fabric={});u.Textbox=u.util.createClass(u.IText,u.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:u.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r\u200B\u200C]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var l=0,a=0,c=0,m={},v=0;v<h.graphemeLines.length;v++)h.graphemeText[c]===`
`&&v>0?(a=0,c++,l++):this._reSpaceAndTab.test(h.graphemeText[c])&&v>0&&(a++,c++),m[v]={line:l,offset:a},c+=h.graphemeLines[v].length,a+=h.graphemeLines[v].length;return m},styleHas:function(h,l){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[l];a&&(l=a.line)}return u.Text.prototype.styleHas.call(this,h,l)},isEmptyStyles:function(h){var l,a,c=0,m=!1,v=this._styleMap[h],g=this._styleMap[h+1];for(var b in v&&(h=v.line,c=v.offset),g&&(m=g.line===h,l=g.offset),a=h===void 0?this.styles:{line:this.styles[h]})for(var w in a[b])if(w>=c&&(!m||w<l))for(var x in a[b][w])return!1;return!0},_getStyleDeclaration:function(h,l){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[h];if(!a)return null;h=a.line,l=a.offset+l}return this.callSuper("_getStyleDeclaration",h,l)},_setStyleDeclaration:function(h,l,a){var c=this._styleMap[h];this.styles[h=c.line][l=c.offset+l]=a},_deleteStyleDeclaration:function(h,l){var a=this._styleMap[h];delete this.styles[h=a.line][l=a.offset+l]},_getLineStyle:function(h){return this.styles[this._styleMap[h].line]},_setLineStyle:function(h,l){this.styles[this._styleMap[h].line]=l},_deleteLineStyle:function(h){delete this.styles[this._styleMap[h].line]},_wrapText:function(h,l){var a,c=[];for(this.isWrapping=!0,a=0;a<h.length;a++)c=c.concat(this._wrapLine(h[a],a,l));return this.isWrapping=!1,c},_measureWord:function(h,l,a){var c,m=0;a=a||0;for(var v=0,g=h.length;v<g;v++)m+=this._getGraphemeBox(h[v],l,v+a,c,!0).kernedWidth,c=h[v];return m},_wrapLine:function(h,l,a,c){var m=0,v=this.splitByGrapheme,g=[],b=[],w=v?u.util.string.graphemeSplit(h):h.split(this._wordJoiners),x="",R=0,L=v?"":" ",H=0,rt=0,at=0,pt=!0,bt=v?0:this._getWidthOfCharSpacing();a-=c=c||0;for(var gt=0;gt<w.length;gt++)x=u.util.string.graphemeSplit(w[gt]),H=this._measureWord(x,l,R),R+=x.length,(m+=rt+H-bt)>=a&&!pt?(g.push(b),b=[],m=H,pt=!0):m+=bt,pt||b.push(L),b=b.concat(x),rt=this._measureWord([L],l,R),R++,pt=!1,H>at&&(at=H);return gt&&g.push(b),at+c>this.dynamicMinWidth&&(this.dynamicMinWidth=at-bt+c),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},_splitTextIntoLines:function(h){for(var l=u.Text.prototype._splitTextIntoLines.call(this,h),a=this._wrapText(l.lines,this.width),c=new Array(a.length),m=0;m<a.length;m++)c[m]=a[m].join("");return l.lines=c,l.graphemeLines=a,l},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),u.Textbox.fromObject=function(h,l){return u.Object._fromObject("Textbox",h,l,"text")}}(),ot=C.Canvas.prototype._setObjectScale,C.Canvas.prototype._setObjectScale=function(p,u,h,l,a,c,m){var v,g=u.target,b=p.x*g.scaleX/m.x,w=p.y*g.scaleY/m.y;if(!(a==="x"&&g instanceof C.Textbox))return ot.call(C.Canvas.prototype,p,u,h,l,a,c,m);var x=g._getTransformedDimensions().x,R=g.width*(p.x/x);return u.newScaleX=b,u.newScaleY=w,R>=g.getMinWidth()?(v=R!==g.width,g.set("width",R),v):void 0},C.util.object.extend(C.Textbox.prototype,{_removeExtraneousStyles:function(){for(var p in this._styleMap)this._textLines[p]||delete this.styles[this._styleMap[p].line]}})},hLX6:function(V,q,y){"use strict";function O(B,Q){var it,Y;if(typeof Q=="function")(Y=Q(B))!==void 0&&(B=Y);else if(Array.isArray(Q))for(it=0;it<Q.length;it++)(Y=Q[it](B))!==void 0&&(B=Y);return B}function k(B,Q){return B[0]==="-"&&Array.isArray(Q)&&/^-\d+$/.test(B)?Q.length+parseInt(B,10):B}function j(B){return Object.prototype.toString.call(B)==="[object Object]"}function A(B){return Object(B)===B}function E(B){return Object.keys(B).length===0}function X(B,Q){return B.indexOf("[")>=0&&(B=B.replace(/\[/g,".").replace(/]/g,"")),B.split(Q)}function z(B,Q,it){if(!(this instanceof z))return new z(B,Q,it);Q===void 0&&(Q=!1),it===void 0&&(it=!0),this.separator=B||".",this.override=Q,this.useArray=it,this.keepArray=!1,this.cleanup=[]}var N=new z(".",!1,!0);function G(B){return function(){return N[B].apply(N,arguments)}}z.prototype._fill=function(B,Q,it,Y){var tt=B.shift();if(B.length>0){if(Q[tt]=Q[tt]||(this.useArray&&/^\d+$/.test(B[0])?[]:{}),!A(Q[tt])){if(!this.override){if(!A(it)||!E(it))throw new Error("Trying to redefine `"+tt+"` which is a "+typeof Q[tt]);return}Q[tt]={}}this._fill(B,Q[tt],it,Y)}else{if(!this.override&&A(Q[tt])&&!E(Q[tt])){if(!A(it)||!E(it))throw new Error("Trying to redefine non-empty obj['"+tt+"']");return}Q[tt]=O(it,Y)}},z.prototype.object=function(B,Q){var it=this;return Object.keys(B).forEach(function(Y){var tt=Q===void 0?null:Q[Y],nt=X(Y,it.separator).join(it.separator);nt.indexOf(it.separator)!==-1?(it._fill(nt.split(it.separator),B,B[Y],tt),delete B[Y]):it.override&&(B[Y]=O(B[Y],tt))}),B},z.prototype.str=function(B,Q,it,Y){return B.indexOf(this.separator)!==-1?this._fill(B.split(this.separator),it,Q,Y):it.hasOwnProperty(B)&&!this.override||(it[B]=O(Q,Y)),it},z.prototype.pick=function(B,Q,it){var Y,tt,nt,Z,ot;for(tt=X(B,this.separator),Y=0;Y<tt.length;Y++){if(Z=k(tt[Y],Q),!(Q&&typeof Q=="object"&&Z in Q))return;if(Y===tt.length-1)return it?(nt=Q[Z],delete Q[Z],Array.isArray(Q)&&(ot=tt.slice(0,-1).join("."),this.cleanup.indexOf(ot)===-1&&this.cleanup.push(ot)),nt):Q[Z];Q=Q[Z]}return it&&Array.isArray(Q)&&(Q=Q.filter(function(et){return et!==void 0})),Q},z.prototype.remove=function(B,Q){var it;if(this.cleanup=[],Array.isArray(B)){for(it=0;it<B.length;it++)this.pick(B[it],Q,!0);return this._cleanup(Q),Q}return this.pick(B,Q,!0)},z.prototype._cleanup=function(B){var Q,it,Y,tt;if(this.cleanup.length){for(it=0;it<this.cleanup.length;it++)Q=(Q=(tt=(Y=this.cleanup[it].split(".")).splice(0,-1).join("."))?this.pick(tt,B):B)[Y[0]].filter(function(nt){return nt!==void 0}),this.set(this.cleanup[it],Q,B);this.cleanup=[]}},z.prototype.del=z.prototype.remove,z.prototype.move=function(B,Q,it,Y,tt){return typeof Y=="function"||Array.isArray(Y)?this.set(Q,O(this.pick(B,it,!0),Y),it,tt):(tt=Y,this.set(Q,this.pick(B,it,!0),it,tt)),it},z.prototype.transfer=function(B,Q,it,Y,tt,nt){return typeof tt=="function"||Array.isArray(tt)?this.set(Q,O(this.pick(B,it,!0),tt),Y,nt):(nt=tt,this.set(Q,this.pick(B,it,!0),Y,nt)),Y},z.prototype.copy=function(B,Q,it,Y,tt,nt){return typeof tt=="function"||Array.isArray(tt)?this.set(Q,O(JSON.parse(JSON.stringify(this.pick(B,it,!1))),tt),Y,nt):(nt=tt,this.set(Q,this.pick(B,it,!1),Y,nt)),Y},z.prototype.set=function(B,Q,it,Y){var tt,nt,Z,ot;if(Q===void 0)return it;for(Z=X(B,this.separator),tt=0;tt<Z.length;tt++){if(ot=Z[tt],tt===Z.length-1)if(Y&&j(Q)&&j(it[ot]))for(nt in Q)Q.hasOwnProperty(nt)&&(it[ot][nt]=Q[nt]);else if(Y&&Array.isArray(it[ot])&&Array.isArray(Q))for(var et=0;et<Q.length;et++)it[Z[tt]].push(Q[et]);else it[ot]=Q;else it.hasOwnProperty(ot)&&(j(it[ot])||Array.isArray(it[ot]))||(it[ot]=/^\d+$/.test(Z[tt+1])?[]:{});it=it[ot]}return it},z.prototype.transform=function(B,Q,it){return Q=Q||{},it=it||{},Object.keys(B).forEach((function(Y){this.set(B[Y],this.pick(Y,Q),it)}).bind(this)),it},z.prototype.dot=function(B,Q,it){return Q=Q||{},it=it||[],Object.keys(B).forEach((function(Y){if(A(B[Y])&&(j(B[Y])&&!E(B[Y])||Array.isArray(B[Y])&&!this.keepArray&&B[Y].length!==0))return this.dot(B[Y],Q,it.concat(Y));Q[it.concat(Y).join(this.separator)]=B[Y]}).bind(this)),Q},z.pick=G("pick"),z.move=G("move"),z.transfer=G("transfer"),z.transform=G("transform"),z.copy=G("copy"),z.object=G("object"),z.str=G("str"),z.set=G("set"),z.del=z.remove=G("remove"),z.dot=G("dot"),["override","overwrite"].forEach(function(B){Object.defineProperty(z,B,{get:function(){return N.override},set:function(Q){N.override=!!Q}})}),["useArray","keepArray"].forEach(function(B){Object.defineProperty(z,B,{get:function(){return N[B]},set:function(Q){N[B]=Q}})}),z._process=O,V.exports=z},jT1Q:function(V,q,y){var O=y("4af/"),k=y("BjAV"),j=y("2yAJ"),A=y("v9aN"),E=y("vYjF"),X=E.isErrorEvent,z=E.isDOMError,N=E.isDOMException,G=E.isError,B=E.isObject,Q=E.isPlainObject,it=E.isUndefined,Y=E.isFunction,tt=E.isString,nt=E.isArray,Z=E.isEmptyObject,ot=E.each,et=E.objectMerge,ft=E.truncate,$=E.objectFrozen,C=E.hasKey,mt=E.joinRegExp,kt=E.urlencode,p=E.uuid4,u=E.htmlTreeAsString,h=E.isSameException,l=E.isSameStacktrace,a=E.parseUrl,c=E.fill,m=E.supportsFetch,v=E.supportsReferrerPolicy,g=E.serializeKeysForMessage,b=E.serializeException,w=E.sanitize,x=y("AKyF").wrapMethod,R="source protocol user pass host port path".split(" "),L=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function H(){return+new Date}var rt=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},at=rt.document,pt=rt.navigator;function bt(I,M){return Y(M)?function(W){return M(W,I)}:M}function gt(){for(var I in this._hasJSON=!(typeof JSON!="object"||!JSON.stringify),this._hasDocument=!it(at),this._hasNavigator=!it(pt),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:rt.SENTRY_RELEASE&&rt.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:v()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=rt.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=H(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._location=rt.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[I]=this._originalConsole[I]}(gt.prototype={VERSION:"3.27.0",debug:!1,TraceKit:O,config:function(I,M){var W=this;if(W._globalServer)return this._logDebug("error","Error: Raven has already been configured"),W;if(!I)return W;var dt=W._globalOptions;M&&ot(M,function(Xt,Ht){Xt==="tags"||Xt==="extra"||Xt==="user"?W._globalContext[Xt]=Ht:dt[Xt]=Ht}),W.setDSN(I),dt.ignoreErrors.push(/^Script error\.?$/),dt.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),dt.ignoreErrors=mt(dt.ignoreErrors),dt.ignoreUrls=!!dt.ignoreUrls.length&&mt(dt.ignoreUrls),dt.whitelistUrls=!!dt.whitelistUrls.length&&mt(dt.whitelistUrls),dt.includePaths=mt(dt.includePaths),dt.maxBreadcrumbs=Math.max(0,Math.min(dt.maxBreadcrumbs||100,100));var _t={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},Et=dt.autoBreadcrumbs;({}).toString.call(Et)==="[object Object]"?Et=et(_t,Et):Et!==!1&&(Et=_t),dt.autoBreadcrumbs=Et;var Ct={tryCatch:!0},Ot=dt.instrument;return{}.toString.call(Ot)==="[object Object]"?Ot=et(Ct,Ot):Ot!==!1&&(Ot=Ct),dt.instrument=Ot,O.collectWindowErrors=!!dt.collectWindowErrors,W},install:function(){var I=this;return I.isSetup()&&!I._isRavenInstalled&&(O.report.subscribe(function(){I._handleOnErrorStackInfo.apply(I,arguments)}),I._globalOptions.captureUnhandledRejections&&I._attachPromiseRejectionHandler(),I._patchFunctionToString(),I._globalOptions.instrument&&I._globalOptions.instrument.tryCatch&&I._instrumentTryCatch(),I._globalOptions.autoBreadcrumbs&&I._instrumentBreadcrumbs(),I._drainPlugins(),I._isRavenInstalled=!0),Error.stackTraceLimit=I._globalOptions.stackTraceLimit,this},setDSN:function(I){var M=this._parseDSN(I),W=M.path.lastIndexOf("/"),dt=M.path.substr(1,W);this._dsn=I,this._globalKey=M.user,this._globalSecret=M.pass&&M.pass.substr(1),this._globalProject=M.path.substr(W+1),this._globalServer=this._getGlobalServer(M),this._globalEndpoint=this._globalServer+"/"+dt+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(I,M,W){return Y(I)&&(W=M||[],M=I,I={}),this.wrap(I,M).apply(this,W)},wrap:function(I,M,W){var dt=this;if(it(M)&&!Y(I))return I;if(Y(I)&&(M=I,I=void 0),!Y(M))return M;try{if(M.__raven__)return M;if(M.__raven_wrapper__)return M.__raven_wrapper__}catch{return M}function _t(){var Ct=[],Ot=arguments.length,Xt=!I||I&&I.deep!==!1;for(W&&Y(W)&&W.apply(this,arguments);Ot--;)Ct[Ot]=Xt?dt.wrap(I,arguments[Ot]):arguments[Ot];try{return M.apply(this,Ct)}catch(Ht){throw dt._ignoreNextOnError(),dt.captureException(Ht,I),Ht}}for(var Et in M)C(M,Et)&&(_t[Et]=M[Et]);return _t.prototype=M.prototype,M.__raven_wrapper__=_t,_t.__raven__=!0,_t.__orig__=M,_t},uninstall:function(){return O.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(I){this._logDebug("debug","Raven caught unhandled promise rejection:",I),this.captureException(I.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),rt.addEventListener&&rt.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return rt.removeEventListener&&rt.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(I,M){if(M=et({trimHeadFrames:0},M||{}),X(I)&&I.error)I=I.error;else{if(z(I)||N(I)){var W=I.name||(z(I)?"DOMError":"DOMException");return this.captureMessage(I.message?W+": "+I.message:W,et(M,{stacktrace:!0,trimHeadFrames:M.trimHeadFrames+1}))}if(G(I))I=I;else{if(!Q(I))return this.captureMessage(I,et(M,{stacktrace:!0,trimHeadFrames:M.trimHeadFrames+1}));M=this._getCaptureExceptionOptionsFromPlainObject(M,I),I=new Error(M.message)}}this._lastCapturedException=I;try{var dt=O.computeStackTrace(I);this._handleStackInfo(dt,M)}catch(_t){if(I!==_t)throw _t}return this},_getCaptureExceptionOptionsFromPlainObject:function(I,M){var W=Object.keys(M).sort(),dt=et(I,{message:"Non-Error exception captured with keys: "+g(W),fingerprint:[j(W)],extra:I.extra||{}});return dt.extra.__serialized__=b(M),dt},captureMessage:function(I,M){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(I)){var W,dt=et({message:I+=""},M=M||{});try{throw new Error(I)}catch(Xt){W=Xt}W.name=null;var _t=O.computeStackTrace(W),Et=nt(_t.stack)&&_t.stack[1];Et&&Et.func==="Raven.captureException"&&(Et=_t.stack[2]);var Ct=Et&&Et.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(Ct))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(Ct))){if(this._globalOptions.stacktrace||M.stacktrace||dt.message===""){dt.fingerprint=dt.fingerprint==null?I:dt.fingerprint,(M=et({trimHeadFrames:0},M)).trimHeadFrames+=1;var Ot=this._prepareFrames(_t,M);dt.stacktrace={frames:Ot.reverse()}}return dt.fingerprint&&(dt.fingerprint=nt(dt.fingerprint)?dt.fingerprint:[dt.fingerprint]),this._send(dt),this}}},captureBreadcrumb:function(I){var M=et({timestamp:H()/1e3},I);if(Y(this._globalOptions.breadcrumbCallback)){var W=this._globalOptions.breadcrumbCallback(M);if(B(W)&&!Z(W))M=W;else if(W===!1)return this}return this._breadcrumbs.push(M),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(I){var M=[].slice.call(arguments,1);return this._plugins.push([I,M]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(I){return this._globalContext.user=I,this},setExtraContext:function(I){return this._mergeContext("extra",I),this},setTagsContext:function(I){return this._mergeContext("tags",I),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(k(this._globalContext))},setEnvironment:function(I){return this._globalOptions.environment=I,this},setRelease:function(I){return this._globalOptions.release=I,this},setDataCallback:function(I){return this._globalOptions.dataCallback=bt(this._globalOptions.dataCallback,I),this},setBreadcrumbCallback:function(I){return this._globalOptions.breadcrumbCallback=bt(this._globalOptions.breadcrumbCallback,I),this},setShouldSendCallback:function(I){return this._globalOptions.shouldSendCallback=bt(this._globalOptions.shouldSendCallback,I),this},setTransport:function(I){return this._globalOptions.transport=I,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!(!this._hasJSON||!this._globalServer&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var I=rt.RavenConfig;I&&this.config(I.dsn,I.config).install()},showReportDialog:function(I){if(at){if(!(I=et({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},I)).eventId)throw new A("Missing eventId");if(!I.dsn)throw new A("Missing DSN");var M=encodeURIComponent,W=[];for(var dt in I)if(dt==="user"){var _t=I.user;_t.name&&W.push("name="+M(_t.name)),_t.email&&W.push("email="+M(_t.email))}else W.push(M(dt)+"="+M(I[dt]));var Et=this._getGlobalServer(this._parseDSN(I.dsn)),Ct=at.createElement("script");Ct.async=!0,Ct.src=Et+"/api/embed/error-page/?"+W.join("&"),(at.head||at.body).appendChild(Ct)}},_ignoreNextOnError:function(){var I=this;this._ignoreOnError+=1,setTimeout(function(){I._ignoreOnError-=1})},_triggerEvent:function(I,M){var W,dt;if(this._hasDocument){for(dt in M=M||{},I="raven"+I.substr(0,1).toUpperCase()+I.substr(1),at.createEvent?(W=at.createEvent("HTMLEvents")).initEvent(I,!0,!0):(W=at.createEventObject()).eventType=I,M)C(M,dt)&&(W[dt]=M[dt]);if(at.createEvent)at.dispatchEvent(W);else try{at.fireEvent("on"+W.eventType.toLowerCase(),W)}catch{}}},_breadcrumbEventHandler:function(I){var M=this;return function(W){if(M._keypressTimeout=null,M._lastCapturedEvent!==W){var dt;M._lastCapturedEvent=W;try{dt=u(W.target)}catch{dt="<unknown>"}M.captureBreadcrumb({category:"ui."+I,message:dt})}}},_keypressEventHandler:function(){var I=this;return function(M){var W;try{W=M.target}catch{return}var dt=W&&W.tagName;if(dt&&(dt==="INPUT"||dt==="TEXTAREA"||W.isContentEditable)){var _t=I._keypressTimeout;_t||I._breadcrumbEventHandler("input")(M),clearTimeout(_t),I._keypressTimeout=setTimeout(function(){I._keypressTimeout=null},1e3)}}},_captureUrlChange:function(I,M){var W=a(this._location.href),dt=a(M),_t=a(I);this._lastHref=M,W.protocol===dt.protocol&&W.host===dt.host&&(M=dt.relative),W.protocol===_t.protocol&&W.host===_t.host&&(I=_t.relative),this.captureBreadcrumb({category:"navigation",data:{to:M,from:I}})},_patchFunctionToString:function(){var I=this;I._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return I._originalFunctionToString.apply(typeof this=="function"&&this.__raven__?this.__orig__:this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var I=this,M=I._wrappedBuiltIns;function W(Ot){return function(Xt,Ht){for(var Kt=new Array(arguments.length),It=0;It<Kt.length;++It)Kt[It]=arguments[It];var Vt=Kt[0];return Y(Vt)&&(Kt[0]=I.wrap({mechanism:{type:"instrument",data:{function:Ot.name||"<anonymous>"}}},Vt)),Ot.apply?Ot.apply(this,Kt):Ot(Kt[0],Kt[1])}}var dt=this._globalOptions.autoBreadcrumbs;function _t(Ot){var Xt=rt[Ot]&&rt[Ot].prototype;Xt&&Xt.hasOwnProperty&&Xt.hasOwnProperty("addEventListener")&&(c(Xt,"addEventListener",function(Ht){return function(Kt,It,Vt,zt){try{It&&It.handleEvent&&(It.handleEvent=I.wrap({mechanism:{type:"instrument",data:{target:Ot,function:"handleEvent",handler:It&&It.name||"<anonymous>"}}},It.handleEvent))}catch{}var Jt,ut,ht;return dt&&dt.dom&&(Ot==="EventTarget"||Ot==="Node")&&(ut=I._breadcrumbEventHandler("click"),ht=I._keypressEventHandler(),Jt=function(Ft){if(Ft){var Mt;try{Mt=Ft.type}catch{return}return Mt==="click"?ut(Ft):Mt==="keypress"?ht(Ft):void 0}}),Ht.call(this,Kt,I.wrap({mechanism:{type:"instrument",data:{target:Ot,function:"addEventListener",handler:It&&It.name||"<anonymous>"}}},It,Jt),Vt,zt)}},M),c(Xt,"removeEventListener",function(Ht){return function(Kt,It,Vt,zt){try{It=It&&(It.__raven_wrapper__?It.__raven_wrapper__:It)}catch{}return Ht.call(this,Kt,It,Vt,zt)}},M))}c(rt,"setTimeout",W,M),c(rt,"setInterval",W,M),rt.requestAnimationFrame&&c(rt,"requestAnimationFrame",function(Ot){return function(Xt){return Ot(I.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:Ot&&Ot.name||"<anonymous>"}}},Xt))}},M);for(var Et=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ct=0;Ct<Et.length;Ct++)_t(Et[Ct])},_instrumentBreadcrumbs:function(){var I=this,M=this._globalOptions.autoBreadcrumbs,W=I._wrappedBuiltIns;function dt(Ht,Kt){Ht in Kt&&Y(Kt[Ht])&&c(Kt,Ht,function(It){return I.wrap({mechanism:{type:"instrument",data:{function:Ht,handler:It&&It.name||"<anonymous>"}}},It)})}if(M.xhr&&"XMLHttpRequest"in rt){var _t=rt.XMLHttpRequest&&rt.XMLHttpRequest.prototype;c(_t,"open",function(Ht){return function(Kt,It){return tt(It)&&It.indexOf(I._globalKey)===-1&&(this.__raven_xhr={method:Kt,url:It,status_code:null}),Ht.apply(this,arguments)}},W),c(_t,"send",function(Ht){return function(){var Kt=this;function It(){if(Kt.__raven_xhr&&Kt.readyState===4){try{Kt.__raven_xhr.status_code=Kt.status}catch{}I.captureBreadcrumb({type:"http",category:"xhr",data:Kt.__raven_xhr})}}for(var Vt=["onload","onerror","onprogress"],zt=0;zt<Vt.length;zt++)dt(Vt[zt],Kt);return"onreadystatechange"in Kt&&Y(Kt.onreadystatechange)?c(Kt,"onreadystatechange",function(Jt){return I.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:Jt&&Jt.name||"<anonymous>"}}},Jt,It)}):Kt.onreadystatechange=It,Ht.apply(this,arguments)}},W)}M.xhr&&m()&&c(rt,"fetch",function(Ht){return function(){for(var Kt=new Array(arguments.length),It=0;It<Kt.length;++It)Kt[It]=arguments[It];var Vt,zt=Kt[0],Jt="GET";if(typeof zt=="string"?Vt=zt:"Request"in rt&&zt instanceof rt.Request?(Vt=zt.url,zt.method&&(Jt=zt.method)):Vt=""+zt,Vt.indexOf(I._globalKey)!==-1)return Ht.apply(this,Kt);Kt[1]&&Kt[1].method&&(Jt=Kt[1].method);var ut={method:Jt,url:Vt,status_code:null};return Ht.apply(this,Kt).then(function(ht){return ut.status_code=ht.status,I.captureBreadcrumb({type:"http",category:"fetch",data:ut}),ht}).catch(function(ht){throw I.captureBreadcrumb({type:"http",category:"fetch",data:ut,level:"error"}),ht})}},W),M.dom&&this._hasDocument&&(at.addEventListener?(at.addEventListener("click",I._breadcrumbEventHandler("click"),!1),at.addEventListener("keypress",I._keypressEventHandler(),!1)):at.attachEvent&&(at.attachEvent("onclick",I._breadcrumbEventHandler("click")),at.attachEvent("onkeypress",I._keypressEventHandler())));var Et=rt.chrome;if(M.location&&!(Et&&Et.app&&Et.app.runtime)&&rt.history&&rt.history.pushState&&rt.history.replaceState){var Ct=rt.onpopstate;rt.onpopstate=function(){if(I._captureUrlChange(I._lastHref,I._location.href),Ct)return Ct.apply(this,arguments)};var Ot=function(Ht){return function(){var Kt=arguments.length>2?arguments[2]:void 0;return Kt&&I._captureUrlChange(I._lastHref,Kt+""),Ht.apply(this,arguments)}};c(rt.history,"pushState",Ot,W),c(rt.history,"replaceState",Ot,W)}if(M.console&&"console"in rt&&console.log){var Xt=function(Ht,Kt){I.captureBreadcrumb({message:Ht,level:Kt.level,category:"console"})};ot(["debug","info","warn","error","log"],function(Ht,Kt){x(console,Kt,Xt)})}},_restoreBuiltIns:function(){for(var I;this._wrappedBuiltIns.length;)(I=this._wrappedBuiltIns.shift())[0][I[1]]=I[2]},_restoreConsole:function(){for(var I in this._originalConsoleMethods)this._originalConsole[I]=this._originalConsoleMethods[I]},_drainPlugins:function(){var I=this;ot(this._plugins,function(M,W){W[0].apply(I,[I].concat(W[1]))})},_parseDSN:function(I){var M=L.exec(I),W={},dt=7;try{for(;dt--;)W[R[dt]]=M[dt]||""}catch{throw new A("Invalid DSN: "+I)}if(W.pass&&!this._globalOptions.allowSecretKey)throw new A("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return W},_getGlobalServer:function(I){var M="//"+I.host+(I.port?":"+I.port:"");return I.protocol&&(M=I.protocol+":"+M),M},_handleOnErrorStackInfo:function(I,M){(M=M||{}).mechanism=M.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(I,M)},_handleStackInfo:function(I,M){var W=this._prepareFrames(I,M);this._triggerEvent("handle",{stackInfo:I,options:M}),this._processException(I.name,I.message,I.url,I.lineno,W,M)},_prepareFrames:function(I,M){var W=this,dt=[];if(I.stack&&I.stack.length&&(ot(I.stack,function(Et,Ct){var Ot=W._normalizeFrame(Ct,I.url);Ot&&dt.push(Ot)}),M&&M.trimHeadFrames))for(var _t=0;_t<M.trimHeadFrames&&_t<dt.length;_t++)dt[_t].in_app=!1;return dt=dt.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(I,M){var W={filename:I.url,lineno:I.line,colno:I.column,function:I.func||"?"};return I.url||(W.filename=M),W.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(W.filename)||/(Raven|TraceKit)\./.test(W.function)||/raven\.(min\.)?js$/.test(W.filename)),W},_processException:function(I,M,W,dt,_t,Et){var Ct,Ot=(I?I+": ":"")+(M||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(M)&&!this._globalOptions.ignoreErrors.test(Ot))&&(_t&&_t.length?(W=_t[0].filename||W,_t.reverse(),Ct={frames:_t}):W&&(Ct={frames:[{filename:W,lineno:dt,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(W))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(W)))){var Xt=et({exception:{values:[{type:I,value:M,stacktrace:Ct}]},transaction:W},Et),Ht=Xt.exception.values[0];Ht.type==null&&Ht.value===""&&(Ht.value="Unrecoverable error caught"),!Xt.exception.mechanism&&Xt.mechanism&&(Xt.exception.mechanism=Xt.mechanism,delete Xt.mechanism),Xt.exception.mechanism=et({type:"generic",handled:!0},Xt.exception.mechanism||{}),this._send(Xt)}},_trimPacket:function(I){var M=this._globalOptions.maxMessageLength;if(I.message&&(I.message=ft(I.message,M)),I.exception){var W=I.exception.values[0];W.value=ft(W.value,M)}var dt=I.request;return dt&&(dt.url&&(dt.url=ft(dt.url,this._globalOptions.maxUrlLength)),dt.Referer&&(dt.Referer=ft(dt.Referer,this._globalOptions.maxUrlLength))),I.breadcrumbs&&I.breadcrumbs.values&&this._trimBreadcrumbs(I.breadcrumbs),I},_trimBreadcrumbs:function(I){for(var M,W,dt,_t=["to","from","url"],Et=0;Et<I.values.length;++Et)if((W=I.values[Et]).hasOwnProperty("data")&&B(W.data)&&!$(W.data)){dt=et({},W.data);for(var Ct=0;Ct<_t.length;++Ct)dt.hasOwnProperty(M=_t[Ct])&&dt[M]&&(dt[M]=ft(dt[M],this._globalOptions.maxUrlLength));I.values[Et].data=dt}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var I={};return this._hasNavigator&&pt.userAgent&&(I.headers={"User-Agent":pt.userAgent}),rt.location&&rt.location.href&&(I.url=rt.location.href),this._hasDocument&&at.referrer&&(I.headers||(I.headers={}),I.headers.Referer=at.referrer),I}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&H()-this._backoffStart<this._backoffDuration},_isRepeatData:function(I){var M=this._lastData;return!(!M||I.message!==M.message||I.transaction!==M.transaction)&&(I.stacktrace||M.stacktrace?l(I.stacktrace,M.stacktrace):!I.exception&&!M.exception||h(I.exception,M.exception))},_setBackoffState:function(I){if(!this._shouldBackoff()){var M=I.status;if(M===400||M===401||M===429){var W;try{W=m()?I.headers.get("Retry-After"):I.getResponseHeader("Retry-After"),W=1e3*parseInt(W,10)}catch{}this._backoffDuration=W||2*this._backoffDuration||1e3,this._backoffStart=H()}}},_send:function(I){var M=this._globalOptions,W={project:this._globalProject,logger:M.logger,platform:"javascript"},dt=this._getHttpData();dt&&(W.request=dt),I.trimHeadFrames&&delete I.trimHeadFrames,(I=et(W,I)).tags=et(et({},this._globalContext.tags),I.tags),I.extra=et(et({},this._globalContext.extra),I.extra),I.extra["session:duration"]=H()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(I.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(I.user=this._globalContext.user),M.environment&&(I.environment=M.environment),M.release&&(I.release=M.release),M.serverName&&(I.server_name=M.serverName),I=this._sanitizeData(I),Object.keys(I).forEach(function(_t){(I[_t]==null||I[_t]===""||Z(I[_t]))&&delete I[_t]}),Y(M.dataCallback)&&(I=M.dataCallback(I)||I),I&&!Z(I)&&(Y(M.shouldSendCallback)&&!M.shouldSendCallback(I)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",I):typeof M.sampleRate=="number"?Math.random()<M.sampleRate&&this._sendProcessedPayload(I):this._sendProcessedPayload(I)))},_sanitizeData:function(I){return w(I,this._globalOptions.sanitizeKeys)},_getUuid:function(){return p()},_sendProcessedPayload:function(I,M){var W=this,dt=this._globalOptions;if(this.isSetup())if(I=this._trimPacket(I),this._globalOptions.allowDuplicates||!this._isRepeatData(I)){this._lastEventId=I.event_id||(I.event_id=this._getUuid()),this._lastData=I,this._logDebug("debug","Raven about to send:",I);var _t={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(_t.sentry_secret=this._globalSecret);var Et=I.exception&&I.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:Et?(Et.type?Et.type+": ":"")+Et.value:I.message,event_id:I.event_id,level:I.level||"error"});var Ct=this._globalEndpoint;(dt.transport||this._makeRequest).call(this,{url:Ct,auth:_t,data:I,options:dt,onSuccess:function(){W._resetBackoff(),W._triggerEvent("success",{data:I,src:Ct}),M&&M()},onError:function(Ot){W._logDebug("error","Raven transport failed to send: ",Ot),Ot.request&&W._setBackoffState(Ot.request),W._triggerEvent("failure",{data:I,src:Ct}),Ot=Ot||new Error("Raven send failed (no additional details provided)"),M&&M(Ot)}})}else this._logDebug("warn","Raven dropped repeat event: ",I)},_makeRequest:function(I){var M=I.url+"?"+kt(I.auth),W=null,dt={};if(I.options.headers&&(W=this._evaluateHash(I.options.headers)),I.options.fetchParameters&&(dt=this._evaluateHash(I.options.fetchParameters)),m()){dt.body=k(I.data);var _t=et({},this._fetchDefaults),Et=et(_t,dt);return W&&(Et.headers=W),rt.fetch(M,Et).then(function(Ot){if(Ot.ok)I.onSuccess&&I.onSuccess();else{var Xt=new Error("Sentry error code: "+Ot.status);Xt.request=Ot,I.onError&&I.onError(Xt)}}).catch(function(){I.onError&&I.onError(new Error("Sentry error code: network unavailable"))})}var Ct=rt.XMLHttpRequest&&new rt.XMLHttpRequest;Ct&&("withCredentials"in Ct||typeof XDomainRequest<"u")&&("withCredentials"in Ct?Ct.onreadystatechange=function(){if(Ct.readyState===4){if(Ct.status===200)I.onSuccess&&I.onSuccess();else if(I.onError){var Ot=new Error("Sentry error code: "+Ct.status);Ot.request=Ct,I.onError(Ot)}}}:(Ct=new XDomainRequest,M=M.replace(/^https?:/,""),I.onSuccess&&(Ct.onload=I.onSuccess),I.onError&&(Ct.onerror=function(){var Ot=new Error("Sentry error code: XDomainRequest");Ot.request=Ct,I.onError(Ot)})),Ct.open("POST",M),W&&ot(W,function(Ot,Xt){Ct.setRequestHeader(Ot,Xt)}),Ct.send(k(I.data)))},_evaluateHash:function(I){var M={};for(var W in I)if(I.hasOwnProperty(W)){var dt=I[W];M[W]=typeof dt=="function"?dt():dt}return M},_logDebug:function(I){this._originalConsoleMethods[I]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[I],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(I,M){it(M)?delete this._globalContext[I]:this._globalContext[I]=et(this._globalContext[I]||{},M)}}).setUser=gt.prototype.setUserContext,gt.prototype.setReleaseContext=gt.prototype.setRelease,V.exports=gt},v9aN:function(V,q){function y(O){this.name="RavenConfigError",this.message=O}(y.prototype=new Error).constructor=y,V.exports=y},vYjF:function(V,q,y){var O=y("BjAV"),k=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j(Z){return Z===void 0}function A(Z){return Object.prototype.toString.call(Z)==="[object Object]"}function E(Z){return Object.prototype.toString.call(Z)==="[object String]"}function X(Z){return Object.prototype.toString.call(Z)==="[object Array]"}function z(){if(!("fetch"in k))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function N(Z,ot){var et,ft;if(j(Z.length))for(et in Z)B(Z,et)&&ot.call(null,et,Z[et]);else if(ft=Z.length)for(et=0;et<ft;et++)ot.call(null,et,Z[et])}function G(Z,ot){if(typeof ot!="number")throw new Error("2nd argument to `truncate` function should be a number");return typeof Z!="string"||ot===0||Z.length<=ot?Z:Z.substr(0,ot)+"\u2026"}function B(Z,ot){return Object.prototype.hasOwnProperty.call(Z,ot)}function Q(Z){for(var ot,et=[],ft=0,$=Z.length;ft<$;ft++)E(ot=Z[ft])?et.push(ot.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):ot&&ot.source&&et.push(ot.source);return new RegExp(et.join("|"),"i")}function it(Z){var ot,et,ft,$,C,mt=[];if(!Z||!Z.tagName)return"";if(mt.push(Z.tagName.toLowerCase()),Z.id&&mt.push("#"+Z.id),(ot=Z.className)&&E(ot))for(et=ot.split(/\s+/),C=0;C<et.length;C++)mt.push("."+et[C]);var kt=["type","name","title","alt"];for(C=0;C<kt.length;C++)($=Z.getAttribute(ft=kt[C]))&&mt.push("["+ft+'="'+$+'"]');return mt.join("")}function Y(Z,ot){return!!(!!Z^!!ot)}function tt(Z,ot){if(Y(Z,ot))return!1;var et,ft,$=Z.frames,C=ot.frames;if($===void 0||C===void 0||$.length!==C.length)return!1;for(var mt=0;mt<$.length;mt++)if((et=$[mt]).filename!==(ft=C[mt]).filename||et.lineno!==ft.lineno||et.colno!==ft.colno||et.function!==ft.function)return!1;return!0}function nt(Z){if(typeof Z=="string")return G(Z,40);if(typeof Z=="number"||typeof Z=="boolean"||Z===void 0)return Z;var ot=Object.prototype.toString.call(Z);return ot==="[object Object]"?"[Object]":ot==="[object Array]"?"[Array]":ot==="[object Function]"?Z.name?"[Function: "+Z.name+"]":"[Function]":Z}V.exports={isObject:function(Z){return typeof Z=="object"&&Z!==null},isError:function(Z){switch(Object.prototype.toString.call(Z)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Z instanceof Error}},isErrorEvent:function(Z){return Object.prototype.toString.call(Z)==="[object ErrorEvent]"},isDOMError:function(Z){return Object.prototype.toString.call(Z)==="[object DOMError]"},isDOMException:function(Z){return Object.prototype.toString.call(Z)==="[object DOMException]"},isUndefined:j,isFunction:function(Z){return typeof Z=="function"},isPlainObject:A,isString:E,isArray:X,isEmptyObject:function(Z){if(!A(Z))return!1;for(var ot in Z)if(Z.hasOwnProperty(ot))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch{return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch{return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch{return!1}},supportsFetch:z,supportsReferrerPolicy:function(){if(!z())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch{return!1}},supportsPromiseRejectionEvent:function(){return typeof PromiseRejectionEvent=="function"},wrappedCallback:function(Z){return function(ot,et){var ft=Z(ot)||ot;return et&&et(ft)||ft}},each:N,objectMerge:function(Z,ot){return ot&&N(ot,function(et,ft){Z[et]=ft}),Z},truncate:G,objectFrozen:function(Z){return!!Object.isFrozen&&Object.isFrozen(Z)},hasKey:B,joinRegExp:Q,urlencode:function(Z){var ot=[];return N(Z,function(et,ft){ot.push(encodeURIComponent(et)+"="+encodeURIComponent(ft))}),ot.join("&")},uuid4:function(){var Z=k.crypto||k.msCrypto;if(!j(Z)&&Z.getRandomValues){var ot=new Uint16Array(8);Z.getRandomValues(ot),ot[3]=4095&ot[3]|16384,ot[4]=16383&ot[4]|32768;var et=function(ft){for(var $=ft.toString(16);$.length<4;)$="0"+$;return $};return et(ot[0])+et(ot[1])+et(ot[2])+et(ot[3])+et(ot[4])+et(ot[5])+et(ot[6])+et(ot[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(ft){var $=16*Math.random()|0;return(ft==="x"?$:3&$|8).toString(16)})},htmlTreeAsString:function(Z){for(var ot,et=[],ft=0,$=0,C=3;Z&&ft++<5&&!((ot=it(Z))==="html"||ft>1&&$+et.length*C+ot.length>=80);)et.push(ot),$+=ot.length,Z=Z.parentNode;return et.reverse().join(" > ")},htmlElementAsString:it,isSameException:function(Z,ot){return!Y(Z,ot)&&(Z=Z.values[0]).type===(ot=ot.values[0]).type&&Z.value===ot.value&&(et=ot.stacktrace,(!j(Z.stacktrace)||!j(et))&&tt(Z.stacktrace,ot.stacktrace));var et},isSameStacktrace:tt,parseUrl:function(Z){if(typeof Z!="string")return{};var ot=Z.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return{protocol:ot[2],host:ot[4],path:ot[5],relative:ot[5]+(ot[6]||"")+(ot[8]||"")}},fill:function(Z,ot,et,ft){if(Z!=null){var $=Z[ot];Z[ot]=et($),Z[ot].__raven__=!0,Z[ot].__orig__=$,ft&&ft.push([Z,ot,$])}},safeJoin:function(Z,ot){if(!X(Z))return"";for(var et=[],ft=0;ft<Z.length;ft++)try{et.push(String(Z[ft]))}catch{et.push("[value cannot be serialized]")}return et.join(ot)},serializeException:function Z(ot,et,ft){if(!A(ot))return ot;ft=typeof(et=typeof et!="number"?3:et)!="number"?51200:ft;var $,C=function mt(kt,p){return p===0?nt(kt):A(kt)?Object.keys(kt).reduce(function(u,h){return u[h]=mt(kt[h],p-1),u},{}):Array.isArray(kt)?kt.map(function(u){return mt(u,p-1)}):nt(kt)}(ot,et);return $=O(C),function(mt){return~-encodeURI(mt).split(/%..|./).length}(JSON.stringify($))>ft?Z(ot,et-1):C},serializeKeysForMessage:function(Z,ot){if(typeof Z=="number"||typeof Z=="string")return Z.toString();if(!Array.isArray(Z))return"";if((Z=Z.filter(function($){return typeof $=="string"})).length===0)return"[object has no keys]";if(Z[0].length>=(ot=typeof ot!="number"?40:ot))return Z[0];for(var et=Z.length;et>0;et--){var ft=Z.slice(0,et).join(", ");if(!(ft.length>ot))return et===Z.length?ft:ft+"\u2026"}return""},sanitize:function(Z,ot){if(!X(ot)||X(ot)&&ot.length===0)return Z;var et,ft=Q(ot);try{et=JSON.parse(O(Z))}catch{return Z}return function $(C){return X(C)?C.map(function(mt){return $(mt)}):A(C)?Object.keys(C).reduce(function(mt,kt){return mt[kt]=ft.test(kt)?"********":$(C[kt]),mt},{}):C}(et)}}},yLV6:function(V,q,y){var O;(function(k,j,A,E){"use strict";var X,z=["","webkit","Moz","MS","ms","o"],N=j.createElement("div"),G="function",B=Math.round,Q=Math.abs,it=Date.now;function Y(K,vt,St){return setTimeout($(K,St),vt)}function tt(K,vt,St){return!!Array.isArray(K)&&(nt(K,St[vt],St),!0)}function nt(K,vt,St){var Nt;if(K)if(K.forEach)K.forEach(vt,St);else if(K.length!==E)for(Nt=0;Nt<K.length;)vt.call(St,K[Nt],Nt,K),Nt++;else for(Nt in K)K.hasOwnProperty(Nt)&&vt.call(St,K[Nt],Nt,K)}function Z(K,vt,St){var Nt="DEPRECATED METHOD: "+vt+`
`+St+` AT 
`;return function(){var Qt=new Error("get-stack-trace"),ke=Qt&&Qt.stack?Qt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",on=k.console&&(k.console.warn||k.console.log);return on&&on.call(k.console,Nt,ke),K.apply(this,arguments)}}X=typeof Object.assign!="function"?function(K){if(K===E||K===null)throw new TypeError("Cannot convert undefined or null to object");for(var vt=Object(K),St=1;St<arguments.length;St++){var Nt=arguments[St];if(Nt!==E&&Nt!==null)for(var Qt in Nt)Nt.hasOwnProperty(Qt)&&(vt[Qt]=Nt[Qt])}return vt}:Object.assign;var ot=Z(function(K,vt,St){for(var Nt=Object.keys(vt),Qt=0;Qt<Nt.length;)(!St||St&&K[Nt[Qt]]===E)&&(K[Nt[Qt]]=vt[Nt[Qt]]),Qt++;return K},"extend","Use `assign`."),et=Z(function(K,vt){return ot(K,vt,!0)},"merge","Use `assign`.");function ft(K,vt,St){var Nt,Qt=vt.prototype;(Nt=K.prototype=Object.create(Qt)).constructor=K,Nt._super=Qt,St&&X(Nt,St)}function $(K,vt){return function(){return K.apply(vt,arguments)}}function C(K,vt){return typeof K==G?K.apply(vt&&vt[0]||E,vt):K}function mt(K,vt){return K===E?vt:K}function kt(K,vt,St){nt(l(vt),function(Nt){K.addEventListener(Nt,St,!1)})}function p(K,vt,St){nt(l(vt),function(Nt){K.removeEventListener(Nt,St,!1)})}function u(K,vt){for(;K;){if(K==vt)return!0;K=K.parentNode}return!1}function h(K,vt){return K.indexOf(vt)>-1}function l(K){return K.trim().split(/\s+/g)}function a(K,vt,St){if(K.indexOf&&!St)return K.indexOf(vt);for(var Nt=0;Nt<K.length;){if(St&&K[Nt][St]==vt||!St&&K[Nt]===vt)return Nt;Nt++}return-1}function c(K){return Array.prototype.slice.call(K,0)}function m(K,vt,St){for(var Nt=[],Qt=[],ke=0;ke<K.length;){var on=vt?K[ke][vt]:K[ke];a(Qt,on)<0&&Nt.push(K[ke]),Qt[ke]=on,ke++}return St&&(Nt=vt?Nt.sort(function(ze,Je){return ze[vt]>Je[vt]}):Nt.sort()),Nt}function v(K,vt){for(var St,Nt,Qt=vt[0].toUpperCase()+vt.slice(1),ke=0;ke<z.length;){if((Nt=(St=z[ke])?St+Qt:vt)in K)return Nt;ke++}return E}var g=1;function b(K){var vt=K.ownerDocument||K;return vt.defaultView||vt.parentWindow||k}var w="ontouchstart"in k,x=v(k,"PointerEvent")!==E,R=w&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=25,H=1,rt=4,at=8,pt=1,bt=2,gt=4,I=8,M=16,W=bt|gt,dt=I|M,_t=W|dt,Et=["x","y"],Ct=["clientX","clientY"];function Ot(K,vt){var St=this;this.manager=K,this.callback=vt,this.element=K.element,this.target=K.options.inputTarget,this.domHandler=function(Nt){C(K.options.enable,[K])&&St.handler(Nt)},this.init()}function Xt(K,vt,St){var Nt=St.pointers.length,Qt=St.changedPointers.length,ke=vt&H&&Nt-Qt==0,on=vt&(rt|at)&&Nt-Qt==0;St.isFirst=!!ke,St.isFinal=!!on,ke&&(K.session={}),St.eventType=vt,function(ze,Je){var Rn=ze.session,li=Je.pointers,rs=li.length;Rn.firstInput||(Rn.firstInput=Ht(Je)),rs>1&&!Rn.firstMultiple?Rn.firstMultiple=Ht(Je):rs===1&&(Rn.firstMultiple=!1);var So=Rn.firstInput,Ar=Rn.firstMultiple,ko=Ar?Ar.center:So.center,_l=Je.center=Kt(li);Je.timeStamp=it(),Je.deltaTime=Je.timeStamp-So.timeStamp,Je.angle=Jt(ko,_l),Je.distance=zt(ko,_l),function(xi,Yn){var Ai=Yn.center,gr=xi.offsetDelta||{},mr=xi.prevDelta||{},rr=xi.prevInput||{};Yn.eventType!==H&&rr.eventType!==rt||(mr=xi.prevDelta={x:rr.deltaX||0,y:rr.deltaY||0},gr=xi.offsetDelta={x:Ai.x,y:Ai.y}),Yn.deltaX=mr.x+(Ai.x-gr.x),Yn.deltaY=mr.y+(Ai.y-gr.y)}(Rn,Je),Je.offsetDirection=Vt(Je.deltaX,Je.deltaY);var os,Ys,Xr=It(Je.deltaTime,Je.deltaX,Je.deltaY);Je.overallVelocityX=Xr.x,Je.overallVelocityY=Xr.y,Je.overallVelocity=Q(Xr.x)>Q(Xr.y)?Xr.x:Xr.y,Je.scale=Ar?(os=Ar.pointers,zt((Ys=li)[0],Ys[1],Ct)/zt(os[0],os[1],Ct)):1,Je.rotation=Ar?function(xi,Yn){return Jt(li[1],li[0],Ct)+Jt(xi[1],xi[0],Ct)}(Ar.pointers):0,Je.maxPointers=Rn.prevInput?Je.pointers.length>Rn.prevInput.maxPointers?Je.pointers.length:Rn.prevInput.maxPointers:Je.pointers.length,function(xi,Yn){var Ai,gr,mr,rr,qi=xi.lastInterval||Yn,ss=Yn.timeStamp-qi.timeStamp;if(Yn.eventType!=at&&(ss>L||qi.velocity===E)){var Gs=Yn.deltaX-qi.deltaX,qs=Yn.deltaY-qi.deltaY,vr=It(ss,Gs,qs);gr=vr.x,mr=vr.y,Ai=Q(vr.x)>Q(vr.y)?vr.x:vr.y,rr=Vt(Gs,qs),xi.lastInterval=Yn}else Ai=qi.velocity,gr=qi.velocityX,mr=qi.velocityY,rr=qi.direction;Yn.velocity=Ai,Yn.velocityX=gr,Yn.velocityY=mr,Yn.direction=rr}(Rn,Je);var Eo=ze.element;u(Je.srcEvent.target,Eo)&&(Eo=Je.srcEvent.target),Je.target=Eo}(K,St),K.emit("hammer.input",St),K.recognize(St),K.session.prevInput=St}function Ht(K){for(var vt=[],St=0;St<K.pointers.length;)vt[St]={clientX:B(K.pointers[St].clientX),clientY:B(K.pointers[St].clientY)},St++;return{timeStamp:it(),pointers:vt,center:Kt(vt),deltaX:K.deltaX,deltaY:K.deltaY}}function Kt(K){var vt=K.length;if(vt===1)return{x:B(K[0].clientX),y:B(K[0].clientY)};for(var St=0,Nt=0,Qt=0;Qt<vt;)St+=K[Qt].clientX,Nt+=K[Qt].clientY,Qt++;return{x:B(St/vt),y:B(Nt/vt)}}function It(K,vt,St){return{x:vt/K||0,y:St/K||0}}function Vt(K,vt){return K===vt?pt:Q(K)>=Q(vt)?K<0?bt:gt:vt<0?I:M}function zt(K,vt,St){St||(St=Et);var Nt=vt[St[0]]-K[St[0]],Qt=vt[St[1]]-K[St[1]];return Math.sqrt(Nt*Nt+Qt*Qt)}function Jt(K,vt,St){return St||(St=Et),180*Math.atan2(vt[St[1]]-K[St[1]],vt[St[0]]-K[St[0]])/Math.PI}Ot.prototype={handler:function(){},init:function(){this.evEl&&kt(this.element,this.evEl,this.domHandler),this.evTarget&&kt(this.target,this.evTarget,this.domHandler),this.evWin&&kt(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(b(this.element),this.evWin,this.domHandler)}};var ut={mousedown:H,mousemove:2,mouseup:rt},ht="mousedown",Ft="mousemove mouseup";function Mt(){this.evEl=ht,this.evWin=Ft,this.pressed=!1,Ot.apply(this,arguments)}ft(Mt,Ot,{handler:function(K){var vt=ut[K.type];vt&H&&K.button===0&&(this.pressed=!0),2&vt&&K.which!==1&&(vt=rt),this.pressed&&(vt&rt&&(this.pressed=!1),this.callback(this.manager,vt,{pointers:[K],changedPointers:[K],pointerType:"mouse",srcEvent:K}))}});var Ut={pointerdown:H,pointermove:2,pointerup:rt,pointercancel:at,pointerout:at},ae={2:"touch",3:"pen",4:"mouse",5:"kinect"},se="pointerdown",Ae="pointermove pointerup pointercancel";function we(){this.evEl=se,this.evWin=Ae,Ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k.MSPointerEvent&&!k.PointerEvent&&(se="MSPointerDown",Ae="MSPointerMove MSPointerUp MSPointerCancel"),ft(we,Ot,{handler:function(K){var vt=this.store,St=!1,Nt=K.type.toLowerCase().replace("ms",""),Qt=Ut[Nt],ke=ae[K.pointerType]||K.pointerType,on=ke=="touch",ze=a(vt,K.pointerId,"pointerId");Qt&H&&(K.button===0||on)?ze<0&&(vt.push(K),ze=vt.length-1):Qt&(rt|at)&&(St=!0),ze<0||(vt[ze]=K,this.callback(this.manager,Qt,{pointers:vt,changedPointers:[K],pointerType:ke,srcEvent:K}),St&&vt.splice(ze,1))}});var be={touchstart:H,touchmove:2,touchend:rt,touchcancel:at},Ue="touchstart",Jn="touchstart touchmove touchend touchcancel";function Ln(){this.evTarget=Ue,this.evWin=Jn,this.started=!1,Ot.apply(this,arguments)}ft(Ln,Ot,{handler:function(K){var vt=be[K.type];if(vt===H&&(this.started=!0),this.started){var St=(function(Nt,Qt){var ke=c(Nt.touches),on=c(Nt.changedTouches);return Qt&(rt|at)&&(ke=m(ke.concat(on),"identifier",!0)),[ke,on]}).call(this,K,vt);vt&(rt|at)&&St[0].length-St[1].length==0&&(this.started=!1),this.callback(this.manager,vt,{pointers:St[0],changedPointers:St[1],pointerType:"touch",srcEvent:K})}}});var di={touchstart:H,touchmove:2,touchend:rt,touchcancel:at},xo="touchstart touchmove touchend touchcancel";function Gi(){this.evTarget=xo,this.targetIds={},Ot.apply(this,arguments)}ft(Gi,Ot,{handler:function(K){var vt=di[K.type],St=(function(Nt,Qt){var ke=c(Nt.touches),on=this.targetIds;if(Qt&(2|H)&&ke.length===1)return on[ke[0].identifier]=!0,[ke,ke];var ze,Je,Rn=c(Nt.changedTouches),li=[],rs=this.target;if(Je=ke.filter(function(So){return u(So.target,rs)}),Qt===H)for(ze=0;ze<Je.length;)on[Je[ze].identifier]=!0,ze++;for(ze=0;ze<Rn.length;)on[Rn[ze].identifier]&&li.push(Rn[ze]),Qt&(rt|at)&&delete on[Rn[ze].identifier],ze++;return li.length?[m(Je.concat(li),"identifier",!0),li]:void 0}).call(this,K,vt);St&&this.callback(this.manager,vt,{pointers:St[0],changedPointers:St[1],pointerType:"touch",srcEvent:K})}});var Ce=2500;function Wn(){Ot.apply(this,arguments);var K=$(this.handler,this);this.touch=new Gi(this.manager,K),this.mouse=new Mt(this.manager,K),this.primaryTouch=null,this.lastTouches=[]}function ns(K){var vt=K.changedPointers[0];if(vt.identifier===this.primaryTouch){var St={x:vt.clientX,y:vt.clientY};this.lastTouches.push(St);var Nt=this.lastTouches;setTimeout(function(){var Qt=Nt.indexOf(St);Qt>-1&&Nt.splice(Qt,1)},Ce)}}ft(Wn,Ot,{handler:function(K,vt,St){var Nt=St.pointerType=="mouse";if(!(Nt&&St.sourceCapabilities&&St.sourceCapabilities.firesTouchEvents)){if(St.pointerType=="touch")(function(Qt,ke){Qt&H?(this.primaryTouch=ke.changedPointers[0].identifier,ns.call(this,ke)):Qt&(rt|at)&&ns.call(this,ke)}).call(this,vt,St);else if(Nt&&(function(Qt){for(var ke=Qt.srcEvent.clientX,on=Qt.srcEvent.clientY,ze=0;ze<this.lastTouches.length;ze++){var Je=this.lastTouches[ze],Rn=Math.abs(ke-Je.x),li=Math.abs(on-Je.y);if(Rn<=25&&li<=25)return!0}return!1}).call(this,St))return;this.callback(K,vt,St)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=v(N.style,"touchAction"),Or=de!==E,Tr=function(){if(!Or)return!1;var K={},vt=k.CSS&&k.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(St){K[St]=!vt||k.CSS.supports("touch-action",St)}),K}();function Xs(K,vt){this.manager=K,this.set(vt)}Xs.prototype={set:function(K){K=="compute"&&(K=this.compute()),Or&&this.manager.element.style&&Tr[K]&&(this.manager.element.style[de]=K),this.actions=K.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var K=[];return nt(this.manager.recognizers,function(vt){C(vt.options.enable,[vt])&&(K=K.concat(vt.getTouchAction()))}),function(vt){if(h(vt,"none"))return"none";var St=h(vt,"pan-x"),Nt=h(vt,"pan-y");return St&&Nt?"none":St||Nt?St?"pan-x":"pan-y":h(vt,"manipulation")?"manipulation":"auto"}(K.join(" "))},preventDefaults:function(K){var vt=K.srcEvent,St=K.offsetDirection;if(this.manager.session.prevented)vt.preventDefault();else{var Nt=this.actions,Qt=h(Nt,"none")&&!Tr.none,ke=h(Nt,"pan-y")&&!Tr["pan-y"],on=h(Nt,"pan-x")&&!Tr["pan-x"];if(Qt&&K.pointers.length===1&&K.distance<2&&K.deltaTime<250)return;if(!on||!ke)return Qt||ke&&St&W||on&&St&dt?this.preventSrc(vt):void 0}},preventSrc:function(K){this.manager.session.prevented=!0,K.preventDefault()}};var is=1,kn=2,Hr=4,Vi=8,fi=Vi,Ir=16;function Nn(K){this.options=X({},this.defaults,K||{}),this.id=g++,this.manager=null,this.options.enable=mt(this.options.enable,!0),this.state=is,this.simultaneous={},this.requireFail=[]}function sn(K){return K&Ir?"cancel":K&Vi?"end":K&Hr?"move":K&kn?"start":""}function bl(K){return K==M?"down":K==I?"up":K==bt?"left":K==gt?"right":""}function Co(K,vt){var St=vt.manager;return St?St.get(K):K}function yn(){Nn.apply(this,arguments)}function zi(){yn.apply(this,arguments),this.pX=null,this.pY=null}function Fe(){yn.apply(this,arguments)}function Mn(){Nn.apply(this,arguments),this._timer=null,this._input=null}function Ii(){yn.apply(this,arguments)}function dr(){yn.apply(this,arguments)}function fr(){Nn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Bn(K,vt){return(vt=vt||{}).recognizers=mt(vt.recognizers,Bn.defaults.preset),new Ur(K,vt)}function Ur(K,vt){var St;this.options=X({},Bn.defaults,vt||{}),this.options.inputTarget=this.options.inputTarget||K,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=K,this.input=new((St=this).options.inputClass||(x?we:R?Gi:w?Wn:Mt))(St,Xt),this.touchAction=new Xs(this,this.options.touchAction),Wr(this,!0),nt(this.options.recognizers,function(Nt){var Qt=this.add(new Nt[0](Nt[1]));Nt[2]&&Qt.recognizeWith(Nt[2]),Nt[3]&&Qt.requireFailure(Nt[3])},this)}function Wr(K,vt){var St,Nt=K.element;Nt.style&&(nt(K.options.cssProps,function(Qt,ke){St=v(Nt.style,ke),vt?(K.oldCssProps[St]=Nt.style[St],Nt.style[St]=Qt):Nt.style[St]=K.oldCssProps[St]||""}),vt||(K.oldCssProps={}))}Nn.prototype={defaults:{},set:function(K){return X(this.options,K),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(K){if(tt(K,"recognizeWith",this))return this;var vt=this.simultaneous;return vt[(K=Co(K,this)).id]||(vt[K.id]=K,K.recognizeWith(this)),this},dropRecognizeWith:function(K){return tt(K,"dropRecognizeWith",this)?this:(K=Co(K,this),delete this.simultaneous[K.id],this)},requireFailure:function(K){if(tt(K,"requireFailure",this))return this;var vt=this.requireFail;return a(vt,K=Co(K,this))===-1&&(vt.push(K),K.requireFailure(this)),this},dropRequireFailure:function(K){if(tt(K,"dropRequireFailure",this))return this;K=Co(K,this);var vt=a(this.requireFail,K);return vt>-1&&this.requireFail.splice(vt,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(K){return!!this.simultaneous[K.id]},emit:function(K){var vt=this,St=this.state;function Nt(Qt){vt.manager.emit(Qt,K)}St<Vi&&Nt(vt.options.event+sn(St)),Nt(vt.options.event),K.additionalEvent&&Nt(K.additionalEvent),St>=Vi&&Nt(vt.options.event+sn(St))},tryEmit:function(K){if(this.canEmit())return this.emit(K);this.state=32},canEmit:function(){for(var K=0;K<this.requireFail.length;){if(!(this.requireFail[K].state&(32|is)))return!1;K++}return!0},recognize:function(K){var vt=X({},K);if(!C(this.options.enable,[this,vt]))return this.reset(),void(this.state=32);this.state&(fi|Ir|32)&&(this.state=is),this.state=this.process(vt),this.state&(kn|Hr|Vi|Ir)&&this.tryEmit(vt)},process:function(K){},getTouchAction:function(){},reset:function(){}},ft(yn,Nn,{defaults:{pointers:1},attrTest:function(K){var vt=this.options.pointers;return vt===0||K.pointers.length===vt},process:function(K){var vt=this.state,St=K.eventType,Nt=vt&(kn|Hr),Qt=this.attrTest(K);return Nt&&(St&at||!Qt)?vt|Ir:Nt||Qt?St&rt?vt|Vi:vt&kn?vt|Hr:kn:32}}),ft(zi,yn,{defaults:{event:"pan",threshold:10,pointers:1,direction:_t},getTouchAction:function(){var K=this.options.direction,vt=[];return K&W&&vt.push("pan-y"),K&dt&&vt.push("pan-x"),vt},directionTest:function(K){var vt=this.options,St=!0,Nt=K.distance,Qt=K.direction,ke=K.deltaX,on=K.deltaY;return Qt&vt.direction||(vt.direction&W?(Qt=ke===0?pt:ke<0?bt:gt,St=ke!=this.pX,Nt=Math.abs(K.deltaX)):(Qt=on===0?pt:on<0?I:M,St=on!=this.pY,Nt=Math.abs(K.deltaY))),K.direction=Qt,St&&Nt>vt.threshold&&Qt&vt.direction},attrTest:function(K){return yn.prototype.attrTest.call(this,K)&&(this.state&kn||!(this.state&kn)&&this.directionTest(K))},emit:function(K){this.pX=K.deltaX,this.pY=K.deltaY;var vt=bl(K.direction);vt&&(K.additionalEvent=this.options.event+vt),this._super.emit.call(this,K)}}),ft(Fe,yn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.scale-1)>this.options.threshold||this.state&kn)},emit:function(K){K.scale!==1&&(K.additionalEvent=this.options.event+(K.scale<1?"in":"out")),this._super.emit.call(this,K)}}),ft(Mn,Nn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(K){var vt=this.options,St=K.pointers.length===vt.pointers,Nt=K.distance<vt.threshold,Qt=K.deltaTime>vt.time;if(this._input=K,!Nt||!St||K.eventType&(rt|at)&&!Qt)this.reset();else if(K.eventType&H)this.reset(),this._timer=Y(function(){this.state=fi,this.tryEmit()},vt.time,this);else if(K.eventType&rt)return fi;return 32},reset:function(){clearTimeout(this._timer)},emit:function(K){this.state===fi&&(K&&K.eventType&rt?this.manager.emit(this.options.event+"up",K):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),ft(Ii,yn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(K){return this._super.attrTest.call(this,K)&&(Math.abs(K.rotation)>this.options.threshold||this.state&kn)}}),ft(dr,yn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|dt,pointers:1},getTouchAction:function(){return zi.prototype.getTouchAction.call(this)},attrTest:function(K){var vt,St=this.options.direction;return St&(W|dt)?vt=K.overallVelocity:St&W?vt=K.overallVelocityX:St&dt&&(vt=K.overallVelocityY),this._super.attrTest.call(this,K)&&St&K.offsetDirection&&K.distance>this.options.threshold&&K.maxPointers==this.options.pointers&&Q(vt)>this.options.velocity&&K.eventType&rt},emit:function(K){var vt=bl(K.offsetDirection);vt&&this.manager.emit(this.options.event+vt,K),this.manager.emit(this.options.event,K)}}),ft(fr,Nn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(K){var vt=this.options,St=K.pointers.length===vt.pointers,Nt=K.distance<vt.threshold,Qt=K.deltaTime<vt.time;if(this.reset(),K.eventType&H&&this.count===0)return this.failTimeout();if(Nt&&Qt&&St){if(K.eventType!=rt)return this.failTimeout();var ke=!this.pTime||K.timeStamp-this.pTime<vt.interval,on=!this.pCenter||zt(this.pCenter,K.center)<vt.posThreshold;if(this.pTime=K.timeStamp,this.pCenter=K.center,on&&ke?this.count+=1:this.count=1,this._input=K,this.count%vt.taps==0)return this.hasRequireFailures()?(this._timer=Y(function(){this.state=fi,this.tryEmit()},vt.interval,this),kn):fi}return 32},failTimeout:function(){return this._timer=Y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Bn.VERSION="2.0.7",Bn.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ii,{enable:!1}],[Fe,{enable:!1},["rotate"]],[dr,{direction:W}],[zi,{direction:W},["swipe"]],[fr],[fr,{event:"doubletap",taps:2},["tap"]],[Mn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ur.prototype={set:function(K){return X(this.options,K),K.touchAction&&this.touchAction.update(),K.inputTarget&&(this.input.destroy(),this.input.target=K.inputTarget,this.input.init()),this},stop:function(K){this.session.stopped=K?2:1},recognize:function(K){var vt=this.session;if(!vt.stopped){var St;this.touchAction.preventDefaults(K);var Nt=this.recognizers,Qt=vt.curRecognizer;(!Qt||Qt&&Qt.state&fi)&&(Qt=vt.curRecognizer=null);for(var ke=0;ke<Nt.length;)St=Nt[ke],vt.stopped===2||Qt&&St!=Qt&&!St.canRecognizeWith(Qt)?St.reset():St.recognize(K),!Qt&&St.state&(kn|Hr|Vi)&&(Qt=vt.curRecognizer=St),ke++}},get:function(K){if(K instanceof Nn)return K;for(var vt=this.recognizers,St=0;St<vt.length;St++)if(vt[St].options.event==K)return vt[St];return null},add:function(K){if(tt(K,"add",this))return this;var vt=this.get(K.options.event);return vt&&this.remove(vt),this.recognizers.push(K),K.manager=this,this.touchAction.update(),K},remove:function(K){if(tt(K,"remove",this))return this;if(K=this.get(K)){var vt=this.recognizers,St=a(vt,K);St!==-1&&(vt.splice(St,1),this.touchAction.update())}return this},on:function(K,vt){if(K!==E&&vt!==E){var St=this.handlers;return nt(l(K),function(Nt){St[Nt]=St[Nt]||[],St[Nt].push(vt)}),this}},off:function(K,vt){if(K!==E){var St=this.handlers;return nt(l(K),function(Nt){vt?St[Nt]&&St[Nt].splice(a(St[Nt],vt),1):delete St[Nt]}),this}},emit:function(K,vt){this.options.domEvents&&function(Qt,ke){var on=j.createEvent("Event");on.initEvent(Qt,!0,!0),on.gesture=ke,ke.target.dispatchEvent(on)}(K,vt);var St=this.handlers[K]&&this.handlers[K].slice();if(St&&St.length){vt.type=K,vt.preventDefault=function(){vt.srcEvent.preventDefault()};for(var Nt=0;Nt<St.length;)St[Nt](vt),Nt++}},destroy:function(){this.element&&Wr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},X(Bn,{INPUT_START:H,INPUT_MOVE:2,INPUT_END:rt,INPUT_CANCEL:at,STATE_POSSIBLE:is,STATE_BEGAN:kn,STATE_CHANGED:Hr,STATE_ENDED:Vi,STATE_RECOGNIZED:fi,STATE_CANCELLED:Ir,STATE_FAILED:32,DIRECTION_NONE:pt,DIRECTION_LEFT:bt,DIRECTION_RIGHT:gt,DIRECTION_UP:I,DIRECTION_DOWN:M,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:dt,DIRECTION_ALL:_t,Manager:Ur,Input:Ot,TouchAction:Xs,TouchInput:Gi,MouseInput:Mt,PointerEventInput:we,TouchMouseInput:Wn,SingleTouchInput:Ln,Recognizer:Nn,AttrRecognizer:yn,Tap:fr,Pan:zi,Swipe:dr,Pinch:Fe,Rotate:Ii,Press:Mn,on:kt,off:p,each:nt,merge:et,extend:ot,assign:X,inherit:ft,bindFn:$,prefixed:v}),(k!==void 0?k:typeof self<"u"?self:{}).Hammer=Bn,(O=(function(){return Bn}).call(q,y,q,V))===E||(V.exports=O)})(window,document)},zUnb:function(V,q,y){"use strict";y.r(q);var O=function(n,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function k(n,t){function e(){this.constructor=n}O(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var j=function(){return(j=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};function A(n,t,e,i){var r,o=arguments.length,s=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var f=n.length-1;f>=0;f--)(r=n[f])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}function E(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function X(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i,r,o=e.call(n),s=[];try{for(;(t===void 0||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(f){r={error:f}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return s}function N(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(z(arguments[t]));return n}var G=Array.isArray||function(n){return n&&typeof n.length=="number"};function B(n){return n!=null&&typeof n=="object"}function Q(n){return typeof n=="function"}var it,Y={e:{}};function tt(){try{return it.apply(this,arguments)}catch(n){return Y.e=n,Y}}function nt(n){return it=n,tt}function Z(n){return Error.call(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(t,e){return e+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n,this}Z.prototype=Object.create(Error.prototype);var ot=Z,et=function(){function n(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return n.prototype.unsubscribe=function(){var e,i=!1;if(!this.closed){var r=this._parent,o=this._parents,s=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var _=-1,S=o?o.length:0;r;)r.remove(this),r=++_<S&&o[_]||null;if(Q(s)&&nt(s).call(this)===Y&&(i=!0,e=e||(Y.e instanceof ot?ft(Y.e.errors):[Y.e])),G(f))for(_=-1,S=f.length;++_<S;){var T=f[_];if(B(T)&&nt(T.unsubscribe).call(T)===Y){i=!0,e=e||[];var F=Y.e;F instanceof ot?e=e.concat(ft(F.errors)):e.push(F)}}if(i)throw new ot(e)}},n.prototype.add=function(e){if(!e||e===n.EMPTY)return n.EMPTY;if(e===this)return this;var i=e;switch(typeof e){case"function":i=new n(e);case"object":if(i.closed||typeof i.unsubscribe!="function")return i;if(this.closed)return i.unsubscribe(),i;if(typeof i._addParent!="function"){var r=i;(i=new n)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},n.prototype.remove=function(e){var i=this._subscriptions;if(i){var r=i.indexOf(e);r!==-1&&i.splice(r,1)}},n.prototype._addParent=function(e){var i=this._parent,r=this._parents;i&&i!==e?r?r.indexOf(e)===-1&&r.push(e):this._parents=[e]:this._parent=e},n.EMPTY=((t=new n).closed=!0,t),n}();function ft(n){return n.reduce(function(t,e){return t.concat(e instanceof ot?e.errors:e)},[])}var $=!1,C={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){$=n},get useDeprecatedSynchronousErrorHandling(){return $}};function mt(n){setTimeout(function(){throw n})}var kt={closed:!0,next:function(n){},error:function(n){if(C.useDeprecatedSynchronousErrorHandling)throw n;mt(n)},complete:function(){}},p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("rxSubscriber"):"@@rxSubscriber",u=function(n){function t(e,i,r){var o,s=n.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=kt;break;case 1:if(!e){s.destination=kt;break}if(typeof e=="object"){if((o=e)instanceof u||"_addParentTeardownLogic"in o&&o[p]){var f=e[p]();s.syncErrorThrowable=f.syncErrorThrowable,s.destination=f,f._addParentTeardownLogic(s)}else s.syncErrorThrowable=!0,s.destination=new h(s,e);break}default:s.syncErrorThrowable=!0,s.destination=new h(s,e,i,r)}return s}return k(t,n),t.prototype[p]=function(){return this},t.create=function(e,i,r){var o=new t(e,i,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e),this._unsubscribeParentSubscription())},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete(),this._unsubscribeParentSubscription())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._addParentTeardownLogic=function(e){e!==this&&(this._parentSubscription=this.add(e))},t.prototype._unsubscribeParentSubscription=function(){this._parentSubscription!==null&&this._parentSubscription.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,i=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=i,this._parentSubscription=null,this},t}(et),h=function(n){function t(e,i,r,o){var s,f=n.call(this)||this;f._parentSubscriber=e;var _=f;return Q(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==kt&&(Q((_=Object.create(i)).unsubscribe)&&f.add(_.unsubscribe.bind(_)),_.unsubscribe=f.unsubscribe.bind(f))),f._context=_,f._next=s,f._error=r,f._complete=o,f}return k(t,n),t.prototype.next=function(e){if(!this.isStopped&&this._next){var i=this._parentSubscriber;C.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var i=this._parentSubscriber,r=C.useDeprecatedSynchronousErrorHandling;if(this._error)r&&i.syncErrorThrowable?(this.__tryOrSetError(i,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(i.syncErrorThrowable)r?(i.syncErrorValue=e,i.syncErrorThrown=!0):mt(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;mt(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};C.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?(this.__tryOrSetError(i,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,i){try{e.call(this._context,i)}catch(r){if(this.unsubscribe(),C.useDeprecatedSynchronousErrorHandling)throw r;mt(r)}},t.prototype.__tryOrSetError=function(e,i,r){if(!C.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,r)}catch(o){return C.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(mt(o),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u),l=typeof Symbol=="function"&&Symbol.observable||"@@observable";function a(){}var c=function(){function n(t){this._isScalar=!1,t&&(this._subscribe=t)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(t,e,i){var r=this.operator,o=function(s,f,_){if(s){if(s instanceof u)return s;if(s[p])return s[p]()}return s||f||_?new u(s,f,_):new u(kt)}(t,e,i);if(r?r.call(o,this.source):o._addParentTeardownLogic(this.source||C.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),C.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},n.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){C.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},n.prototype.forEach=function(t,e){var i=this;return new(e=m(e))(function(r,o){var s;s=i.subscribe(function(f){try{t(f)}catch(_){o(_),s&&s.unsubscribe()}},o,r)})},n.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},n.prototype[l]=function(){return this},n.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:((i=t)?i.length===1?i[0]:function(r){return i.reduce(function(o,s){return s(o)},r)}:a)(this);var i},n.prototype.toPromise=function(t){var e=this;return new(t=m(t))(function(i,r){var o;e.subscribe(function(s){return o=s},function(s){return r(s)},function(){return i(o)})})},n.create=function(t){return new n(t)},n}();function m(n){if(n||(n=C.Promise||Promise),!n)throw new Error("no Promise impl found");return n}function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}v.prototype=Object.create(Error.prototype);var g=v,b=function(n){function t(e,i){var r=n.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return k(t,n),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,i=e.observers;if(this.subject=null,i&&i.length!==0&&!e.isStopped&&!e.closed){var r=i.indexOf(this.subscriber);r!==-1&&i.splice(r,1)}}},t}(et),w=function(n){function t(e){var i=n.call(this,e)||this;return i.destination=e,i}return k(t,n),t}(u),x=function(n){function t(){var e=n.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return k(t,n),t.prototype[p]=function(){return new w(this)},t.prototype.lift=function(e){var i=new R(this,this);return i.operator=e,i},t.prototype.next=function(e){if(this.closed)throw new g;if(!this.isStopped)for(var i=this.observers,r=i.length,o=i.slice(),s=0;s<r;s++)o[s].next(e)},t.prototype.error=function(e){if(this.closed)throw new g;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var i=this.observers,r=i.length,o=i.slice(),s=0;s<r;s++)o[s].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new g;this.isStopped=!0;for(var e=this.observers,i=e.length,r=e.slice(),o=0;o<i;o++)r[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new g;return n.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new g;return this.hasError?(e.error(this.thrownError),et.EMPTY):this.isStopped?(e.complete(),et.EMPTY):(this.observers.push(e),new b(this,e))},t.prototype.asObservable=function(){var e=new c;return e.source=this,e},t.create=function(e,i){return new R(e,i)},t}(c),R=function(n){function t(e,i){var r=n.call(this)||this;return r.destination=e,r.source=i,r}return k(t,n),t.prototype.next=function(e){var i=this.destination;i&&i.next&&i.next(e)},t.prototype.error=function(e){var i=this.destination;i&&i.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):et.EMPTY},t}(x);function L(n){return n&&typeof n.schedule=="function"}var H=function(n){function t(e,i,r){var o=n.call(this)||this;return o.parent=e,o.outerValue=i,o.outerIndex=r,o.index=0,o}return k(t,n),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(u),rt=function(n){return function(t){for(var e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.closed||t.complete()}},at=function(n){return function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,mt),t}};function pt(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}var bt=pt(),gt=function(n){return function(t){for(var e=n[bt]();;){var i=e.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}},I=function(n){return function(t){var e=n[l]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}},M=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function W(n){return n&&typeof n.subscribe!="function"&&typeof n.then=="function"}var dt=function(n){if(n instanceof c)return function(e){return n._isScalar?(e.next(n.value),void e.complete()):n.subscribe(e)};if(n&&typeof n[l]=="function")return I(n);if(M(n))return rt(n);if(W(n))return at(n);if(n&&typeof n[bt]=="function")return gt(n);var t=B(n)?"an invalid object":"'"+n+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function _t(n,t,e,i,r){if(r===void 0&&(r=new H(n,e,i)),!r.closed)return dt(t)(r)}var Et=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.notifyNext=function(e,i,r,o,s){this.destination.next(i)},t.prototype.notifyError=function(e,i){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(u);function Ct(n,t){return function(e){if(typeof n!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Ot(n,t))}}var Ot=function(){function n(t,e){this.project=t,this.thisArg=e}return n.prototype.call=function(t,e){return e.subscribe(new Xt(t,this.project,this.thisArg))},n}(),Xt=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.project=i,o.count=0,o.thisArg=r||o,o}return k(t,n),t.prototype._next=function(e){var i;try{i=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(i)},t}(u);function Ht(n,t){return new c(t?function(e){var i=new et,r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i}:rt(n))}function Kt(n,t){if(!t)return n instanceof c?n:new c(dt(n));if(n!=null){if(function(e){return e&&typeof e[l]=="function"}(n))return function(e,i){return new c(i?function(r){var o=new et;return o.add(i.schedule(function(){var s=e[l]();o.add(s.subscribe({next:function(f){o.add(i.schedule(function(){return r.next(f)}))},error:function(f){o.add(i.schedule(function(){return r.error(f)}))},complete:function(){o.add(i.schedule(function(){return r.complete()}))}}))})),o}:I(e))}(n,t);if(W(n))return function(e,i){return new c(i?function(r){var o=new et;return o.add(i.schedule(function(){return e.then(function(s){o.add(i.schedule(function(){r.next(s),o.add(i.schedule(function(){return r.complete()}))}))},function(s){o.add(i.schedule(function(){return r.error(s)}))})})),o}:at(e))}(n,t);if(M(n))return Ht(n,t);if(function(e){return e&&typeof e[bt]=="function"}(n)||typeof n=="string")return function(e,i){if(!e)throw new Error("Iterable cannot be null");return new c(i?function(r){var o,s=new et;return s.add(function(){o&&typeof o.return=="function"&&o.return()}),s.add(i.schedule(function(){o=e[bt](),s.add(i.schedule(function(){if(!r.closed){var f,_;try{var S=o.next();f=S.value,_=S.done}catch(T){return void r.error(T)}_?r.complete():(r.next(f),this.schedule())}}))})),s}:gt(e))}(n,t)}throw new TypeError((n!==null&&typeof n||n)+" is not observable")}function It(n,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(i){return i.pipe(It(function(r,o){return Kt(n(r,o)).pipe(Ct(function(s,f){return t(r,s,o,f)}))},e))}:(typeof t=="number"&&(e=t),function(i){return i.lift(new Vt(n,e))})}var Vt=function(){function n(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return n.prototype.call=function(t,e){return e.subscribe(new zt(t,this.project,this.concurrent))},n}(),zt=function(n){function t(e,i,r){r===void 0&&(r=Number.POSITIVE_INFINITY);var o=n.call(this,e)||this;return o.project=i,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return k(t,n),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var i,r=this.index++;try{i=this.project(e,r)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(i,e,r)},t.prototype._innerSub=function(e,i,r){var o=new H(this,void 0,void 0);this.add(o),_t(this,e,i,r,o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},t.prototype.notifyNext=function(e,i,r,o,s){this.destination.next(i)},t.prototype.notifyComplete=function(e){var i=this.buffer;this.remove(e),this.active--,i.length>0?this._next(i.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Et);function Jt(n){return n}function ut(n){return n===void 0&&(n=Number.POSITIVE_INFINITY),It(Jt,n)}function ht(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Number.POSITIVE_INFINITY,i=null,r=n[n.length-1];return L(r)?(i=n.pop(),n.length>1&&typeof n[n.length-1]=="number"&&(e=n.pop())):typeof r=="number"&&(e=n.pop()),i===null&&n.length===1&&n[0]instanceof c?n[0]:ut(e)(Ht(n,i))}function Ft(){return function(n){return n.lift(new Mt(n))}}var Mt=function(){function n(t){this.connectable=t}return n.prototype.call=function(t,e){var i=this.connectable;i._refCount++;var r=new Ut(t,i),o=e.subscribe(r);return r.closed||(r.connection=i.connect()),o},n}(),Ut=function(n){function t(e,i){var r=n.call(this,e)||this;return r.connectable=i,r}return k(t,n),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var i=e._refCount;if(i<=0)this.connection=null;else if(e._refCount=i-1,i>1)this.connection=null;else{var r=this.connection,o=e._connection;this.connection=null,!o||r&&o!==r||o.unsubscribe()}}else this.connection=null},t}(u),ae=function(n){function t(e,i){var r=n.call(this)||this;return r.source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return k(t,n),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new et).add(this.source.subscribe(new Ae(this.getSubject(),this))),e.closed?(this._connection=null,e=et.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return Ft()(this)},t}(c).prototype,se={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ae._subscribe},_isComplete:{value:ae._isComplete,writable:!0},getSubject:{value:ae.getSubject},connect:{value:ae.connect},refCount:{value:ae.refCount}},Ae=function(n){function t(e,i){var r=n.call(this,e)||this;return r.connectable=i,r}return k(t,n),t.prototype._error=function(e){this._unsubscribe(),n.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var i=e._connection;e._refCount=0,e._subject=null,e._connection=null,i&&i.unsubscribe()}},t}(w);function we(){return new x}function be(){return function(n){return Ft()((t=we,function(e){var i;i=typeof t=="function"?t:function(){return t};var r=Object.create(e,se);return r.source=e,r.subjectFactory=i,r})(n));var t}}function Ue(n){for(var t in n)if(n[t]===Ue)return t;throw Error("Could not find renamed property on target object.")}var Jn=Ue({ngComponentDef:Ue}),Ln=Ue({ngInjectableDef:Ue}),di=Ue({ngInjectorDef:Ue}),xo=Ue({ngModuleDef:Ue}),Gi=Ue({__NG_ELEMENT_ID__:Ue});function Ce(n){return{providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wn(n){return n&&n.hasOwnProperty(Ln)?n[Ln]:null}function ns(n){return n&&n.hasOwnProperty(di)?n[di]:null}var de=function(){function n(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=e!==void 0?Ce({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return n.prototype.toString=function(){return"InjectionToken "+this._desc},n}(),Or="__parameters__";function Tr(n,t,e){var i=function(o){return function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];if(o){var _=o.apply(void 0,N(s));for(var S in _)this[S]=_[S]}}}(t);function r(){for(var o,s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];if(this instanceof r)return i.apply(this,s),this;var _=new((o=r).bind.apply(o,N([void 0],s)));return S.annotation=_,S;function S(T,F,U){for(var J=T.hasOwnProperty(Or)?T[Or]:Object.defineProperty(T,Or,{value:[]})[Or];J.length<=U;)J.push(null);return(J[U]=J[U]||[]).push(_),T}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r}var Xs=typeof window<"u"&&window,is=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,kn=typeof global<"u"&&global||Xs||is,Hr=Promise.resolve(0),Vi=null;function fi(){if(!Vi){var n=kn.Symbol;if(n&&n.iterator)Vi=n.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var i=t[e];i!=="entries"&&i!=="size"&&Map.prototype[i]===Map.prototype.entries&&(Vi=i)}}return Vi}function Ir(n){typeof Zone>"u"?Hr.then(function(){n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Nn(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)}function sn(n){if(typeof n=="string")return n;if(n instanceof Array)return"["+n.map(sn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return""+n.overriddenName;if(n.name)return""+n.name;var t=n.toString();if(t==null)return""+t;var e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}var bl=Ue({__forward_ref__:Ue});function Co(n){return n.__forward_ref__=Co,n.toString=function(){return sn(this())},n}function yn(n){var t=n;return typeof t=="function"&&t.hasOwnProperty(bl)&&t.__forward_ref__===Co?t():n}var zi=function(n){return n[n.Emulated=0]="Emulated",n[n.Native=1]="Native",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}({}),Fe=0,Mn=1,Ii=2,dr=3,fr=5,Bn=6,Ur=7,Wr=8,K=9,vt=10,St=11,Nt=12,Qt=13,ke=15,on=17,ze=18,Je=0,Rn=1,li=6,rs=8,So="__ngContext__",Ar=8,ko=8,_l=9,os=-1,Ys=function(){return function(n,t,e){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=e}}(),Xr=Ys.prototype;function Eo(n){return typeof n=="function"?n.name||n:typeof n=="string"?n:n==null?"":typeof n=="object"&&typeof n.type=="function"?n.type.name||n.type:""+n}function xi(n){for(;Array.isArray(n);)n=n[fr];return n}function Yn(n,t){return xi(t[n.index])}function Ai(n,t){var e=t[n];return e.length>=ze?e:e[fr]}function gr(n){return n.template!==null}function mr(n){return n[So]}function rr(n){var t=mr(n);return t?Array.isArray(t)?t:t.lView:null}function qi(n){return 32767&n}function ss(n,t){for(var e=n>>16,i=t;e>0;)i=i[on],e--;return i}var Gs=(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(kn);function qs(n){for(var t=n[Bn];t&&t.type===2;)t=(n=n[on])[Bn];return n}var vr,Ks,wl,Ki,Zs=Tr("Inject",function(n){return{token:n}}),as=Tr("Optional"),Js=Tr("Self"),Oo=Tr("SkipSelf"),fn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}({}),Qs=void 0;function xl(n){var t=Qs;return Qs=n,t}function hf(n){var t=vr;return vr=n,t}function re(n,t){return t===void 0&&(t=fn.Default),(vr||function(e,i){if(i===void 0&&(i=fn.Default),Qs===void 0)throw new Error("inject() must be called from an injection context");return Qs===null?pf(e,void 0,i):Qs.get(e,i&fn.Optional?null:void 0,i)})(n,t)}function pf(n,t,e){var i=Wn(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&fn.Optional)return null;if(t!==void 0)return t;throw new Error("Injector: NOT_FOUND ["+sn(n)+"]")}function bc(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(Array.isArray(i)){if(i.length===0)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=fn.Default,s=0;s<i.length;s++){var f=i[s];f instanceof as||f.ngMetadataName==="Optional"?o|=fn.Optional:f instanceof Oo||f.ngMetadataName==="SkipSelf"?o|=fn.SkipSelf:f instanceof Js||f.ngMetadataName==="Self"?o|=fn.Self:r=f instanceof Zs?f.token:f}t.push(re(r,o))}else t.push(re(i))}return t}function N_(n,t,e){n.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(e,n.afterContentInit),n.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(e,n.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,n.afterContentChecked))}function B_(n,t,e){n.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(e,n.afterViewInit),n.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(e,n.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,n.afterViewChecked))}function V_(n,t,e){n.onDestroy!=null&&(t.destroyHooks||(t.destroyHooks=[])).push(e,n.onDestroy)}function _c(n,t,e,i){if(!i){var r=2&n[Mn]?t:e;r&&wc(n,r)}}function wc(n,t){for(var e=0;e<t.length;e+=2)t[e+1].call(n[t[e]])}function To(){return Ki}function Io(){return Ks}function Cl(n){Ks=n}function Sl(n,t){Ks=n,Ki=t}function xc(){return wl}function kl(n){wl=n}function Ao(n){return n===void 0&&(n=Ki),(1&n[Mn])==1}var Cc=!1;function df(){return Cc}function El(n){Cc=n}var Sc=!0;function z_(){return Sc}function ff(n){Sc=n}function $s(n,t){var e=Ki;return n&&(Sc=n[Fe].firstTemplatePass),Ks=t,wl=!0,Ki=n,e}function Ol(n){var t=Ki[Fe];Ao(Ki)?Ki[Mn]&=-2:(_c(Ki,t.viewHooks,t.viewCheckHooks,Cc),Ki[Mn]&=-11,Ki[Mn]|=32,Ki[Ur]=t.bindingStartIndex),$s(n,null)}var kc=!0;function gf(n){var t=kc;return kc=n,t}var mf=255,H_=0;function Ec(n,t){n.push(0,0,0,0,0,0,0,0,t)}function vf(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+ko]==null?-1:n.injectorIndex}function yf(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;for(var e=t[Bn],i=1;e&&e.injectorIndex===-1;)e=(t=t[on])?t[Bn]:null,i++;return e?e.injectorIndex|i<<16:-1}var bf={};function U_(n,t,e,i,r,o){var s=t[Fe],f=s.data[n+Ar],_=function(S,T,F,U,J){for(var ct=S.providerIndexes,st=T[Fe].data,xt=65535&ct,yt=S.directiveStart,Dt=ct>>16,Pt=J?xt+Dt:S.directiveEnd,At=U?xt:xt+Dt;At<Pt;At++){var qt=st[At];if(At<yt&&F===qt||At>=yt&&qt.type===F)return At}if(J){var Zt=st[yt];if(Zt&&gr(Zt)&&Zt.type===F)return yt}return null}(f,t,e,i==null?function(S){return(1&S.flags)==1}(f)&&kc:i!=s&&f.type===3,r&fn.Host&&o===f);return _!==null?_f(s.data,t,_,f):bf}function _f(n,t,e,i){var r,o=t[e];if((r=o)!=null&&typeof r=="object"&&Object.getPrototypeOf(r)==Xr){var s=o;if(s.resolving)throw new Error("Circular dep for "+Eo(n[e]));var f=gf(s.canSeeViewProviders);s.resolving=!0;var _=void 0;s.injectImpl&&(_=hf(s.injectImpl));var S=Io(),T=To();Sl(i,t);try{o=t[e]=s.factory(null,n,t,i)}finally{s.injectImpl&&hf(_),gf(f),s.resolving=!1,Sl(S,T)}}return o}function wf(n,t,e){var i=64&n,r=32&n;return!!((128&n?i?r?e[t+7]:e[t+6]:r?e[t+5]:e[t+4]:i?r?e[t+3]:e[t+2]:r?e[t+1]:e[t])&1<<n)}function xf(n,t){return!(n&fn.Self||n&fn.Host&&t)}var W_=function(){function n(t,e){this._tNode=t,this._lView=e}return n.prototype.get=function(t,e){return function(i,r,o,s,f){if(s===void 0&&(s=fn.Default),i){var _=function(Pt){if(typeof Pt=="string")return Pt.charCodeAt(0)||0;var At=Pt[Gi];return typeof At=="number"?At&mf:At}(o);if(typeof _=="function"){var S=Io(),T=To();Sl(i,r);try{var F=_();if(F!=null||s&fn.Optional)return F;throw new Error("No provider for "+Eo(o)+"!")}finally{Sl(S,T)}}else if(typeof _=="number"){var U=null,J=vf(i,r),ct=os,st=s&fn.Host?qs(r)[Bn]:null;for((J===-1||s&fn.SkipSelf)&&(ct=J===-1?yf(i,r):r[J+ko],xf(s,!1)?(U=r[Fe],J=qi(ct),r=ss(ct,r)):J=-1);J!==-1;){ct=r[J+ko];var xt=r[Fe];if(wf(_,J,xt.data)){var yt=U_(J,r,o,U,s,st);if(yt!==bf)return yt}xf(s,r[Fe].data[J+Ar]===st)&&wf(_,J,r)?(U=xt,J=qi(ct),r=ss(ct,r)):J=-1}}}if(s&fn.Optional&&f===void 0&&(f=null),(s&(fn.Self|fn.Host))==0){var Dt=r[vt];return Dt?Dt.get(o,f,s&fn.Optional):pf(o,f,s&fn.Optional)}if(s&fn.Optional)return f;throw new Error("NodeInjector: NOT_FOUND ["+Eo(o)+"]")}(this._tNode,this._lView,t,void 0,e)},n}();function Tl(n,t){n[So]=t}var X_=/([A-Z])/g;function Y_(n){try{return n!=null?n.toString().slice(0,30):n}catch{return"[ERROR] Exception while trying to serialize the value"}}function Cf(n,t){var e=ta(n),i=ta(t);return e&&i?function(r,o,s){for(var f=r[fi()](),_=o[fi()]();;){var S=f.next(),T=_.next();if(S.done&&T.done)return!0;if(S.done||T.done||!s(S.value,T.value))return!1}}(n,t,Cf):!(e||!n||typeof n!="object"&&typeof n!="function"||i||!t||typeof t!="object"&&typeof t!="function")||Nn(n,t)}var ls=function(){function n(t){this.wrapped=t}return n.wrap=function(t){return new n(t)},n.unwrap=function(t){return n.isWrapped(t)?t.wrapped:t},n.isWrapped=function(t){return t instanceof n},n}(),G_=function(){function n(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}return n.prototype.isFirstChange=function(){return this.firstChange},n}();function ta(n){return!!Oc(n)&&(Array.isArray(n)||!(n instanceof Map)&&fi()in n)}function Oc(n){return n!==null&&(typeof n=="function"||typeof n=="object")}var q_={},K_="ngProjectAs";function Yr(n){return!!n.listen}var Z_={createRenderer:function(n,t){return document}},Il=[];function Tc(n,t,e,i,r){n===0?Yr(t)?t.insertBefore(e,i,r):e.insertBefore(i,r,!0):n===1?Yr(t)?t.removeChild(e,i):e.removeChild(i):n===2&&t.destroyNode(i)}function Ic(n){var t=n[Fe].childIndex;return t===-1?null:n[t]}function J_(n,t){var e;return n.length>=ze&&(e=n[Bn])&&e.type===2?function(i,r){if(i.index===-1){var o=n[ke];return o>-1?n[Ii][o]:null}return n[Ii][i.parent.index]}(e):n[Ii]===t?null:n[Ii]}function Ac(n){if(n.length>=ze){var t=n;(function(o){var s,f=o[Fe];f!=null&&(s=f.destroyHooks)!=null&&wc(o,s)})(t),(r=(i=t)[Fe]&&i[Fe].pipeDestroyHooks)&&wc(i,r),function(o){var s=o[Fe].cleanup;if(s!=null){for(var f=o[Wr],_=0;_<s.length-1;_+=2)if(typeof s[_]=="string"){var S=f[s[_+2]],T=xi(o[s[_+1]]),F=s[_+3];typeof F=="boolean"?T.removeEventListener(s[_],S,F):F>=0?f[F]():f[-F].unsubscribe(),_+=2}else typeof s[_]=="number"?(0,f[s[_]])():s[_].call(f[s[_+1]]);o[Wr]=null}}(t);var e=t[Bn];e&&e.type===3&&Yr(t[Nt])&&t[Nt].destroy()}var i,r}var Q_="@",Pc=Promise.resolve(null);function ea(n){var t=n[Fe];if(t.firstTemplatePass=!1,ff(!1),!Ao(n)){var e=df();(function(i,r,o){!o&&32&i[Mn]&&(_c(i,r.initHooks,r.checkHooks,o),i[Mn]&=-33)})(n,t,e),function(i){for(var r=Ic(i);r!==null;r=r[dr])if(r.length<ze&&r[Je]===-1)for(var o=r,s=0;s<o[Rn].length;s++){var f=o[Rn][s];$_(f,f[Fe],f[K])}}(n),function(i){if(i.contentQueries!=null)for(var r=0;r<i.contentQueries.length;r+=2){var o=i.contentQueries[r];i.data[o].contentQueriesRefresh(o-ze,i.contentQueries[r+1])}}(t),_c(n,t.contentHooks,t.contentCheckHooks,e),function(i,r){if(i.expandoInstructions)for(var o=r[Ur]=i.expandoStartIndex,s=-1,f=-1,_=0;_<i.expandoInstructions.length;_++){var S=i.expandoInstructions[_];if(typeof S=="number")if(S<=0){f=-S;var T=i.expandoInstructions[++_];s=o+=_l+T}else o+=S;else S!==null&&(r[Ur]=o,S(2,xi(r[s]),f)),s++}}(t,n)}(function(i){if(i!=null)for(var r=0;r<i.length;r++)(16&(o=Ai(i[r],To()))[Mn])==16&&12&o[Mn]&&(function(s){for(var f=s[Fe],_=s.length;_<f.blueprint.length;_++)s[_]=f.blueprint[_]}(o),jc(o,o[K]));var o})(t.components)}function Sf(n,t,e,i,r,o,s,f){var _=t.blueprint.slice();return _[Mn]=51|i,_[Ii]=_[on]=n,_[K]=e,_[St]=r||n&&n[St],_[Nt]=o||n&&n[Nt],_[Qt]=s||n&&n[Qt]||null,_[vt]=f||n&&n[vt]||null,_}function kf(n,t,e,i,r){var o=To(),s=o[Fe],f=n+ze;o[f]=e;var _=s.data[f];_==null&&(_=s.data[f]=Tf(o,t,f,i,r,null));var S=Io(),T=xc();return S&&(!T||S.child!=null||_.parent===null&&S.type!==2?T||(S.next=_):S.child=_),s.firstChild==null&&(s.firstChild=_),Cl(_),kl(!0),_}function $_(n,t,e){var i,r=xc(),o=Io();if(kl(!0),Cl(null),128&n[Mn])Rc(function(s){for(var f=Array.isArray(s)?s:rr(s);f&&!(128&f[Mn]);)f=f[Ii];return f}(n)[K]);else try{kl(!0),Cl(null),i=$s(n,n[Bn]),Dc(),t.template(Ef(n),e),n[Fe].firstTemplatePass=!1,ff(!1),ea(n)}finally{Ol(i),kl(r),Cl(o)}}function t1(n,t,e){var i=n[St],r=$s(n,n[Bn]),o=!df();try{o&&i.begin&&i.begin(),Ao(n)&&(e&&(Dc(),e(1,t)),ea(n),n[Mn]&=-2),e&&e(2,t),ea(n)}finally{o&&i.end&&i.end(),Ol(r)}}function Ef(n){return Ao(n)?1:2}var Al=null;function Dc(){Al=null}function Of(n,t,e,i,r,o,s){var f=ze+e,_=f+i,S=function(T,F){var U=new Array(F).fill(null,0,T).fill(q_,T);return U[ke]=-1,U[Ur]=T,U}(f,_);return S[Fe]={id:n,blueprint:S,template:t,viewQuery:s,node:null,data:S.slice(),childIndex:-1,bindingStartIndex:f,expandoStartIndex:_,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof o=="function"?o():o,firstChild:null}}function Tf(n,t,e,i,r,o){var s=Io(),f=xc()?s:s&&s.parent,_=f&&n&&f!==n[Bn]?f:null;return{type:t,index:e,injectorIndex:_?_.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:i,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:_,detached:null,stylingTemplate:null,projection:null}}function Rc(n){for(var t=0;t<n.components.length;t++){var e=n.components[t];t1(rr(e),e)}}function If(n,t){var e=n[St];e.begin&&e.begin(),Ao(n)&&jc(n,t),jc(n,t),e.end&&e.end()}function Af(n){Rc(n[K])}function jc(n,t){var e=n[Fe],i=$s(n,n[Bn]),r=e.template,o=e.viewQuery;try{Dc(),function(s,f,_){s&&Ao(n)&&s(1,_)}(o,0,t),r(Ef(n),t),ea(n),function(s,f,_){s&&!Ao(n)&&s(2,_)}(o,0,t)}finally{Ol(i)}}var e1=Pc;function n1(n,t,e,i,r,o){wl=!1,Ks=null;var s,f=e[Fe],_=Sf(e,(s=t.template).ngPrivateData||(s.ngPrivateData=Of(-1,s,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery)),null,t.onPush?8:4,i,r,o),S=kf(0,3,n,null,null);return f.firstTemplatePass&&(function(T,F,U){var J=typeof U!="string"?U[Gi]:U.charCodeAt(0)||0;J==null&&(J=U[Gi]=H_++);var ct=J&mf,st=1<<ct,xt=64&ct,yt=32&ct,Dt=F.data;128&ct?xt?yt?Dt[T+7]|=st:Dt[T+6]|=st:yt?Dt[T+5]|=st:Dt[T+4]|=st:xt?yt?Dt[T+3]|=st:Dt[T+2]|=st:yt?Dt[T+1]|=st:Dt[T]|=st}(function(T,F){var U=vf(T,F);if(U!==-1)return U;var J=F[Fe];J.firstTemplatePass&&(T.injectorIndex=F.length,Ec(J.data,T),Ec(F,null),Ec(J.blueprint,null));var ct=yf(T,F),st=qi(ct),xt=ss(ct,F),yt=T.injectorIndex;if(ct!==os)for(var Dt=xt[Fe].data,Pt=0;Pt<8;Pt++)F[yt+Pt]=xt[st+Pt]|Dt[st+Pt];return F[yt+ko]=ct,yt}(S,e),e[Fe],t.type),S.flags=1,function(T,F,U){T.flags=1&T.flags,T.directiveStart=F,T.directiveEnd=F+1,T.providerIndexes=F}(S,e.length),function(T){var F=To()[Fe];(F.components||(F.components=[])).push(T.index)}(S)),_[fr]=e[ze],_[Bn]=S,e[ze]=_}function i1(n,t,e,i,r){var o=e[Fe],s=function(_,S,T){var F=Io();_.firstTemplatePass&&(T.providersResolver&&T.providersResolver(T),function(J,ct,st){var xt=-(F.index-ze),yt=J.data.length-(65535&F.providerIndexes);(J.expandoInstructions||(J.expandoInstructions=[])).push(xt,yt,1)}(_),function(J,ct,st,xt){J.data.push(st);var yt=new Ys(xt,gr(st),null);J.blueprint.push(yt),ct.push(yt)}(_,S,T,T.factory));var U=_f(_.data,S,S.length-1,F);return function(J,ct,st,xt){var yt=Yn(ct,J);Tl(st,J),yt&&Tl(yt,J),xt.attributes!=null&&ct.type==3&&function(Dt,Pt){for(var At=To()[Nt],qt=Yr(At),Zt=0;Zt<Pt.length;){var ie=Pt[Zt++];if(typeof ie=="number"){if(ie!==0)break;var ce=Pt[Zt++],Yt=Pt[Zt++],Wt=Pt[Zt++];qt?At.setAttribute(Dt,Yt,Wt,ce):Dt.setAttributeNS(ce,Yt,Wt)}else Wt=Pt[Zt++],ie!==K_&&(ie[0]===Q_?qt&&At.setProperty(Dt,ie,Wt):qt?At.setAttribute(Dt,ie,Wt):Dt.setAttribute(ie,Wt))}}(yt,xt.attributes)}(S,F,U,T),U}(o,e,t);if(i.components.push(s),n[K]=s,r&&r.forEach(function(_){return _(s,t)}),o.firstTemplatePass&&t.hostBindings){var f=Io();t.hostBindings(1,s,f.index-ze)}return s}function Pf(n,t){return{components:[],scheduler:n||Gs,clean:e1,playerHandler:t||null,flags:0}}function r1(n,t){var e,i,r,o,s=rr(n)[Fe],f=s.data.length-1;e=f,r=t.doCheck,o=s,(i=t.onInit)&&(o.initHooks||(o.initHooks=[])).push(e,i),r&&((o.initHooks||(o.initHooks=[])).push(e,r),(o.checkHooks||(o.checkHooks=[])).push(e,r)),function(_,S){if(_.firstTemplatePass)for(var T=S.directiveStart,F=S.directiveEnd;T<F;T++){var U=_.data[T];N_(U,_,T),B_(U,_,T),V_(U,_,T)}}(s,{directiveStart:f,directiveEnd:f+1})}function na(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t]}var Fc="__source",Pl=new Object,Dl=Pl,Pr=new de("INJECTOR"),Df=function(){function n(){}return n.prototype.get=function(t,e){if(e===void 0&&(e=Pl),e===Pl)throw new Error("NullInjectorError: No provider for "+sn(t)+"!");return e},n}(),In=function(){function n(){}return n.create=function(t,e){return Array.isArray(t)?new Ff(t,e):new Ff(t.providers,t.parent,t.name||null)},n.THROW_IF_NOT_FOUND=Pl,n.NULL=new Df,n.ngInjectableDef=Ce({providedIn:"any",factory:function(){return re(Pr)}}),n.__NG_ELEMENT_ID__=function(){return o1()},n}(),o1=na,Rl=function(n){return n},Gr=[],Mc=Rl,Lc=function(){return Array.prototype.slice.call(arguments)},Nc=Ue({provide:String,useValue:Ue}),Rf=In.NULL,s1=/\n/gm,jf="\u0275",Ff=function(){function n(t,e,i){e===void 0&&(e=Rf),i===void 0&&(i=null),this.parent=e,this.source=i;var r=this._records=new Map;r.set(In,{token:In,fn:Rl,deps:Gr,value:this,useNew:!1}),r.set(Pr,{token:Pr,fn:Rl,deps:Gr,value:this,useNew:!1}),function o(s,f){if(f)if((f=yn(f))instanceof Array)for(var _=0;_<f.length;_++)o(s,f[_]);else{if(typeof f=="function")throw ia("Function/Class not supported",f);if(!f||typeof f!="object"||!f.provide)throw ia("Unexpected provider",f);var S=yn(f.provide),T=function(J){var ct=function(Pt){var At=Gr,qt=Pt.deps;if(qt&&qt.length){At=[];for(var Zt=0;Zt<qt.length;Zt++){var ie=6;if((Le=yn(qt[Zt]))instanceof Array)for(var ce=0,Yt=Le;ce<Yt.length;ce++){var Wt=Yt[ce];Wt instanceof as||Wt==as?ie|=1:Wt instanceof Oo||Wt==Oo?ie&=-3:Wt instanceof Js||Wt==Js?ie&=-5:Le=Wt instanceof Zs?Wt.token:yn(Wt)}At.push({token:Le,options:ie})}}else if(Pt.useExisting){var Le;At=[{token:Le=yn(Pt.useExisting),options:6}]}else if(!(qt||Nc in Pt))throw ia("'deps' required",Pt);return At}(J),st=Rl,xt=Gr,yt=!1,Dt=yn(J.provide);if(Nc in J)xt=J.useValue;else if(J.useFactory)st=J.useFactory;else if(!J.useExisting)if(J.useClass)yt=!0,st=yn(J.useClass);else{if(typeof Dt!="function")throw ia("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",J);yt=!0,st=Dt}return{deps:ct,fn:st,useNew:yt,value:xt}}(f);if(f.multi===!0){var F=s.get(S);if(F){if(F.fn!==Lc)throw Mf(S)}else s.set(S,F={token:f.provide,deps:[],useNew:!1,fn:Lc,value:Gr});F.deps.push({token:S=f,options:6})}var U=s.get(S);if(U&&U.fn==Lc)throw Mf(S);s.set(S,T)}}(r,t)}return n.prototype.get=function(t,e,i){i===void 0&&(i=fn.Default);var r=this._records.get(t);try{return function s(f,_,S,T,F,U){try{return function(J,ct,st,xt,yt,Dt){var Pt,At;if(!ct||Dt&fn.SkipSelf)Dt&fn.Self||(At=xt.get(J,yt,fn.Default));else{if((At=ct.value)==Mc)throw Error(jf+"Circular dependency");if(At===Gr){ct.value=Mc;var qt=ct.useNew,Zt=ct.fn,ie=ct.deps,ce=Gr;if(ie.length){ce=[];for(var Yt=0;Yt<ie.length;Yt++){var Wt=ie[Yt],Le=Wt.options,Ke=2&Le?st.get(Wt.token):void 0;ce.push(s(Wt.token,Ke,st,Ke||4&Le?xt:Rf,1&Le?null:In.THROW_IF_NOT_FOUND,fn.Default))}}ct.value=At=qt?new((Pt=Zt).bind.apply(Pt,N([void 0],ce))):Zt.apply(void 0,ce)}}return At}(f,_,S,T,F,U)}catch(J){throw J instanceof Error||(J=new Error(J)),(J.ngTempTokenPath=J.ngTempTokenPath||[]).unshift(f),_&&_.value==Mc&&(_.value=Gr),J}}(t,r,this._records,this.parent,e,i)}catch(s){var o=s.ngTempTokenPath;throw t[Fc]&&o.unshift(t[Fc]),s.message=Lf(`
`+s.message,o,this.source),s.ngTokenPath=o,s.ngTempTokenPath=null,s}},n.prototype.toString=function(){var t=[];return this._records.forEach(function(e,i){return t.push(sn(i))}),"StaticInjector["+t.join(", ")+"]"},n}();function Mf(n){return ia("Cannot mix multi providers and regular providers",n)}function Lf(n,t,e){e===void 0&&(e=null),n=n&&n.charAt(0)===`
`&&n.charAt(1)==jf?n.substr(2):n;var i=sn(t);if(t instanceof Array)i=t.map(sn).join(" -> ");else if(typeof t=="object"){var r=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];r.push(o+":"+(typeof s=="string"?JSON.stringify(s):sn(s)))}i="{"+r.join(", ")+"}"}return"StaticInjectorError"+(e?"("+e+")":"")+"["+i+"]: "+n.replace(s1,`
  `)}function ia(n,t){return new Error(Lf(n,t))}var Bc=new de("The presence of this token marks an injector as being the root injector."),ra={},Nf={},a1=[],Vc=void 0;function Bf(){return Vc===void 0&&(Vc=new Df),Vc}var l1=function(){function n(t,e,i){var r=this;this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var o=[];cs([t],function(s){return r.processInjectorType(s,[],o)}),e&&cs(e,function(s){return r.processProvider(s,t,e)}),this.records.set(Pr,us(void 0,this)),this.isRootInjector=this.records.has(Bc),this.injectorDefTypes.forEach(function(s){return r.get(s)})}return n.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},n.prototype.get=function(t,e,i){e===void 0&&(e=Dl),i===void 0&&(i=fn.Default),this.assertNotDestroyed();var r,o=xl(this);try{if(!(i&fn.SkipSelf)){var s=this.records.get(t);if(s===void 0){var f=(typeof(r=t)=="function"||typeof r=="object"&&r instanceof de)&&Wn(t);f&&this.injectableDefInScope(f)&&(s=us(zc(t),ra),this.records.set(t,s))}if(s!==void 0)return this.hydrate(t,s)}return(i&fn.Self?Bf():this.parent).get(t,e)}finally{xl(o)}},n.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},n.prototype.processInjectorType=function(t,e,i){var r=this;if(t=yn(t)){var o=ns(t),s=o==null&&t.ngModule||void 0,f=s===void 0?t:s,_=i.indexOf(f)!==-1,S=s!==void 0&&t.providers||a1;if(s!==void 0&&(o=ns(s)),o!=null){if(this.injectorDefTypes.add(f),this.records.set(f,us(o.factory,ra)),o.imports!=null&&!_){i.push(f);try{cs(o.imports,function(J){return r.processInjectorType(J,e,i)})}finally{}}var T=o.providers;if(T!=null&&!_){var F=t;cs(T,function(J){return r.processProvider(J,F,T)})}var U=t.ngModule;cs(S,function(J){return r.processProvider(J,U,S)})}}},n.prototype.processProvider=function(t,e,i){var r=Hc(t=yn(t))?t:yn(t&&t.provide),o=function(_,S,T){var F=function(U,J,ct){var st,xt=void 0;if(Hc(U))return zc(yn(U));if(Vf(U))xt=function(){return yn(U.useValue)};else if((st=U)&&st.useExisting)xt=function(){return re(yn(U.useExisting))};else if(U&&U.useFactory)xt=function(){return U.useFactory.apply(U,N(bc(U.deps||[])))};else{var yt=yn(U&&(U.useClass||U.provide));if(!yt){var Dt="";throw J&&ct&&(Dt=" - only instances of Provider and Type are allowed, got: ["+ct.map(function(Pt){return Pt==U?"?"+U+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+sn(J)+"'"+Dt)}if(!U.deps)return zc(yt);xt=function(){return new(yt.bind.apply(yt,N([void 0],bc(U.deps))))}}return xt}(_,S,T);return Vf(_)?us(void 0,_.useValue):us(F,ra)}(t,e,i);if(Hc(t)||t.multi!==!0){var s=this.records.get(r);if(s&&s.multi!==void 0)throw new Error("Mixed multi-provider for "+sn(r))}else{var f=this.records.get(r);if(f){if(f.multi===void 0)throw new Error("Mixed multi-provider for "+r+".")}else(f=us(void 0,ra,!0)).factory=function(){return bc(f.multi)},this.records.set(r,f);r=t,f.multi.push(t)}this.records.set(r,o)},n.prototype.hydrate=function(t,e){if(e.value===Nf)throw new Error("Cannot instantiate cyclic dependency! "+sn(t));var i;return e.value===ra&&(e.value=Nf,e.value=e.factory()),typeof e.value=="object"&&e.value&&typeof(i=e.value)=="object"&&i!=null&&i.ngOnDestroy&&typeof i.ngOnDestroy=="function"&&this.onDestroy.add(e.value),e.value},n.prototype.injectableDefInScope=function(t){return!!t.providedIn&&(typeof t.providedIn=="string"?t.providedIn==="any"||t.providedIn==="root"&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},n}();function zc(n){var t=Wn(n);if(t===null){var e=ns(n);if(e!==null)return e.factory;if(n instanceof de)throw new Error("Token "+sn(n)+" is missing an ngInjectableDef definition.");if(n instanceof Function){var i=n.length;if(i>0){var r=new Array(i).fill("?");throw new Error("Can't resolve all parameters for "+sn(n)+": ("+r.join(", ")+").")}return function(){return new n}}throw new Error("unreachable")}return t.factory}function us(n,t,e){return e===void 0&&(e=!1),{factory:n,value:t,multi:e?[]:void 0}}function cs(n,t){n.forEach(function(e){return Array.isArray(e)?cs(e,t):t(e)})}function Vf(n){return n&&typeof n=="object"&&Nc in n}function Hc(n){return typeof n=="function"}var zf=function(){return function(){}}(),jl=function(){return function(){}}();function Hf(n){var t=Error("No component factory found for "+sn(n)+". Did you add it to @NgModule.entryComponents?");return t[u1]=n,t}var Uc,u1="ngComponent",c1=function(){function n(){}return n.prototype.resolveComponentFactory=function(t){throw Hf(t)},n}(),or=function(){function n(){}return n.NULL=new c1,n}(),h1=function(){function n(t,e,i){this._parent=e,this._ngModule=i,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return n.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Hf(t);return new Wc(e,this._ngModule)},n}(),Wc=function(n){function t(e,i){var r=n.call(this)||this;return r.factory=e,r.ngModule=i,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return k(t,n),t.prototype.create=function(e,i,r,o){return this.factory.create(e,i,r,o||this.ngModule)},t}(jl),qr=function(){return function(){}}(),Uf=function(){return function(){}}(),p1=function(n){function t(e){var i=n.call(this,e,null,-1)||this;return i._view=e,i}return k(t,n),t.prototype.detectChanges=function(){Af(this._view)},t.prototype.checkNoChanges=function(){(function(e){El(!0);try{Af(e)}finally{El(!1)}})(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(function(){function n(t,e,i){this._context=e,this._componentIndex=i,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(n.prototype,"rootNodes",{get:function(){return this._lView[fr]==null?function t(e,i,r){for(var o=i.child;o;)r.push(Yn(o,e)),o.type===4&&t(e,o,r),o=o.next;return r}(this._lView,this._lView[Bn],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return(64&this._lView[Mn])==64},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}var e,i;Yr(i=(e=this._lView)[Nt])&&i.destroyNode&&function(r,o,s,f,_){for(var S=e[Fe].node,T=-1,F=e,U=S.child;U;){var J=null;if(U.type===3){Tc(2,s,null,Yn(U,F),_);var ct=F[U.index];Dt=ct,Array.isArray(Dt)&&Dt.length===rs&&Tc(2,s,null,ct[li],_)}else if(U.type===0){var st=F[U.index];Tc(2,s,null,st[li],_),st[Rn].length&&(J=(F=st[Rn][0])[Fe].node,_=st[li])}else if(U.type===1){var xt=qs(F),yt=xt[Bn].projection[U.projection];Il[++T]=U,Il[++T]=F,yt&&(J=(F=xt[Ii])[Fe].data[yt.index])}else J=U.child;if(J===null)for(U.next===null&&2&U.flags&&(F=Il[T--],U=Il[T--]),J=U.next;!J;){if((U=U.parent||F[Fe].node)===null||U===S)return null;U.type===0&&(_=(F=F[Ii])[U.index][li]),J=U.type===2&&F[dr]?(F=F[dr])[Fe].node:U.next}U=J}var Dt}(0,0,i),function(r){if(r[Fe].childIndex===-1)return Ac(r);for(var o=Ic(r);o;){var s=null;if(o.length>=ze?o[Fe].childIndex>-1&&(s=Ic(o)):o[Rn].length&&(s=o[Rn][0]),s==null){for(;o&&!o[dr]&&o!==r;)Ac(o),o=J_(o,r);Ac(o||r),s=o&&o[dr]}o=s}}(e),e[Mn]|=64},n.prototype.onDestroy=function(t){var e,i;i=t,function(r){return r[Wr]||(r[Wr]=[])}(e=this._lView).push(i),e[Fe].firstTemplatePass&&function(r){return r[Fe].cleanup||(r[Fe].cleanup=[])}(e).push(e[Wr].length-1,null)},n.prototype.markForCheck=function(){(function(t){for(;t&&!(128&t[Mn]);)t[Mn]|=8,t=t[Ii];var e,i,r;t[Mn]|=8,r=(e=t[K]).flags===0,e.flags|=1,r&&e.clean==Pc&&(e.clean=new Promise(function(o){return i=o}),e.scheduler(function(){if(1&e.flags&&(e.flags&=-2,Rc(e)),2&e.flags){e.flags&=-3;var o=e.playerHandler;o&&o.flushPlayers()}e.clean=Pc,i(null)}))})(this._lView)},n.prototype.detach=function(){this._lView[Mn]&=-17},n.prototype.reattach=function(){this._lView[Mn]|=16},n.prototype.detectChanges=function(){If(this._lView,this.context)},n.prototype.checkNoChanges=function(){(function(t){El(!0);try{(function(e){If(function(i){var r,o=mr(i);if(Array.isArray(o)){var s=function(_,S){var T=_[Fe].components;if(T)for(var F=0;F<T.length;F++){var U=T[F];if(Ai(U,_)[K]===S)return U}else if(Ai(ze,_)[K]===S)return ze;return-1}(o,i);(f=function(_,S,T){return{lView:_,nodeIndex:S,native:T,component:void 0,directives:void 0,localRefs:void 0}}(o,s,(r=Ai(s,o))[fr])).component=i,Tl(i,f),Tl(f.native,f)}else{var f;r=Ai((f=o).nodeIndex,f.lView)}return r}(e),e)})(t)}finally{El(!1)}})(this.context)},n.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},n.prototype.detachFromAppRef=function(){this._appRef=null},n.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},n.prototype._lookUpContext=function(){return this._context=this._lView[Ii][this._componentIndex]},n}()),lt=function(){function n(t){this.nativeElement=t}return n.__NG_ELEMENT_ID__=function(){return d1(n)},n}(),d1=na,f1=function(){return function(){}}(),oa=function(){return function(){}}(),Xc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}({}),un=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return g1()},n}(),g1=na,Zi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}({}),Yc=function(){return function(){}}(),Gc=new(function(){return function(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}())("7.2.0"),m1=function(n){function t(e){var i=n.call(this)||this;return i.ngModule=e,i}return k(t,n),t.prototype.resolveComponentFactory=function(e){return new b1(e[Jn]||null,this.ngModule)},t}(or);function Wf(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}var v1=new de("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Pf(re(y1))}}),y1=new de("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Gs}}),qc={},b1=function(n){function t(e,i){var r=n.call(this)||this;return r.componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return k(t,n),Object.defineProperty(t.prototype,"inputs",{get:function(){return Wf(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return Wf(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,i,r,o){var s,f,_,S,T=r===void 0,F=(o=o||this.ngModule)?function(ln,Sn){return{get:function(Tn,vn){var _e=ln.get(Tn,qc);return _e!==qc||vn===qc?_e:Sn.get(Tn,vn)}}}(e,o.injector):e,U=F.get(oa,Z_),J=F.get(Yc,null),ct=T?(_=this.selector,Yr(S=U.createRenderer(null,this.componentDef)||To()[Nt])?S.createElement(_,Al):Al===null?S.createElement(_):S.createElementNS(Al,_)):(s=r,f=U.createRenderer(null,null),typeof s=="string"?Yr(f)?f.selectRootElement(s):f.querySelector(s):s),st=this.componentDef.onPush?136:132,xt=T?Pf():F.get(v1),yt=U.createRenderer(ct,this.componentDef);r&&ct&&(Yr(yt)?yt.setAttribute(ct,"ng-version",Gc.full):ct.setAttribute("ng-version",Gc.full));var Dt,Pt,At=Sf(null,Of(-1,null,1,0,null,null,null),xt,st,U,yt,J,F),qt=$s(At,null);try{U.begin&&U.begin();var Zt=n1(ct,this.componentDef,At,U,yt);if(Pt=At[Fe].data[0+ze],i)for(var ie=0,ce=At[Fe],Yt=Pt.projection=[],Wt=0;Wt<i.length;Wt++){for(var Le=i[Wt],Ke=null,dn=null,an=0;an<Le.length;an++){ce.firstTemplatePass&&(ce.expandoStartIndex++,ce.blueprint.splice(++ie+ze,0,null),ce.data.splice(ie+ze,0,null),At.splice(ie+ze,0,null));var mn=kf(ie,3,Le[an],null,null);dn?dn.next=mn:Ke=mn,dn=mn}Yt.push(Ke)}Dt=i1(Zt,this.componentDef,At,xt,[r1]),function(ln,Sn,Tn){var vn=ln[Fe],_e=z_();ln[14]?ln[14][dr]=Tn:_e&&(vn.childIndex=Sn),ln[14]=Tn}(At,ze,Zt),ea(At)}finally{Ol(qt),U.end&&U.end()}var en=new _1(this.componentType,Dt,function(ln,Sn,Tn){return Uc||(Uc=function(vn){function _e(){return vn!==null&&vn.apply(this,arguments)||this}return k(_e,vn),_e}(lt)),new Uc(Yn(Sn,Tn))}(0,Pt,At),At,Pt);return T&&(en.hostView._tViewNode.child=Pt),en},t}(jl),_1=function(n){function t(e,i,r,o,s){var f,_=n.call(this)||this;return _.location=r,_._rootLView=o,_._tNode=s,_.destroyCbs=[],_.instance=i,_.hostView=_.changeDetectorRef=new p1(o),_.hostView._tViewNode=((f=o)[Fe].node==null&&(f[Fe].node=Tf(f,2,-1,null,null,null)),f[Bn]=f[Fe].node),_.componentType=e,_}return k(t,n),Object.defineProperty(t.prototype,"injector",{get:function(){return new W_(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroy()},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(zf),Xf=!0,Yf=!1;function Hi(){return Yf=!0,Xf}var w1=function(){function n(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,this.inertBodyElement==null){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch{return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return n.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch{return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var i=e.response.body;return i.removeChild(i.firstChild),i},n.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=new window.DOMParser().parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch{return null}},n.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},n.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,i=e.length-1;0<i;i--){var r=e.item(i).name;r!=="xmlns:ns1"&&r.indexOf("ns1:")!==0||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},n}(),x1=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,C1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fl(n){return(n=String(n)).match(x1)||n.match(C1)?n:(Hi()&&console.warn("WARNING: sanitizing unsafe URL value "+n+" (see http://g.co/ng/security#xss)"),"unsafe:"+n)}function Kr(n){var t,e,i={};try{for(var r=X(n.split(",")),o=r.next();!o.done;o=r.next())i[o.value]=!0}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i}function sa(){for(var n,t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r={};try{for(var o=X(e),s=o.next();!s.done;s=o.next()){var f=s.value;for(var _ in f)f.hasOwnProperty(_)&&(r[_]=!0)}}catch(S){n={error:S}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return r}var Ml,Gf=Kr("area,br,col,hr,img,wbr"),qf=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kf=Kr("rp,rt"),S1=sa(Kf,qf),Zf=sa(Gf,sa(qf,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sa(Kf,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),S1),Jf=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qf=Kr("srcset"),k1=sa(Jf,Qf,Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),E1=function(){function n(){this.sanitizedSomething=!1,this.buf=[]}return n.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,i=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},n.prototype.startElement=function(t){var e,i=t.nodeName.toLowerCase();if(!Zf.hasOwnProperty(i))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(i);for(var r=t.attributes,o=0;o<r.length;o++){var s=r.item(o),f=s.name,_=f.toLowerCase();if(k1.hasOwnProperty(_)){var S=s.value;Jf[_]&&(S=Fl(S)),Qf[_]&&(e=S,S=(e=String(e)).split(",").map(function(T){return Fl(T.trim())}).join(", ")),this.buf.push(" ",f,'="',$f(S),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},n.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Zf.hasOwnProperty(e)&&!Gf.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},n.prototype.chars=function(t){this.buf.push($f(t))},n.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},n}(),O1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T1=/([^\#-~ |!])/g;function $f(n){return n.replace(/&/g,"&amp;").replace(O1,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(T1,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tg(n){return"content"in n&&function(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}(n)?n.content:null}var I1={provide:or,useClass:m1,deps:[qr]},A1=function(n){function t(e,i){var r=n.call(this)||this;r._parent=i,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var o=function(s,f){var _=e[xo]||null;return _}();return r._bootstrapComponents=o.bootstrap,r._r3Injector=function(s,f,_){return f===void 0&&(f=null),_===void 0&&(_=null),f=f||Bf(),new l1(s,_,f)}(e,i,[{provide:qr,useValue:r},I1]),r.instance=r.get(e),r}return k(t,n),t.prototype.get=function(e,i,r){return i===void 0&&(i=In.THROW_IF_NOT_FOUND),r===void 0&&(r=fn.Default),e===In||e===qr||e===Pr?this:this._r3Injector.get(e,i,r)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(or)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(qr);(function(n){function t(e){var i=n.call(this)||this;return i.moduleType=e,i}k(t,n),t.prototype.create=function(e){return new A1(this.moduleType,e)}})(Uf);var le=function(n){function t(e){e===void 0&&(e=!1);var i=n.call(this)||this;return i.__isAsync=e,i}return k(t,n),t.prototype.emit=function(e){n.prototype.next.call(this,e)},t.prototype.subscribe=function(e,i,r){var o,s=function(S){return null},f=function(){return null};e&&typeof e=="object"?(o=this.__isAsync?function(S){setTimeout(function(){return e.next(S)})}:function(S){e.next(S)},e.error&&(s=this.__isAsync?function(S){setTimeout(function(){return e.error(S)})}:function(S){e.error(S)}),e.complete&&(f=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(S){setTimeout(function(){return e(S)})}:function(S){e(S)},i&&(s=this.__isAsync?function(S){setTimeout(function(){return i(S)})}:function(S){i(S)}),r&&(f=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var _=n.prototype.subscribe.call(this,o,s,f);return e instanceof et&&e.add(_),_},t}(x),Lt=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return P1(n,lt)},n}(),P1=na,D1=new RegExp(`^([-,."'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$`,"g"),R1=/^url\(([^)]+)\)$/,Kc=Function;function Zc(n){return typeof n=="function"}var j1=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,F1=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,M1=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,L1=function(){function n(t){this._reflect=t||kn.Reflect}return n.prototype.isReflectionEnabled=function(){return!0},n.prototype.factory=function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new(t.bind.apply(t,N([void 0],e)))}},n.prototype._zipTypesAndAnnotations=function(t,e){var i;i=t===void 0?new Array(e.length):new Array(t.length);for(var r=0;r<i.length;r++)i[r]=t===void 0?[]:t[r]!=Object?[t[r]]:[],e&&e[r]!=null&&(i[r]=i[r].concat(e[r]));return i},n.prototype._ownParameters=function(t,e){var i=t.toString();if(j1.exec(i)||F1.exec(i)&&!M1.exec(i))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var o=typeof r=="function"?r():r,s=o.map(function(T){return T&&T.type}),f=o.map(function(T){return T&&Jc(T.decorators)});return this._zipTypesAndAnnotations(s,f)}var _=t.hasOwnProperty(Or)&&t[Or],S=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return S||_?this._zipTypesAndAnnotations(S,_):new Array(t.length).fill(void 0)},n.prototype.parameters=function(t){if(!Zc(t))return[];var e=Qc(t),i=this._ownParameters(t,e);return i||e===Object||(i=this.parameters(e)),i||[]},n.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var i=t.annotations;return typeof i=="function"&&i.annotations&&(i=i.annotations),i}return t.decorators&&t.decorators!==e.decorators?Jc(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null},n.prototype.annotations=function(t){if(!Zc(t))return[];var e=Qc(t),i=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(i)},n.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var i=t.propMetadata;return typeof i=="function"&&i.propMetadata&&(i=i.propMetadata),i}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach(function(s){o[s]=Jc(r[s])}),o}return t.hasOwnProperty("__prop__metadata__")?t.__prop__metadata__:null},n.prototype.propMetadata=function(t){if(!Zc(t))return{};var e=Qc(t),i={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(s){i[s]=r[s]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(s){var f=[];i.hasOwnProperty(s)&&f.push.apply(f,N(i[s])),f.push.apply(f,N(o[s])),i[s]=f}),i},n.prototype.hasLifecycleHook=function(t,e){return t instanceof Kc&&e in t.prototype},n.prototype.guards=function(t){return{}},n.prototype.getter=function(t){return new Function("o","return o."+t+";")},n.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},n.prototype.method=function(t){return new Function("o","args","if (!o."+t+`) throw new Error('"`+t+`" is undefined');
        return o.`+t+".apply(o, args);")},n.prototype.importUri=function(t){return typeof t=="object"&&t.filePath?t.filePath:"./"+sn(t)},n.prototype.resourceUri=function(t){return"./"+sn(t)},n.prototype.resolveIdentifier=function(t,e,i,r){return r},n.prototype.resolveEnum=function(t,e){return t[e]},n}();function Jc(n){return n?n.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,N([void 0],t.args?t.args:[])))}):[]}function Qc(n){var t=n.prototype?Object.getPrototypeOf(n.prototype):null;return(t?t.constructor:null)||Object}var eg="ngDebugContext",$c="ngOriginalError",ng="ngErrorLogger";function th(n){return n[eg]}function Ll(n){return n[$c]}function N1(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n.error.apply(n,N(t))}var hs=function(){function n(){this._console=console}return n.prototype.handleError=function(t){var e=this._findOriginalError(t),i=this._findContext(t),r=function(o){return o[ng]||N1}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),i&&r(this._console,"ERROR CONTEXT",i)},n.prototype._findContext=function(t){return t?th(t)?th(t):this._findContext(Ll(t)):null},n.prototype._findOriginalError=function(t){for(var e=Ll(t);e&&Ll(e);)e=Ll(e);return e},n}();function eh(n){return n.length>1?" ("+function(t){for(var e=[],i=0;i<t.length;++i){if(e.indexOf(t[i])>-1)return e.push(t[i]),e;e.push(t[i])}return e}(n.slice().reverse()).map(function(t){return sn(t.token)}).join(" -> ")+")":""}function nh(n,t,e,i){var r=[t],o=e(r),s=i?function(f,_){var S=o+" caused by: "+(_ instanceof Error?_.message:_),T=Error(S);return T[$c]=_,T}(0,i):Error(o);return s.addKey=B1,s.keys=r,s.injectors=[n],s.constructResolvingMessage=e,s[$c]=i,s}function B1(n,t){this.injectors.push(n),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function ig(n,t){for(var e=[],i=0,r=t.length;i<r;i++){var o=t[i];e.push(o&&o.length!=0?o.map(sn).join(" "):"?")}return Error("Cannot resolve all parameters for '"+sn(n)+"'("+e.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+sn(n)+"' is decorated with Injectable.")}var Zr=function(){function n(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=sn(this.token)}return n.get=function(t){return rg.get(yn(t))},Object.defineProperty(n,"numberOfKeys",{get:function(){return rg.numberOfKeys},enumerable:!0,configurable:!0}),n}(),rg=new(function(){function n(){this._allKeys=new Map}return n.prototype.get=function(t){if(t instanceof Zr)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Zr(t,Zr.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(n.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),n}()),og=new(function(){function n(t){this.reflectionCapabilities=t}return n.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},n.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},n.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},n.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},n.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},n.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},n.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},n.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},n.prototype.method=function(t){return this.reflectionCapabilities.method(t)},n.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},n.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},n.prototype.resolveIdentifier=function(t,e,i,r){return this.reflectionCapabilities.resolveIdentifier(t,e,i,r)},n.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},n}())(new L1),sg=function(){function n(t,e,i){this.key=t,this.optional=e,this.visibility=i}return n.fromKey=function(t){return new n(t,!1,null)},n}(),V1=[],ag=function(){return function(n,t,e){this.key=n,this.resolvedFactories=t,this.multiProvider=e,this.resolvedFactory=this.resolvedFactories[0]}}(),z1=function(){return function(n,t){this.factory=n,this.dependencies=t}}();function H1(n){var t,e;if(n.useClass){var i=yn(n.useClass);t=og.factory(i),e=lg(i)}else n.useExisting?(t=function(r){return r},e=[sg.fromKey(Zr.get(n.useExisting))]):n.useFactory?(t=n.useFactory,e=function(r,o){if(o){var s=o.map(function(f){return[f]});return o.map(function(f){return ug(r,f,s)})}return lg(r)}(n.useFactory,n.deps)):(t=function(){return n.useValue},e=V1);return new z1(t,e)}function U1(n){return new ag(Zr.get(n.provide),[H1(n)],n.multi||!1)}function lg(n){var t=og.parameters(n);if(!t)return[];if(t.some(function(e){return e==null}))throw ig(n,t);return t.map(function(e){return ug(n,e,t)})}function ug(n,t,e){var i=null,r=!1;if(!Array.isArray(t))return cg(t instanceof Zs?t.token:t,r,null);for(var o=null,s=0;s<t.length;++s){var f=t[s];f instanceof Kc?i=f:f instanceof Zs?i=f.token:f instanceof as?r=!0:f instanceof Js||f instanceof Oo?o=f:f instanceof de&&(i=f)}if((i=yn(i))!=null)return cg(i,r,o);throw ig(n,e)}function cg(n,t,e){return new sg(Zr.get(n),t,e)}var aa=new Object,ih=function(){function n(){}return n.resolve=function(t){return function(e){var i=function(r,o){for(var s=0;s<r.length;s++){var f=r[s],_=o.get(f.key.id);if(_){if(f.multiProvider!==_.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+_+" "+f);if(f.multiProvider)for(var S=0;S<f.resolvedFactories.length;S++)_.resolvedFactories.push(f.resolvedFactories[S]);else o.set(f.key.id,f)}else{var T;T=f.multiProvider?new ag(f.key,f.resolvedFactories.slice(),f.multiProvider):f,o.set(f.key.id,T)}}return o}(function r(o,s){return o.forEach(function(f){if(f instanceof Kc)s.push({provide:f,useClass:f});else if(f&&typeof f=="object"&&f.provide!==void 0)s.push(f);else{if(!(f instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+f);r(f,s)}}),s}(e,[]).map(U1),new Map);return Array.from(i.values())}(t)},n.resolveAndCreate=function(t,e){var i=n.resolve(t);return n.fromResolvedProviders(i,e)},n.fromResolvedProviders=function(t,e){return new W1(t,e)},n}(),W1=function(){function n(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var i=t.length;this.keyIds=new Array(i),this.objs=new Array(i);for(var r=0;r<i;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=aa}return n.prototype.get=function(t,e){return e===void 0&&(e=Dl),this._getByKey(Zr.get(t),null,e)},n.prototype.resolveAndCreateChild=function(t){var e=ih.resolve(t);return this.createChildFromResolved(e)},n.prototype.createChildFromResolved=function(t){var e=new n(t);return e.parent=this,e},n.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(ih.resolve([t])[0])},n.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},n.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(e){return Error("Index "+e+" is out-of-bounds.")}(t);return this._providers[t]},n.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw nh(this,t.key,function(e){return"Cannot instantiate cyclic dependency!"+eh(e)});return this._instantiateProvider(t)},n.prototype._getMaxNumberOfObjects=function(){return this.objs.length},n.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),i=0;i<t.resolvedFactories.length;++i)e[i]=this._instantiate(t,t.resolvedFactories[i]);return e}return this._instantiate(t,t.resolvedFactories[0])},n.prototype._instantiate=function(t,e){var i,r,o,s=this,f=e.factory;try{i=e.dependencies.map(function(_){return s._getByReflectiveDependency(_)})}catch(_){throw _.addKey&&_.addKey(this,t.key),_}try{r=f.apply(void 0,N(i))}catch(_){throw nh(this,t.key,function(S){var T=sn(S[0].token);return o.message+": Error during instantiation of "+T+"!"+eh(S)+"."},o=_)}return r},n.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Dl)},n.prototype._getByKey=function(t,e,i){return t===n.INJECTOR_KEY?this:e instanceof Js?this._getByKeySelf(t,i):this._getByKeyDefault(t,i,e)},n.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===aa&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return aa},n.prototype._throwOrNull=function(t,e){if(e!==Dl)return e;throw function(i,r){return nh(i,r,function(o){return"No provider for "+sn(o[0].token)+"!"+eh(o)})}(this,t)},n.prototype._getByKeySelf=function(t,e){var i=this._getObjByKeyId(t.id);return i!==aa?i:this._throwOrNull(t,e)},n.prototype._getByKeyDefault=function(t,e,i){var r;for(r=i instanceof Oo?this.parent:this;r instanceof n;){var o=r,s=o._getObjByKeyId(t.id);if(s!==aa)return s;r=o.parent}return r!==null?r.get(t.token,e):this._throwOrNull(t,e)},Object.defineProperty(n.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var i=new Array(t._providers.length),r=0;r<t._providers.length;++r)i[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return i}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.displayName},n.INJECTOR_KEY=Zr.get(In),n}();function Nl(n){return!!n&&typeof n.then=="function"}function rh(n){return!!n&&typeof n.subscribe=="function"}var oh=new de("Application Initializer"),la=function(){function n(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,r){e.resolve=i,e.reject=r})}return n.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],i=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Nl(o)&&e.push(o)}Promise.all(e).then(function(){i()}).catch(function(s){t.reject(s)}),e.length===0&&i(),this.initialized=!0}},n}(),sh=new de("AppId");function X1(){return""+ah()+ah()+ah()}function ah(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var hg=new de("Platform Initializer"),ua=new de("Platform ID"),Y1=new de("appBootstrapListener"),lh=function(){function n(){}return n.prototype.log=function(t){console.log(t)},n.prototype.warn=function(t){console.warn(t)},n}();function Bl(){throw new Error("Runtime compiler is not loaded")}var uh,pg,G1=Bl,q1=Bl,K1=Bl,Z1=Bl,dg=function(){function n(){this.compileModuleSync=G1,this.compileModuleAsync=q1,this.compileModuleAndAllComponentsSync=K1,this.compileModuleAndAllComponentsAsync=Z1}return n.prototype.clearCache=function(){},n.prototype.clearCacheFor=function(t){},n.prototype.getModuleId=function(t){},n}(),J1=function(){return function(){}}();function Q1(){var n=kn.wtf;return!(!n||!(uh=n.trace)||(pg=uh.events,0))}var fg=Q1();function $1(n,t){return null}var tw=fg?function(n,t){return t===void 0&&(t=null),pg.createScope(n,t)}:function(n,t){return $1},ew=fg?function(n,t){return uh.leaveScope(n,t),t}:function(n,t){return t},xe=function(){function n(t){var e,i=t.enableLongStackTrace,r=i!==void 0&&i;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(o,s,f,_,S,T){try{return vg(e),o.invokeTask(f,_,S,T)}finally{yg(e)}},onInvoke:function(o,s,f,_,S,T,F){try{return vg(e),o.invoke(f,_,S,T,F)}finally{yg(e)}},onHasTask:function(o,s,f,_){o.hasTask(f,_),s===f&&(_.change=="microTask"?(e.hasPendingMicrotasks=_.microTask,mg(e)):_.change=="macroTask"&&(e.hasPendingMacrotasks=_.macroTask))},onHandleError:function(o,s,f,_){return o.handleError(f,_),e.runOutsideAngular(function(){return e.onError.emit(_)}),!1}})}return n.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},n.assertInAngularZone=function(){if(!n.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},n.assertNotInAngularZone=function(){if(n.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},n.prototype.run=function(t,e,i){return this._inner.run(t,e,i)},n.prototype.runTask=function(t,e,i,r){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,nw,gg,gg);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}},n.prototype.runGuarded=function(t,e,i){return this._inner.runGuarded(t,e,i)},n.prototype.runOutsideAngular=function(t){return this._outer.run(t)},n}();function gg(){}var nw={};function mg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(function(){return n.onStable.emit(null)})}finally{n.isStable=!0}}}function vg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yg(n){n._nesting--,mg(n)}var Po,iw=function(){function n(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}return n.prototype.run=function(t){return t()},n.prototype.runGuarded=function(t){return t()},n.prototype.runOutsideAngular=function(t){return t()},n.prototype.runTask=function(t){return t()},n}(),ch=function(){function n(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}return n.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){xe.assertNotInAngularZone(),Ir(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},n.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},n.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},n.prototype.isStable=function(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks},n.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Ir(function(){for(;t._callbacks.length!==0;){var i=t._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(i){return!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)}),this._didWork=!0}},n.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},n.prototype.addCallback=function(t,e,i){var r=this,o=-1;e&&e>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(s){return s.timeoutId!==o}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})},n.prototype.whenStable=function(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()},n.prototype.getPendingRequestCount=function(){return this._pendingCount},n.prototype.findProviders=function(t,e,i){return[]},n}(),bg=function(){function n(){this._applications=new Map,hh.addToWindow(this)}return n.prototype.registerApplication=function(t,e){this._applications.set(t,e)},n.prototype.unregisterApplication=function(t){this._applications.delete(t)},n.prototype.unregisterAllApplications=function(){this._applications.clear()},n.prototype.getTestability=function(t){return this._applications.get(t)||null},n.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},n.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},n.prototype.findTestabilityInTree=function(t,e){return e===void 0&&(e=!0),hh.findTestabilityInTree(this,t,e)},A([E("design:paramtypes",[])],n)}(),hh=new(function(){function n(){}return n.prototype.addToWindow=function(t){},n.prototype.findTestabilityInTree=function(t,e,i){return null},n}()),_g=new de("AllowMultipleToken"),rw=function(){return function(n,t){this.name=n,this.token=t}}();function wg(n,t,e){e===void 0&&(e=[]);var i="Platform: "+t,r=new de(i);return function(o){o===void 0&&(o=[]);var s=xg();if(!s||s.injector.get(_g,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{var f=e.concat(o).concat({provide:r,useValue:!0});(function(_){if(Po&&!Po.destroyed&&!Po.injector.get(_g,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Po=_.get(Cg);var S=_.get(hg,null);S&&S.forEach(function(T){return T()})})(In.create({providers:f,name:i}))}return function(_){var S=xg();if(!S)throw new Error("No platform exists!");if(!S.injector.get(_,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return S}(r)}}function xg(){return Po&&!Po.destroyed?Po:null}var Cg=function(){function n(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return n.prototype.bootstrapModuleFactory=function(t,e){var i,r=this,o=(i=e?e.ngZone:void 0)==="noop"?new iw:(i==="zone.js"?void 0:i)||new xe({enableLongStackTrace:Hi()}),s=[{provide:xe,useValue:o}];return o.run(function(){var f=In.create({providers:s,parent:r.injector,name:t.moduleType.name}),_=t.create(f),S=_.injector.get(hs,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.onDestroy(function(){return ph(r._modules,_)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(T){S.handleError(T)}})}),function(T,F,U){try{var J=((ct=_.injector.get(la)).runInitializers(),ct.donePromise.then(function(){return r._moduleDoBootstrap(_),_}));return Nl(J)?J.catch(function(st){throw F.runOutsideAngular(function(){return T.handleError(st)}),st}):J}catch(st){throw F.runOutsideAngular(function(){return T.handleError(st)}),st}var ct}(S,o)})},n.prototype.bootstrapModule=function(t,e){var i=this;e===void 0&&(e=[]);var r=Sg({},e);return function(o,s,f){return o.get(J1).createCompiler([s]).compileModuleAsync(f)}(this.injector,r,t).then(function(o){return i.bootstrapModuleFactory(o,r)})},n.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Jr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(i){return e.bootstrap(i)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+sn(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},n.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(n.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),n}();function Sg(n,t){return Array.isArray(t)?t.reduce(Sg,n):j({},n,t)}var Jr=function(){function n(e,i,r,o,s,f){var _=this;this._zone=e,this._console=i,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=s,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Hi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){_._zone.run(function(){_.tick()})}});var S=new c(function(F){_._stable=_._zone.isStable&&!_._zone.hasPendingMacrotasks&&!_._zone.hasPendingMicrotasks,_._zone.runOutsideAngular(function(){F.next(_._stable),F.complete()})}),T=new c(function(F){var U;_._zone.runOutsideAngular(function(){U=_._zone.onStable.subscribe(function(){xe.assertNotInAngularZone(),Ir(function(){_._stable||_._zone.hasPendingMacrotasks||_._zone.hasPendingMicrotasks||(_._stable=!0,F.next(!0))})})});var J=_._zone.onUnstable.subscribe(function(){xe.assertInAngularZone(),_._stable&&(_._stable=!1,_._zone.runOutsideAngular(function(){F.next(!1)}))});return function(){U.unsubscribe(),J.unsubscribe()}});this.isStable=ht(S,T.pipe(be()))}var t;return t=n,n.prototype.bootstrap=function(e,i){var r,o=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");r=e instanceof jl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);var s=r instanceof Wc?null:this._injector.get(qr),f=r.create(In.NULL,[],i||r.selector,s);f.onDestroy(function(){o._unloadComponent(f)});var _=f.injector.get(ch,null);return _&&f.injector.get(bg).registerApplication(f.location.nativeElement,_),this._loadComponent(f),Hi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),f},n.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var i=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(r){return r.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(r){return r.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,ew(i)}},n.prototype.attachView=function(e){var i=e;this._views.push(i),i.attachToAppRef(this)},n.prototype.detachView=function(e){var i=e;ph(this._views,i),i.detachFromAppRef()},n.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Y1,[]).concat(this._bootstrapListeners).forEach(function(i){return i(e)})},n.prototype._unloadComponent=function(e){this.detachView(e.hostView),ph(this.components,e)},n.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(n.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),n._tickScope=tw("ApplicationRef#tick()"),n}();function ph(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)}var dh,fh=function(){function n(){this.dirty=!0,this._results=[],this.changes=new le,this.length=0}return n.prototype.map=function(t){return this._results.map(t)},n.prototype.filter=function(t){return this._results.filter(t)},n.prototype.find=function(t){return this._results.find(t)},n.prototype.reduce=function(t,e){return this._results.reduce(t,e)},n.prototype.forEach=function(t){this._results.forEach(t)},n.prototype.some=function(t){return this._results.some(t)},n.prototype.toArray=function(){return this._results.slice()},n.prototype[fi()]=function(){return this._results[fi()]()},n.prototype.toString=function(){return this._results.toString()},n.prototype.reset=function(t){this._results=function e(i){return i.reduce(function(r,o){var s=Array.isArray(o)?e(o):o;return r.concat(s)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},n.prototype.notifyOnChanges=function(){this.changes.emit(this)},n.prototype.setDirty=function(){this.dirty=!0},n.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},n}(),jt=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return ow(n,lt)},n}(),ow=na,ee=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return sw()},n}(),sw=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t]},aw=(k(function(){return dh!==null&&dh.apply(this,arguments)||this},dh=ee),function(){return function(n,t){this.name=n,this.callback=t}}()),gh=function(){function n(t,e,i){this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=t,e&&e instanceof gi&&e.addChild(this)}return Object.defineProperty(n.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),n}(),gi=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return k(t,n),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var i=this.childNodes.indexOf(e);i!==-1&&(e.parent=null,this.childNodes.splice(i,1))},t.prototype.insertChildrenAfter=function(e,i){var r,o=this,s=this.childNodes.indexOf(e);s!==-1&&((r=this.childNodes).splice.apply(r,N([s+1,0],i)),i.forEach(function(f){f.parent&&f.parent.removeChild(f),e.parent=o}))},t.prototype.insertBefore=function(e,i){var r=this.childNodes.indexOf(e);r===-1?this.addChild(i):(i.parent&&i.parent.removeChild(i),i.parent=this,this.childNodes.splice(r,0,i))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var i=[];return function r(o,s,f){o.childNodes.forEach(function(_){_ instanceof gi&&(s(_)&&f.push(_),r(_,s,f))})}(this,e,i),i},t.prototype.queryAllNodes=function(e){var i=[];return function r(o,s,f){o instanceof gi&&o.childNodes.forEach(function(_){s(_)&&f.push(_),_ instanceof gi&&r(_,s,f)})}(this,e,i),i},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,i){this.listeners.forEach(function(r){r.name==e&&r.callback(i)})},t}(gh),mh=new Map,ui=function(n){return mh.get(n)||null};function Vl(n){mh.set(n.nativeNode,n)}var kg=function(){function n(){}return n.prototype.supports=function(t){return ta(t)},n.prototype.create=function(t){return new uw(t)},n}(),lw=function(n,t){return t},uw=function(){function n(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||lw}return n.prototype.forEachItem=function(t){var e;for(e=this._itHead;e!==null;e=e._next)t(e)},n.prototype.forEachOperation=function(t){for(var e=this._itHead,i=this._removalsHead,r=0,o=null;e||i;){var s=!i||e&&e.currentIndex<Og(i,r,o)?e:i,f=Og(s,r,o),_=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);var S=f-r,T=_-r;if(S!=T){for(var F=0;F<S;F++){var U=F<o.length?o[F]:o[F]=0,J=U+F;T<=J&&J<S&&(o[F]=U+1)}o[s.previousIndex]=T-S}}f!==_&&t(s,f,_)}},n.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)},n.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)},n.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)},n.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)},n.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)},n.prototype.diff=function(t){if(t==null&&(t=[]),!ta(t))throw new Error("Error trying to diff '"+sn(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(t){var e=this;this._reset();var i,r,o,s=this._itHead,f=!1;if(Array.isArray(t)){this.length=t.length;for(var _=0;_<this.length;_++)o=this._trackByFn(_,r=t[_]),s!==null&&Nn(s.trackById,o)?(f&&(s=this._verifyReinsertion(s,r,o,_)),Nn(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,o,_),f=!0),s=s._next}else i=0,function(S,T){if(Array.isArray(S))for(var F=0;F<S.length;F++)T(S[F]);else for(var U=S[fi()](),J=void 0;!(J=U.next()).done;)T(J.value)}(t,function(S){o=e._trackByFn(i,S),s!==null&&Nn(s.trackById,o)?(f&&(s=e._verifyReinsertion(s,S,o,i)),Nn(s.item,S)||e._addIdentityChange(s,S)):(s=e._mismatch(s,S,o,i),f=!0),s=s._next,i++}),this.length=i;return this._truncate(s),this.collection=t,this.isDirty},Object.defineProperty(n.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null},enumerable:!0,configurable:!0}),n.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},n.prototype._mismatch=function(t,e,i,r){var o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r))!==null?(Nn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):(t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null))!==null?(Nn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new cw(e,i),o,r),t},n.prototype._verifyReinsertion=function(t,e,i,r){var o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},n.prototype._truncate=function(t){for(;t!==null;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)},n.prototype._reinsertAfter=function(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t},n.prototype._moveAfter=function(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t},n.prototype._addAfter=function(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=this._additionsTail===null?this._additionsHead=t:this._additionsTail._nextAdded=t,t},n.prototype._insertAfter=function(t,e,i){var r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Eg),this._linkedRecords.put(t),t.currentIndex=i,t},n.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},n.prototype._unlink=function(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);var e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t},n.prototype._addToMoves=function(t,e){return t.previousIndex===e||(this._movesTail=this._movesTail===null?this._movesHead=t:this._movesTail._nextMoved=t),t},n.prototype._addToRemovals=function(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Eg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},n.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=this._identityChangesTail===null?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},n}(),cw=function(){return function(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),hw=function(){function n(){this._head=null,this._tail=null}return n.prototype.add=function(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},n.prototype.get=function(t,e){var i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Nn(i.trackById,t))return i;return null},n.prototype.remove=function(t){var e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null},n}(),Eg=function(){function n(){this.map=new Map}return n.prototype.put=function(t){var e=t.trackById,i=this.map.get(e);i||(i=new hw,this.map.set(e,i)),i.add(t)},n.prototype.get=function(t,e){var i=this.map.get(t);return i?i.get(t,e):null},n.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.map.size===0},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.map.clear()},n}();function Og(n,t,e){var i=n.previousIndex;if(i===null)return i;var r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var Tg=function(){function n(){}return n.prototype.supports=function(t){return t instanceof Map||Oc(t)},n.prototype.create=function(){return new pw},n}(),pw=function(){function n(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(n.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null},enumerable:!0,configurable:!0}),n.prototype.forEachItem=function(t){var e;for(e=this._mapHead;e!==null;e=e._next)t(e)},n.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)},n.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)},n.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)},n.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)},n.prototype.diff=function(t){if(t){if(!(t instanceof Map||Oc(t)))throw new Error("Error trying to diff '"+sn(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(t){var e=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(o,s){if(i&&i.key===s)e._maybeAddToChanges(i,o),e._appendAfter=i,i=i._next;else{var f=e._getOrCreateRecordForKey(s,o);i=e._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var r=i;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},n.prototype._insertBeforeOrAppend=function(t,e){if(t){var i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},n.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,e);var r=i._prev,o=i._next;return r&&(r._next=o),o&&(o._prev=r),i._next=null,i._prev=null,i}var s=new dw(t);return this._records.set(t,s),s.currentValue=e,this._addToAdditions(s),s},n.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},n.prototype._maybeAddToChanges=function(t,e){Nn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},n.prototype._addToAdditions=function(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},n.prototype._addToChanges=function(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},n.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(i){return e(t[i],i)})},n}(),dw=function(){return function(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),An=function(){function n(t){this.factories=t}return n.create=function(t,e){if(e!=null){var i=e.factories.slice();t=t.concat(i)}return new n(t)},n.extend=function(t){return{provide:n,useFactory:function(e){if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return n.create(t,e)},deps:[[n,new Oo,new as]]}},n.prototype.find=function(t){var e,i=this.factories.find(function(r){return r.supports(t)});if(i!=null)return i;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},n.ngInjectableDef=Ce({providedIn:"root",factory:function(){return new n([new kg])}}),n}(),Pi=function(){function n(t){this.factories=t}return n.create=function(t,e){if(e){var i=e.factories.slice();t=t.concat(i)}return new n(t)},n.extend=function(t){return{provide:n,useFactory:function(e){if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return n.create(t,e)},deps:[[n,new Oo,new as]]}},n.prototype.find=function(t){var e=this.factories.find(function(i){return i.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},n.ngInjectableDef=Ce({providedIn:"root",factory:function(){return new n([new Tg])}}),n}(),fw=[new Tg],gw=new An([new kg]),mw=new Pi(fw),vw=wg(null,"core",[{provide:ua,useValue:"unknown"},{provide:Cg,deps:[In]},{provide:bg,deps:[]},{provide:lh,deps:[]}]),vh=new de("LocaleId");function yw(){return gw}function bw(){return mw}function _w(n){return n||"en-US"}var Ig=function(){return function(n){}}();function zl(n,t,e){var i=n.state,r=1792&i;return r===t?(n.state=-1793&i|e,n.initIndex=-1,!0):r===e}function Hl(n,t,e){return(1792&n.state)===t&&n.initIndex<=e&&(n.initIndex=e+1,!0)}function ca(n,t){return n.nodes[t]}function xn(n,t){return n.nodes[t]}function Qr(n,t){return n.nodes[t]}function ps(n,t){return n.nodes[t]}function ha(n,t){return n.nodes[t]}var Ze={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ag(n,t,e,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+e+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(o,s){var f=new Error(o);return Pg(f,s),f}(r,n)}function Pg(n,t){n[eg]=t,n[ng]=t.logError.bind(t)}function Dg(n){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+n)}var Ji=function(){},yh=new Map;function ri(n){var t=yh.get(n);return t||(t=sn(n)+"_"+yh.size,yh.set(n,t)),t}function fe(n,t,e,i){if(ls.isWrapped(i)){i=ls.unwrap(i);var r=n.def.nodes[t].bindingIndex+e,o=ls.unwrap(n.oldValues[r]);n.oldValues[r]=new ls(o)}return i}var Rg="$$undefined",jg="$$empty";function Pe(n){return{id:Rg,styles:n.styles,encapsulation:n.encapsulation,data:n.data}}var ww=0;function Qi(n,t,e,i){return!(!(2&n.state)&&Nn(n.oldValues[t.bindingIndex+e],i))}function Vn(n,t,e,i){return!!Qi(n,t,e,i)&&(n.oldValues[t.bindingIndex+e]=i,!0)}function sr(n,t,e,i){var r=n.oldValues[t.bindingIndex+e];if(1&n.state||!Cf(r,i)){var o=t.bindings[e].name;throw Ag(Ze.createDebugContext(n,t.nodeIndex),o+": "+r,o+": "+i,(1&n.state)!=0)}}function Fg(n){for(var t=n;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function xw(n,t){for(var e=n;e&&e!==t;)e.state|=64,e=e.viewContainerParent||e.parent}function Mg(n,t,e,i){try{return Fg(33554432&n.def.nodes[t].flags?xn(n,t).componentView:n),Ze.handleEvent(n,t,e,i)}catch(r){n.root.errorHandler.handleError(r)}}function bh(n){return n.parent?xn(n.parent,n.parentNodeDef.nodeIndex):null}function ds(n){return n.parent?n.parentNodeDef.parent:null}function pa(n,t){switch(201347067&t.flags){case 1:return xn(n,t.nodeIndex).renderElement;case 2:return ca(n,t.nodeIndex).renderText}}function Do(n){return!!n.parent&&!!(32768&n.parentNodeDef.flags)}function Cw(n){return!(!n.parent||32768&n.parentNodeDef.flags)}function Lg(n){return 1<<n%32}function _h(n){var t={},e=0,i={};return n&&n.forEach(function(r){var o=z(r,2),s=o[0],f=o[1];typeof s=="number"?(t[s]=f,e|=Lg(s)):i[s]=f}),{matchedQueries:t,references:i,matchedQueryIds:e}}function da(n,t){return n.map(function(e){var i,r,o;return Array.isArray(e)?(o=(i=z(e,2))[0],r=i[1]):(o=0,r=e),r&&(typeof r=="function"||typeof r=="object")&&t&&Object.defineProperty(r,Fc,{value:t,configurable:!0}),{flags:o,token:r,tokenKey:ri(r)}})}function wh(n,t,e){var i=e.renderParent;return i?!(1&i.flags)||!(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===zi.Native?xn(n,e.renderParent.nodeIndex).renderElement:void 0:t}var Ng=new WeakMap;function fs(n){var t=Ng.get(n);return t||((t=n(function(){return Ji})).factory=n,Ng.set(n,t)),t}function Ul(n,t,e,i,r){t===3&&(e=n.renderer.parentNode(pa(n,n.def.lastRenderRootNode))),Bg(n,t,0,n.def.nodes.length-1,e,i,r)}function Bg(n,t,e,i,r,o,s){for(var f=e;f<=i;f++){var _=n.def.nodes[f];11&_.flags&&zg(n,_,t,r,o,s),f+=_.childCount}}function Vg(n,t,e,i,r,o){for(var s=n;s&&!Do(s);)s=s.parent;for(var f=s.parent,_=ds(s),S=_.nodeIndex+_.childCount,T=_.nodeIndex+1;T<=S;T++){var F=f.def.nodes[T];F.ngContentIndex===t&&zg(f,F,e,i,r,o),T+=F.childCount}if(!f.parent){var U=n.root.projectableNodes[t];if(U)for(T=0;T<U.length;T++)Wl(n,U[T],e,i,r,o)}}function zg(n,t,e,i,r,o){if(8&t.flags)Vg(n,t.ngContent.index,e,i,r,o);else{var s=pa(n,t);if(e===3&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Wl(n,s,e,i,r,o),32&t.bindingFlags&&Wl(xn(n,t.nodeIndex).componentView,s,e,i,r,o)):Wl(n,s,e,i,r,o),16777216&t.flags)for(var f=xn(n,t.nodeIndex).viewContainer._embeddedViews,_=0;_<f.length;_++)Ul(f[_],e,i,r,o);1&t.flags&&!t.element.name&&Bg(n,e,t.nodeIndex+1,t.nodeIndex+t.childCount,i,r,o)}}function Wl(n,t,e,i,r,o){var s=n.renderer;switch(e){case 1:s.appendChild(i,t);break;case 2:s.insertBefore(i,t,r);break;case 3:s.removeChild(i,t);break;case 0:o.push(t)}}var Sw=/^:([^:]+):(.+)$/;function fa(n){if(n[0]===":"){var t=n.match(Sw);return[t[1],t[2]]}return["",n]}function xh(n){for(var t=0,e=0;e<n.length;e++)t|=n[e].flags;return t}function $r(n,t,e,i,r,o,s,f,_,S,T,F,U,J,ct,st,xt,yt,Dt,Pt){switch(n){case 1:return t+He(e)+i;case 2:return t+He(e)+i+He(r)+o;case 3:return t+He(e)+i+He(r)+o+He(s)+f;case 4:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S;case 5:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S+He(T)+F;case 6:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S+He(T)+F+He(U)+J;case 7:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S+He(T)+F+He(U)+J+He(ct)+st;case 8:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S+He(T)+F+He(U)+J+He(ct)+st+He(xt)+yt;case 9:return t+He(e)+i+He(r)+o+He(s)+f+He(_)+S+He(T)+F+He(U)+J+He(ct)+st+He(xt)+yt+He(Dt)+Pt;default:throw new Error("Does not support more than 9 expressions")}}function He(n){return n!=null?n.toString():""}function Rt(n,t,e,i,r,o){n|=1;var s=_h(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:n,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:e,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?fs(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Ji},provider:null,text:null,query:null,ngContent:null}}function P(n,t,e,i,r,o,s,f,_,S,T,F){var U;s===void 0&&(s=[]),S||(S=Ji);var J=_h(e),ct=J.matchedQueries,st=J.references,xt=J.matchedQueryIds,yt=null,Dt=null;o&&(yt=(U=z(fa(o),2))[0],Dt=U[1]),f=f||[];for(var Pt=new Array(f.length),At=0;At<f.length;At++){var qt=z(f[At],3),Zt=qt[0],ie=qt[2],ce=z(fa(qt[1]),2),Yt=ce[0],Wt=ce[1],Le=void 0,Ke=void 0;switch(15&Zt){case 4:Ke=ie;break;case 1:case 8:Le=ie}Pt[At]={flags:Zt,ns:Yt,name:Wt,nonMinifiedName:Wt,securityContext:Le,suffix:Ke}}_=_||[];var dn=new Array(_.length);for(At=0;At<_.length;At++){var an=z(_[At],2);dn[At]={type:0,target:an[0],eventName:an[1],propName:null}}var mn=(s=s||[]).map(function(en){var ln=z(en,2),Sn=ln[1],Tn=z(fa(ln[0]),2);return[Tn[0],Tn[1],Sn]});return F=function(en){if(en&&en.id===Rg){var ln=en.encapsulation!=null&&en.encapsulation!==zi.None||en.styles.length||Object.keys(en.data).length;en.id=ln?"c"+ww++:jg}return en&&en.id===jg&&(en=null),en||null}(F),T&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:ct,matchedQueryIds:xt,references:st,ngContentIndex:i,childCount:r,bindings:Pt,bindingFlags:xh(Pt),outputs:dn,element:{ns:yt,name:Dt,attrs:mn,template:null,componentProvider:null,componentView:T||null,componentRendererType:F,publicProviders:null,allProviders:null,handleEvent:S||Ji},provider:null,text:null,query:null,ngContent:null}}function kw(n,t,e){var i,r=e.element,o=n.root.selectorOrNode,s=n.renderer;if(n.parent||!o){i=r.name?s.createElement(r.name,r.ns):s.createComment("");var f=wh(n,t,e);f&&s.appendChild(f,i)}else i=s.selectRootElement(o,!!r.componentRendererType&&r.componentRendererType.encapsulation===zi.ShadowDom);if(r.attrs)for(var _=0;_<r.attrs.length;_++){var S=z(r.attrs[_],3);s.setAttribute(i,S[1],S[2],S[0])}return i}function Ew(n,t,e,i){for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],s=Ow(n,e.nodeIndex,(F=o.eventName,(T=o.target)?T+":"+F:F)),f=o.target,_=n;o.target==="component"&&(f=null,_=t);var S=_.renderer.listen(f||i,o.eventName,s);n.disposables[e.outputIndex+r]=S}var T,F}function Ow(n,t,e){return function(i){return Mg(n,t,e,i)}}function ar(n,t,e,i){if(!Vn(n,t,e,i))return!1;var r=t.bindings[e],o=xn(n,t.nodeIndex),s=o.renderElement,f=r.name;switch(15&r.flags){case 1:(function(_,S,T,F,U,J){var ct=S.securityContext,st=ct?_.root.sanitizer.sanitize(ct,J):J;st=st!=null?st.toString():null;var xt=_.renderer;J!=null?xt.setAttribute(T,U,st,F):xt.removeAttribute(T,U,F)})(n,r,s,r.ns,f,i);break;case 2:(function(_,S,T,F){var U=_.renderer;F?U.addClass(S,T):U.removeClass(S,T)})(n,s,f,i);break;case 4:(function(_,S,T,F,U){var J=_.root.sanitizer.sanitize(Zi.STYLE,U);if(J!=null){J=J.toString();var ct=S.suffix;ct!=null&&(J+=ct)}else J=null;var st=_.renderer;J!=null?st.setStyle(T,F,J):st.removeStyle(T,F)})(n,r,s,f,i);break;case 8:(function(_,S,T,F,U){var J=S.securityContext,ct=J?_.root.sanitizer.sanitize(J,U):U;_.renderer.setProperty(T,F,ct)})(33554432&t.flags&&32&r.flags?o.componentView:n,r,s,f,i)}return!0}var ga=new Object,Tw=ri(In),Iw=ri(Pr),Aw=ri(qr);function Tt(n,t,e,i){return e=yn(e),{index:-1,deps:da(i,sn(t)),flags:n,token:t,value:e}}function mi(n,t,e){e===void 0&&(e=In.THROW_IF_NOT_FOUND);var i,r,o=xl(n);try{if(8&t.flags)return t.token;if(2&t.flags&&(e=null),1&t.flags)return n._parent.get(t.token,e);var s=t.tokenKey;switch(s){case Tw:case Iw:case Aw:return n}var f,_=n._def.providersByKey[s];if(_){var S=n._providers[_.index];return S===void 0&&(S=n._providers[_.index]=Ch(n,_)),S===ga?void 0:S}if((f=Wn(t.token))&&(i=n,(r=f).providedIn!=null&&(function(F,U){return F._def.modules.indexOf(r.providedIn)>-1}(i)||r.providedIn==="root"&&i._def.isRoot))){var T=n._providers.length;return n._def.providersByKey[t.tokenKey]={flags:5120,value:f.factory,deps:[],index:T,token:t.token},n._providers[T]=ga,n._providers[T]=Ch(n,n._def.providersByKey[t.tokenKey])}return 4&t.flags?e:n._parent.get(t.token,e)}finally{xl(o)}}function Ch(n,t){var e;switch(201347067&t.flags){case 512:e=function(i,r,o){var s=o.length;switch(s){case 0:return new r;case 1:return new r(mi(i,o[0]));case 2:return new r(mi(i,o[0]),mi(i,o[1]));case 3:return new r(mi(i,o[0]),mi(i,o[1]),mi(i,o[2]));default:for(var f=new Array(s),_=0;_<s;_++)f[_]=mi(i,o[_]);return new(r.bind.apply(r,N([void 0],f)))}}(n,t.value,t.deps);break;case 1024:e=function(i,r,o){var s=o.length;switch(s){case 0:return r();case 1:return r(mi(i,o[0]));case 2:return r(mi(i,o[0]),mi(i,o[1]));case 3:return r(mi(i,o[0]),mi(i,o[1]),mi(i,o[2]));default:for(var f=Array(s),_=0;_<s;_++)f[_]=mi(i,o[_]);return r.apply(void 0,N(f))}}(n,t.value,t.deps);break;case 2048:e=mi(n,t.deps[0]);break;case 256:e=t.value}return e===ga||e==null||typeof e!="object"||131072&t.flags||typeof e.ngOnDestroy!="function"||(t.flags|=131072),e===void 0?ga:e}function Sh(n,t){var e=n.viewContainer._embeddedViews;if((t==null||t>=e.length)&&(t=e.length-1),t<0)return null;var i=e[t];return i.viewContainerParent=null,Eh(e,t),Ze.dirtyParentQueries(i),kh(i),i}function Hg(n,t,e){var i=t?pa(t,t.def.lastRenderRootNode):n.renderElement,r=e.renderer.parentNode(i),o=e.renderer.nextSibling(i);Ul(e,2,r,o,void 0)}function kh(n){Ul(n,3,null,null,void 0)}function Ug(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Eh(n,t){t>=n.length-1?n.pop():n.splice(t,1)}var Pw=new Object;function $i(n,t,e,i,r,o){return new Dw(n,t,e,i,r,o)}var Dw=function(n){function t(e,i,r,o,s,f){var _=n.call(this)||this;return _.selector=e,_.componentType=i,_._inputs=o,_._outputs=s,_.ngContentSelectors=f,_.viewDefFactory=r,_}return k(t,n),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],i=this._inputs;for(var r in i)e.push({propName:r,templateName:i[r]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var i in this._outputs)e.push({propName:i,templateName:this._outputs[i]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,i,r,o){if(!o)throw new Error("ngModule should be provided");var s=fs(this.viewDefFactory),f=s.nodes[0].element.componentProvider.nodeIndex,_=Ze.createRootView(e,i||[],r,s,o,Pw),S=Qr(_,f).instance;return r&&_.renderer.setAttribute(xn(_,0).renderElement,"ng-version",Gc.full),new Rw(_,new ma(_),S)},t}(jl),Rw=function(n){function t(e,i,r){var o=n.call(this)||this;return o._view=e,o._viewRef=i,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=i,o.changeDetectorRef=i,o.instance=r,o}return k(t,n),Object.defineProperty(t.prototype,"location",{get:function(){return new lt(xn(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new va(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(zf);function jw(n,t,e){return new Fw(n,t,e)}var Fw=function(){function n(t,e,i){this._view=t,this._elDef=e,this._data=i,this._embeddedViews=[]}return Object.defineProperty(n.prototype,"element",{get:function(){return new lt(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new va(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ds(t),t=t.parent;return t?new va(t,e):new va(this._view,null)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Sh(this._data,t);Ze.destroyView(e)}},n.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var i=new ma(e);return i.attachToViewContainerRef(this),i}return null},Object.defineProperty(n.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,i){var r=t.createEmbeddedView(e||{});return this.insert(r,i),r},n.prototype.createComponent=function(t,e,i,r,o){var s=i||this.parentInjector;o||t instanceof Wc||(o=s.get(qr));var f=t.create(s,r,void 0,o);return this.insert(f.hostView,e),f},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var i,r,o,s,f=t;return s=(i=this._data).viewContainer._embeddedViews,(r=e)==null&&(r=s.length),(o=f._view).viewContainerParent=this._view,Ug(s,r,o),function(_,S){var T=bh(S);if(T&&T!==_&&!(16&S.state)){S.state|=16;var F=T.template._projectedViews;F||(F=T.template._projectedViews=[]),F.push(S),function(U,J){if(!(4&J.flags)){S.parent.def.nodeFlags|=4,J.flags|=4;for(var ct=J.parent;ct;)ct.childFlags|=4,ct=ct.parent}}(0,S.parentNodeDef)}}(i,o),Ze.dirtyParentQueries(o),Hg(i,r>0?s[r-1]:null,o),f.attachToViewContainerRef(this),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var i,r,o,s,f,_=this._embeddedViews.indexOf(t._view);return o=e,f=(s=(i=this._data).viewContainer._embeddedViews)[r=_],Eh(s,r),o==null&&(o=s.length),Ug(s,o,f),Ze.dirtyParentQueries(f),kh(f),Hg(i,o>0?s[o-1]:null,f),t},n.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},n.prototype.remove=function(t){var e=Sh(this._data,t);e&&Ze.destroyView(e)},n.prototype.detach=function(t){var e=Sh(this._data,t);return e?new ma(e):null},n}();function Mw(n){return new ma(n)}var ma=function(){function n(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(n.prototype,"rootNodes",{get:function(){return Ul(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return(128&this._view.state)!=0},enumerable:!0,configurable:!0}),n.prototype.markForCheck=function(){Fg(this._view)},n.prototype.detach=function(){this._view.state&=-5},n.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ze.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},n.prototype.checkNoChanges=function(){Ze.checkNoChangesView(this._view)},n.prototype.reattach=function(){this._view.state|=4},n.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},n.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ze.destroyView(this._view)},n.prototype.detachFromAppRef=function(){this._appRef=null,kh(this._view),Ze.dirtyParentQueries(this._view)},n.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},n.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},n}();function Lw(n,t){return new Nw(n,t)}var Nw=function(n){function t(e,i){var r=n.call(this)||this;return r._parentView=e,r._def=i,r}return k(t,n),t.prototype.createEmbeddedView=function(e){return new ma(Ze.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new lt(xn(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Lt);function Wg(n,t){return new va(n,t)}var va=function(){function n(t,e){this.view=t,this.elDef=e}return n.prototype.get=function(t,e){return e===void 0&&(e=In.THROW_IF_NOT_FOUND),Ze.resolveDep(this.view,this.elDef,!!this.elDef&&(33554432&this.elDef.flags)!=0,{flags:0,token:t,tokenKey:ri(t)},e)},n}();function d(n,t){var e=n.def.nodes[t];if(1&e.flags){var i=xn(n,e.nodeIndex);return e.element.template?i.template:i.renderElement}if(2&e.flags)return ca(n,e.nodeIndex).renderText;if(20240&e.flags)return Qr(n,e.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function Bw(n){return new Vw(n.renderer)}var Vw=function(){function n(t){this.delegate=t}return n.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},n.prototype.createElement=function(t,e){var i=z(fa(e),2),r=this.delegate.createElement(i[1],i[0]);return t&&this.delegate.appendChild(t,r),r},n.prototype.createViewRoot=function(t){return t},n.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},n.prototype.createText=function(t,e){var i=this.delegate.createText(e);return t&&this.delegate.appendChild(t,i),i},n.prototype.projectNodes=function(t,e){for(var i=0;i<e.length;i++)this.delegate.appendChild(t,e[i])},n.prototype.attachViewAfter=function(t,e){for(var i=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(i,e[o],r)},n.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var i=t[e],r=this.delegate.parentNode(i);this.delegate.removeChild(r,i)}},n.prototype.destroyView=function(t,e){for(var i=0;i<e.length;i++)this.delegate.destroyNode(e[i])},n.prototype.listen=function(t,e,i){return this.delegate.listen(t,e,i)},n.prototype.listenGlobal=function(t,e,i){return this.delegate.listen(t,e,i)},n.prototype.setElementProperty=function(t,e,i){this.delegate.setProperty(t,e,i)},n.prototype.setElementAttribute=function(t,e,i){var r=z(fa(e),2),o=r[0],s=r[1];i!=null?this.delegate.setAttribute(t,s,i,o):this.delegate.removeAttribute(t,s,o)},n.prototype.setBindingDebugInfo=function(t,e,i){},n.prototype.setElementClass=function(t,e,i){i?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},n.prototype.setElementStyle=function(t,e,i){i!=null?this.delegate.setStyle(t,e,i):this.delegate.removeStyle(t,e)},n.prototype.invokeElementMethod=function(t,e,i){t[e].apply(t,i)},n.prototype.setText=function(t,e){this.delegate.setValue(t,e)},n.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},n}();function Xg(n,t,e,i){return new zw(n,t,e,i)}var zw=function(){function n(t,e,i,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=i,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(o){for(var s=o._def,f=o._providers=new Array(s.providers.length),_=0;_<s.providers.length;_++){var S=s.providers[_];4096&S.flags||f[_]===void 0&&(f[_]=Ch(o,S))}}(this)}return n.prototype.get=function(t,e,i){e===void 0&&(e=In.THROW_IF_NOT_FOUND),i===void 0&&(i=fn.Default);var r=0;return i&fn.SkipSelf?r|=1:i&fn.Self&&(r|=4),mi(this,{token:t,tokenKey:ri(t),flags:r},e)},Object.defineProperty(n.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentFactoryResolver",{get:function(){return this.get(or)},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+sn(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var i=t._def,r=new Set,o=0;o<i.providers.length;o++)if(131072&i.providers[o].flags){var s=t._providers[o];if(s&&s!==ga){var f=s.ngOnDestroy;typeof f!="function"||r.has(s)||(f.apply(s),r.add(s))}}}(this),this._destroyListeners.forEach(function(t){return t()})},n.prototype.onDestroy=function(t){this._destroyListeners.push(t)},n}(),Hw=ri(f1),Uw=ri(un),Ww=ri(lt),Xw=ri(jt),Yw=ri(Lt),Yg=ri(ee),Gw=ri(In),qw=ri(Pr);function D(n,t,e,i,r,o,s,f){var _=[];if(s)for(var S in s){var T=z(s[S],2);_[T[0]]={flags:8,name:S,nonMinifiedName:T[1],ns:null,securityContext:null,suffix:null}}var F=[];if(f)for(var U in f)F.push({type:1,propName:U,target:null,eventName:f[U]});return Oh(n,t|=16384,e,i,r,r,o,_,F)}function je(n,t,e){return Oh(-1,n|=16,null,0,t,t,e)}function $t(n,t,e,i,r){return Oh(-1,n,t,0,e,i,r)}function Oh(n,t,e,i,r,o,s,f,_){var S=_h(e),T=S.matchedQueries,F=S.references,U=S.matchedQueryIds;_||(_=[]),f||(f=[]),o=yn(o);var J=da(s,sn(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:T,matchedQueryIds:U,references:F,ngContentIndex:-1,childCount:i,bindings:f,bindingFlags:xh(f),outputs:_,element:null,provider:{token:r,value:o,deps:J},text:null,query:null,ngContent:null}}function Kw(n,t){return Gg(n,t)}function Zw(n,t){for(var e=n;e.parent&&!Do(e);)e=e.parent;return Th(e.parent,ds(e),!0,t.provider.value,t.provider.deps)}function Jw(n,t){var e=Th(n,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var i=0;i<t.outputs.length;i++){var r=t.outputs[i],o=e[r.propName];if(!rh(o))throw new Error("@Output "+r.propName+" not initialized in '"+e.constructor.name+"'.");var s=o.subscribe(Qw(n,t.parent.nodeIndex,r.eventName));n.disposables[t.outputIndex+i]=s.unsubscribe.bind(s)}return e}function Qw(n,t,e){return function(i){return Mg(n,t,e,i)}}function Gg(n,t){var e=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return Th(n,t.parent,e,i.value,i.deps);case 1024:return function(r,o,s,f,_){var S=_.length;switch(S){case 0:return f();case 1:return f(vi(r,o,s,_[0]));case 2:return f(vi(r,o,s,_[0]),vi(r,o,s,_[1]));case 3:return f(vi(r,o,s,_[0]),vi(r,o,s,_[1]),vi(r,o,s,_[2]));default:for(var T=Array(S),F=0;F<S;F++)T[F]=vi(r,o,s,_[F]);return f.apply(void 0,N(T))}}(n,t.parent,e,i.value,i.deps);case 2048:return vi(n,t.parent,e,i.deps[0]);case 256:return i.value}}function Th(n,t,e,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(vi(n,t,e,r[0]));case 2:return new i(vi(n,t,e,r[0]),vi(n,t,e,r[1]));case 3:return new i(vi(n,t,e,r[0]),vi(n,t,e,r[1]),vi(n,t,e,r[2]));default:for(var s=new Array(o),f=0;f<o;f++)s[f]=vi(n,t,e,r[f]);return new(i.bind.apply(i,N([void 0],s)))}}var Ih={};function vi(n,t,e,i,r){if(r===void 0&&(r=In.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=n;2&i.flags&&(r=null);var s=i.tokenKey;s===Yg&&(e=!(!t||!t.element.componentView)),t&&1&i.flags&&(e=!1,t=t.parent);for(var f=n;f;){if(t)switch(s){case Hw:return Bw(Ah(f,t,e));case Uw:return Ah(f,t,e).renderer;case Ww:return new lt(xn(f,t.nodeIndex).renderElement);case Xw:return xn(f,t.nodeIndex).viewContainer;case Yw:if(t.element.template)return xn(f,t.nodeIndex).template;break;case Yg:return Mw(Ah(f,t,e));case Gw:case qw:return Wg(f,t);default:var _=(e?t.element.allProviders:t.element.publicProviders)[s];if(_){var S=Qr(f,_.nodeIndex);return S||(S={instance:Gg(f,_)},f.nodes[_.nodeIndex]=S),S.instance}}e=Do(f),t=ds(f),f=f.parent,4&i.flags&&(f=null)}var T=o.root.injector.get(i.token,Ih);return T!==Ih||r===Ih?T:o.root.ngModule.injector.get(i.token,r)}function Ah(n,t,e){var i;if(e)i=xn(n,t.nodeIndex).componentView;else for(i=n;i.parent&&!Do(i);)i=i.parent;return i}function lr(n,t,e,i,r,o){if(32768&e.flags){var s=xn(n,e.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[e.bindings[i].name]=r,524288&e.flags){o=o||{};var f=ls.unwrap(n.oldValues[e.bindingIndex+i]);o[e.bindings[i].nonMinifiedName]=new G_(f,r,(2&n.state)!=0)}return n.oldValues[e.bindingIndex+i]=r,o}function Ph(n,t){if(n.def.nodeFlags&t)for(var e=n.def.nodes,i=0,r=0;r<e.length;r++){var o=e[r],s=o.parent;for(!s&&o.flags&t&&qg(n,r,o.flags&t,i++),(o.childFlags&t)==0&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(i=$w(n,s,t,i)),s=s.parent}}function $w(n,t,e,i){for(var r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){var o=n.def.nodes[r];o.flags&e&&qg(n,r,o.flags&e,i++),r+=o.childCount}return i}function qg(n,t,e,i){var r=Qr(n,t);if(r){var o=r.instance;o&&(Ze.setCurrentNode(n,t),1048576&e&&Hl(n,512,i)&&o.ngAfterContentInit(),2097152&e&&o.ngAfterContentChecked(),4194304&e&&Hl(n,768,i)&&o.ngAfterViewInit(),8388608&e&&o.ngAfterViewChecked(),131072&e&&o.ngOnDestroy())}}function Me(n,t,e){var i=[];for(var r in e)i.push({propName:r,bindingType:e[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Lg(t),bindings:i},ngContent:null}}function tx(n){for(var t=n.def.nodeMatchedQueries;n.parent&&Cw(n);){var e=n.parentNodeDef;n=n.parent;for(var i=e.nodeIndex+e.childCount,r=0;r<=i;r++)67108864&(o=n.def.nodes[r]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&ha(n,r).setDirty(),!(1&o.flags&&r+o.childCount<e.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}if(134217728&n.def.nodeFlags)for(r=0;r<n.def.nodes.length;r++){var o;134217728&(o=n.def.nodes[r]).flags&&536870912&o.flags&&ha(n,r).setDirty(),r+=o.childCount}}function ex(n,t){var e=ha(n,t.nodeIndex);if(e.dirty){var i,r=void 0;if(67108864&t.flags){var o=t.parent.parent;r=ya(n,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),i=Qr(n,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=ya(n,0,n.def.nodes.length-1,t.query,[]),i=n.component);e.reset(r);for(var s=t.query.bindings,f=!1,_=0;_<s.length;_++){var S=s[_],T=void 0;switch(S.bindingType){case 0:T=e.first;break;case 1:T=e,f=!0}i[S.propName]=T}f&&e.notifyOnChanges()}}function ya(n,t,e,i,r){for(var o=t;o<=e;o++){var s=n.def.nodes[o],f=s.matchedQueries[i.id];if(f!=null&&r.push(Kg(n,s,f)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var _=xn(n,o);if((s.childMatchedQueries&i.filterId)===i.filterId&&(ya(n,o+1,o+s.childCount,i,r),o+=s.childCount),16777216&s.flags)for(var S=_.viewContainer._embeddedViews,T=0;T<S.length;T++){var F=S[T],U=bh(F);U&&U===_&&ya(F,0,F.def.nodes.length-1,i,r)}var J=_.template._projectedViews;if(J)for(T=0;T<J.length;T++){var ct=J[T];ya(ct,0,ct.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function Kg(n,t,e){if(e!=null)switch(e){case 1:return xn(n,t.nodeIndex).renderElement;case 0:return new lt(xn(n,t.nodeIndex).renderElement);case 2:return xn(n,t.nodeIndex).template;case 3:return xn(n,t.nodeIndex).viewContainer;case 4:return Qr(n,t.nodeIndex).instance}}function Gn(n,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function nx(n,t,e){var i=wh(n,t,e);i&&Vg(n,e.ngContent.index,1,i,null,void 0)}function Qn(n,t){return Zg(128,n,new Array(t+1))}function Dh(n,t){for(var e=Object.keys(t),i=e.length,r=new Array(i),o=0;o<i;o++){var s=e[o];r[t[s]]=s}return Zg(64,n,r)}function Zg(n,t,e){for(var i=new Array(e.length),r=0;r<e.length;r++){var o=e[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:xh(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Gt(n,t,e){for(var i=new Array(e.length-1),r=1;r<e.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}function ix(n,t,e){var i,r=n.renderer;i=r.createText(e.text.prefix);var o=wh(n,t,e);return o&&r.appendChild(o,i),{renderText:i}}function ur(n,t){return(n!=null?n.toString():"")+t.suffix}function wt(n,t,e,i){for(var r=0,o=0,s=0,f=0,_=0,S=null,T=null,F=!1,U=!1,J=null,ct=0;ct<t.length;ct++){var st=t[ct];if(st.nodeIndex=ct,st.parent=S,st.bindingIndex=r,st.outputIndex=o,st.renderParent=T,s|=st.flags,_|=st.matchedQueryIds,st.element){var xt=st.element;xt.publicProviders=S?S.element.publicProviders:Object.create(null),xt.allProviders=xt.publicProviders,F=!1,U=!1,st.element.template&&(_|=st.element.template.nodeMatchedQueries)}if(rx(S,st,t.length),r+=st.bindings.length,o+=st.outputs.length,!T&&3&st.flags&&(J=st),20224&st.flags){F||(F=!0,S.element.publicProviders=Object.create(S.element.publicProviders),S.element.allProviders=S.element.publicProviders);var yt=(32768&st.flags)!=0;!(8192&st.flags)||yt?S.element.publicProviders[ri(st.provider.token)]=st:(U||(U=!0,S.element.allProviders=Object.create(S.element.publicProviders)),S.element.allProviders[ri(st.provider.token)]=st),yt&&(S.element.componentProvider=st)}if(S?(S.childFlags|=st.flags,S.directChildFlags|=st.flags,S.childMatchedQueries|=st.matchedQueryIds,st.element&&st.element.template&&(S.childMatchedQueries|=st.element.template.nodeMatchedQueries)):f|=st.flags,st.childCount>0)S=st,Jg(st)||(T=st);else for(;S&&ct===S.nodeIndex+S.childCount;){var Dt=S.parent;Dt&&(Dt.childFlags|=S.childFlags,Dt.childMatchedQueries|=S.childMatchedQueries),T=(S=Dt)&&Jg(S)?S.renderParent:S}}return{factory:null,nodeFlags:s,rootNodeFlags:f,nodeMatchedQueries:_,flags:n,nodes:t,updateDirectives:e||Ji,updateRenderer:i||Ji,handleEvent:function(Pt,At,qt,Zt){return t[At].element.handleEvent(Pt,qt,Zt)},bindingCount:r,outputCount:o,lastRenderRootNode:J}}function Jg(n){return(1&n.flags)!=0&&n.element.name===null}function rx(n,t,e){var i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&!(1&(n?n.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!n||!(16384&n.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&n)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var r=n?n.nodeIndex+n.childCount:e-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function Qg(n,t,e,i){var r=Rh(n.root,n.renderer,n,t,e);return jh(r,n.component,i),Fh(r),r}function $g(n,t,e){var i=Rh(n,n.renderer,null,null,t);return jh(i,e,e),Fh(i),i}function tm(n,t,e,i){var r,o=t.element.componentRendererType;return r=o?n.root.rendererFactory.createRenderer(i,o):n.root.renderer,Rh(n.root,r,n,t.element.componentProvider,e)}function Rh(n,t,e,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:e,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:n,renderer:t,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function jh(n,t,e){n.component=t,n.context=e}function Fh(n){var t;Do(n)&&(t=xn(n.parent,n.parentNodeDef.parent.nodeIndex).renderElement);for(var e=n.def,i=n.nodes,r=0;r<e.nodes.length;r++){var o=e.nodes[r];Ze.setCurrentNode(n,r);var s=void 0;switch(201347067&o.flags){case 1:var f=kw(n,t,o),_=void 0;if(33554432&o.flags){var S=fs(o.element.componentView);_=Ze.createComponentView(n,o,S,f)}Ew(n,_,o,f),s={renderElement:f,componentView:_,viewContainer:null,template:o.element.template?Lw(n,o):void 0},16777216&o.flags&&(s.viewContainer=jw(n,o,s));break;case 2:s=ix(n,t,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:Kw(n,o)});break;case 16:s={instance:Zw(n,o)};break;case 16384:(s=i[r])||(s={instance:Jw(n,o)}),32768&o.flags&&jh(xn(n,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new fh;break;case 8:nx(n,t,o),s=void 0}i[r]=s}ba(n,Ci.CreateViewNodes),Lh(n,201326592,268435456,0)}function Xl(n){nm(n),Ze.updateDirectives(n,1),Gl(n,Ci.CheckNoChanges),Ze.updateRenderer(n,1),ba(n,Ci.CheckNoChanges),n.state&=-97}function Yl(n){1&n.state?(n.state&=-2,n.state|=2):n.state&=-3,zl(n,0,256),nm(n),Ze.updateDirectives(n,0),Gl(n,Ci.CheckAndUpdate),Lh(n,67108864,536870912,0);var t=zl(n,256,512);Ph(n,2097152|(t?1048576:0)),Ze.updateRenderer(n,0),ba(n,Ci.CheckAndUpdate),Lh(n,134217728,536870912,0),Ph(n,8388608|((t=zl(n,512,768))?4194304:0)),2&n.def.flags&&(n.state&=-9),n.state&=-97,zl(n,768,1024)}function em(n,t,e,i,r,o,s,f,_,S,T,F,U){return e===0?function(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce){switch(201347067&ct.flags){case 1:return function(Yt,Wt,Le,Ke,dn,an,mn,en,ln,Sn,Tn,vn){var _e=Wt.bindings.length,Ve=!1;return _e>0&&ar(Yt,Wt,0,Le)&&(Ve=!0),_e>1&&ar(Yt,Wt,1,Ke)&&(Ve=!0),_e>2&&ar(Yt,Wt,2,dn)&&(Ve=!0),_e>3&&ar(Yt,Wt,3,an)&&(Ve=!0),_e>4&&ar(Yt,Wt,4,mn)&&(Ve=!0),_e>5&&ar(Yt,Wt,5,en)&&(Ve=!0),_e>6&&ar(Yt,Wt,6,ln)&&(Ve=!0),_e>7&&ar(Yt,Wt,7,Sn)&&(Ve=!0),_e>8&&ar(Yt,Wt,8,Tn)&&(Ve=!0),_e>9&&ar(Yt,Wt,9,vn)&&(Ve=!0),Ve}(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce);case 2:return function(Yt,Wt,Le,Ke,dn,an,mn,en,ln,Sn,Tn,vn){var _e=!1,Ve=Wt.bindings,pe=Ve.length;if(pe>0&&Vn(Yt,Wt,0,Le)&&(_e=!0),pe>1&&Vn(Yt,Wt,1,Ke)&&(_e=!0),pe>2&&Vn(Yt,Wt,2,dn)&&(_e=!0),pe>3&&Vn(Yt,Wt,3,an)&&(_e=!0),pe>4&&Vn(Yt,Wt,4,mn)&&(_e=!0),pe>5&&Vn(Yt,Wt,5,en)&&(_e=!0),pe>6&&Vn(Yt,Wt,6,ln)&&(_e=!0),pe>7&&Vn(Yt,Wt,7,Sn)&&(_e=!0),pe>8&&Vn(Yt,Wt,8,Tn)&&(_e=!0),pe>9&&Vn(Yt,Wt,9,vn)&&(_e=!0),_e){var nn=Wt.text.prefix;pe>0&&(nn+=ur(Le,Ve[0])),pe>1&&(nn+=ur(Ke,Ve[1])),pe>2&&(nn+=ur(dn,Ve[2])),pe>3&&(nn+=ur(an,Ve[3])),pe>4&&(nn+=ur(mn,Ve[4])),pe>5&&(nn+=ur(en,Ve[5])),pe>6&&(nn+=ur(ln,Ve[6])),pe>7&&(nn+=ur(Sn,Ve[7])),pe>8&&(nn+=ur(Tn,Ve[8])),pe>9&&(nn+=ur(vn,Ve[9]));var Re=ca(Yt,Wt.nodeIndex).renderText;Yt.renderer.setValue(Re,nn)}return _e}(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce);case 16384:return function(Yt,Wt,Le,Ke,dn,an,mn,en,ln,Sn,Tn,vn){var _e=Qr(Yt,Wt.nodeIndex),Ve=_e.instance,pe=!1,nn=void 0,Re=Wt.bindings.length;return Re>0&&Qi(Yt,Wt,0,Le)&&(pe=!0,nn=lr(Yt,_e,Wt,0,Le,nn)),Re>1&&Qi(Yt,Wt,1,Ke)&&(pe=!0,nn=lr(Yt,_e,Wt,1,Ke,nn)),Re>2&&Qi(Yt,Wt,2,dn)&&(pe=!0,nn=lr(Yt,_e,Wt,2,dn,nn)),Re>3&&Qi(Yt,Wt,3,an)&&(pe=!0,nn=lr(Yt,_e,Wt,3,an,nn)),Re>4&&Qi(Yt,Wt,4,mn)&&(pe=!0,nn=lr(Yt,_e,Wt,4,mn,nn)),Re>5&&Qi(Yt,Wt,5,en)&&(pe=!0,nn=lr(Yt,_e,Wt,5,en,nn)),Re>6&&Qi(Yt,Wt,6,ln)&&(pe=!0,nn=lr(Yt,_e,Wt,6,ln,nn)),Re>7&&Qi(Yt,Wt,7,Sn)&&(pe=!0,nn=lr(Yt,_e,Wt,7,Sn,nn)),Re>8&&Qi(Yt,Wt,8,Tn)&&(pe=!0,nn=lr(Yt,_e,Wt,8,Tn,nn)),Re>9&&Qi(Yt,Wt,9,vn)&&(pe=!0,nn=lr(Yt,_e,Wt,9,vn,nn)),nn&&Ve.ngOnChanges(nn),65536&Wt.flags&&Hl(Yt,256,Wt.nodeIndex)&&Ve.ngOnInit(),262144&Wt.flags&&Ve.ngDoCheck(),pe}(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce);case 32:case 64:case 128:return function(Yt,Wt,Le,Ke,dn,an,mn,en,ln,Sn,Tn,vn){var _e=Wt.bindings,Ve=!1,pe=_e.length;if(pe>0&&Vn(Yt,Wt,0,Le)&&(Ve=!0),pe>1&&Vn(Yt,Wt,1,Ke)&&(Ve=!0),pe>2&&Vn(Yt,Wt,2,dn)&&(Ve=!0),pe>3&&Vn(Yt,Wt,3,an)&&(Ve=!0),pe>4&&Vn(Yt,Wt,4,mn)&&(Ve=!0),pe>5&&Vn(Yt,Wt,5,en)&&(Ve=!0),pe>6&&Vn(Yt,Wt,6,ln)&&(Ve=!0),pe>7&&Vn(Yt,Wt,7,Sn)&&(Ve=!0),pe>8&&Vn(Yt,Wt,8,Tn)&&(Ve=!0),pe>9&&Vn(Yt,Wt,9,vn)&&(Ve=!0),Ve){var nn=ps(Yt,Wt.nodeIndex),Re=void 0;switch(201347067&Wt.flags){case 32:Re=new Array(_e.length),pe>0&&(Re[0]=Le),pe>1&&(Re[1]=Ke),pe>2&&(Re[2]=dn),pe>3&&(Re[3]=an),pe>4&&(Re[4]=mn),pe>5&&(Re[5]=en),pe>6&&(Re[6]=ln),pe>7&&(Re[7]=Sn),pe>8&&(Re[8]=Tn),pe>9&&(Re[9]=vn);break;case 64:Re={},pe>0&&(Re[_e[0].name]=Le),pe>1&&(Re[_e[1].name]=Ke),pe>2&&(Re[_e[2].name]=dn),pe>3&&(Re[_e[3].name]=an),pe>4&&(Re[_e[4].name]=mn),pe>5&&(Re[_e[5].name]=en),pe>6&&(Re[_e[6].name]=ln),pe>7&&(Re[_e[7].name]=Sn),pe>8&&(Re[_e[8].name]=Tn),pe>9&&(Re[_e[9].name]=vn);break;case 128:var Bi=Le;switch(pe){case 1:Re=Bi.transform(Le);break;case 2:Re=Bi.transform(Ke);break;case 3:Re=Bi.transform(Ke,dn);break;case 4:Re=Bi.transform(Ke,dn,an);break;case 5:Re=Bi.transform(Ke,dn,an,mn);break;case 6:Re=Bi.transform(Ke,dn,an,mn,en);break;case 7:Re=Bi.transform(Ke,dn,an,mn,en,ln);break;case 8:Re=Bi.transform(Ke,dn,an,mn,en,ln,Sn);break;case 9:Re=Bi.transform(Ke,dn,an,mn,en,ln,Sn,Tn);break;case 10:Re=Bi.transform(Ke,dn,an,mn,en,ln,Sn,Tn,vn)}}nn.value=Re}return Ve}(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce);default:throw"unreachable"}}(n,t,i,r,o,s,f,_,S,T,F,U):function(J,ct,st){switch(201347067&ct.flags){case 1:return function(xt,yt,Dt){for(var Pt=!1,At=0;At<Dt.length;At++)ar(xt,yt,At,Dt[At])&&(Pt=!0);return Pt}(J,ct,st);case 2:return function(xt,yt,Dt){for(var Pt=yt.bindings,At=!1,qt=0;qt<Dt.length;qt++)Vn(xt,yt,qt,Dt[qt])&&(At=!0);if(At){var Zt="";for(qt=0;qt<Dt.length;qt++)Zt+=ur(Dt[qt],Pt[qt]);Zt=yt.text.prefix+Zt;var ie=ca(xt,yt.nodeIndex).renderText;xt.renderer.setValue(ie,Zt)}return At}(J,ct,st);case 16384:return function(xt,yt,Dt){for(var Pt=Qr(xt,yt.nodeIndex),At=Pt.instance,qt=!1,Zt=void 0,ie=0;ie<Dt.length;ie++)Qi(xt,yt,ie,Dt[ie])&&(qt=!0,Zt=lr(xt,Pt,yt,ie,Dt[ie],Zt));return Zt&&At.ngOnChanges(Zt),65536&yt.flags&&Hl(xt,256,yt.nodeIndex)&&At.ngOnInit(),262144&yt.flags&&At.ngDoCheck(),qt}(J,ct,st);case 32:case 64:case 128:return function(xt,yt,Dt){for(var Pt=yt.bindings,At=!1,qt=0;qt<Dt.length;qt++)Vn(xt,yt,qt,Dt[qt])&&(At=!0);if(At){var Zt=ps(xt,yt.nodeIndex),ie=void 0;switch(201347067&yt.flags){case 32:ie=Dt;break;case 64:for(ie={},qt=0;qt<Dt.length;qt++)ie[Pt[qt].name]=Dt[qt];break;case 128:var ce=Dt[0],Yt=Dt.slice(1);ie=ce.transform.apply(ce,N(Yt))}Zt.value=ie}return At}(J,ct,st);default:throw"unreachable"}}(n,t,i)}function nm(n){var t=n.def;if(4&t.nodeFlags)for(var e=0;e<t.nodes.length;e++){var i=t.nodes[e];if(4&i.flags){var r=xn(n,e).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,xw(s,n)}}else!(4&i.childFlags)&&(e+=i.childCount)}}function im(n,t,e,i,r,o,s,f,_,S,T,F,U){return e===0?function(J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce){var Yt=ct.bindings.length;Yt>0&&sr(J,ct,0,st),Yt>1&&sr(J,ct,1,xt),Yt>2&&sr(J,ct,2,yt),Yt>3&&sr(J,ct,3,Dt),Yt>4&&sr(J,ct,4,Pt),Yt>5&&sr(J,ct,5,At),Yt>6&&sr(J,ct,6,qt),Yt>7&&sr(J,ct,7,Zt),Yt>8&&sr(J,ct,8,ie),Yt>9&&sr(J,ct,9,ce)}(n,t,i,r,o,s,f,_,S,T,F,U):function(J,ct,st){for(var xt=0;xt<st.length;xt++)sr(J,ct,xt,st[xt])}(n,t,i),!1}function ox(n,t){if(ha(n,t.nodeIndex).dirty)throw Ag(Ze.createDebugContext(n,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",(1&n.state)!=0)}function Mh(n){if(!(128&n.state)){if(Gl(n,Ci.Destroy),ba(n,Ci.Destroy),Ph(n,131072),n.disposables)for(var t=0;t<n.disposables.length;t++)n.disposables[t]();(function(e){if(16&e.state){var i=bh(e);if(i){var r=i.template._projectedViews;r&&(Eh(r,r.indexOf(e)),Ze.dirtyParentQueries(e))}}})(n),n.renderer.destroyNode&&function(e){for(var i=e.def.nodes.length,r=0;r<i;r++){var o=e.def.nodes[r];1&o.flags?e.renderer.destroyNode(xn(e,r).renderElement):2&o.flags?e.renderer.destroyNode(ca(e,r).renderText):(67108864&o.flags||134217728&o.flags)&&ha(e,r).destroy()}}(n),Do(n)&&n.renderer.destroy(),n.state|=128}}var Ci=function(n){return n[n.CreateViewNodes=0]="CreateViewNodes",n[n.CheckNoChanges=1]="CheckNoChanges",n[n.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",n[n.CheckAndUpdate=3]="CheckAndUpdate",n[n.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",n[n.Destroy=5]="Destroy",n}({});function ba(n,t){var e=n.def;if(33554432&e.nodeFlags)for(var i=0;i<e.nodes.length;i++){var r=e.nodes[i];33554432&r.flags?rm(xn(n,i).componentView,t):!(33554432&r.childFlags)&&(i+=r.childCount)}}function Gl(n,t){var e=n.def;if(16777216&e.nodeFlags)for(var i=0;i<e.nodes.length;i++){var r=e.nodes[i];if(16777216&r.flags)for(var o=xn(n,i).viewContainer._embeddedViews,s=0;s<o.length;s++)rm(o[s],t);else!(16777216&r.childFlags)&&(i+=r.childCount)}}function rm(n,t){var e=n.state;switch(t){case Ci.CheckNoChanges:!(128&e)&&((12&e)==12?Xl(n):64&e&&ql(n,Ci.CheckNoChangesProjectedViews));break;case Ci.CheckNoChangesProjectedViews:!(128&e)&&(32&e?Xl(n):64&e&&ql(n,t));break;case Ci.CheckAndUpdate:!(128&e)&&((12&e)==12?Yl(n):64&e&&ql(n,Ci.CheckAndUpdateProjectedViews));break;case Ci.CheckAndUpdateProjectedViews:!(128&e)&&(32&e?Yl(n):64&e&&ql(n,t));break;case Ci.Destroy:Mh(n);break;case Ci.CreateViewNodes:Fh(n)}}function ql(n,t){Gl(n,t),ba(n,t)}function Lh(n,t,e,i){if(n.def.nodeFlags&t&&n.def.nodeFlags&e)for(var r=n.def.nodes.length,o=0;o<r;o++){var s=n.def.nodes[o];if(s.flags&t&&s.flags&e)switch(Ze.setCurrentNode(n,s.nodeIndex),i){case 0:ex(n,s);break;case 1:ox(n,s)}s.childFlags&t&&s.childFlags&e||(o+=s.childCount)}}var om=!1;function sx(n,t,e,i,r,o){var s=r.injector.get(oa);return $g(sm(n,r,s,t,e),i,o)}function ax(n,t,e,i,r,o){var s=r.injector.get(oa),f=sm(n,r,new _x(s),t,e),_=Bh(i);return Ro(Dr.create,$g,null,[f,_,o])}function sm(n,t,e,i,r){var o=t.injector.get(Yc),s=t.injector.get(hs),f=e.createRenderer(null,null);return{ngModule:t,injector:n,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:e,renderer:f,errorHandler:s}}function lx(n,t,e,i){var r=Bh(e);return Ro(Dr.create,Qg,null,[n,t,r,i])}function ux(n,t,e,i){return e=Nh.get(t.element.componentProvider.provider.token)||Bh(e),Ro(Dr.create,tm,null,[n,t,e,i])}function cx(n,t,e,i){return Xg(n,t,e,function(r){var o=function(f){var _=!1,S=!1;return to.size===0?{hasOverrides:_,hasDeprecatedOverrides:S}:(f.providers.forEach(function(T){var F=to.get(T.token);3840&T.flags&&F&&(_=!0,S=S||F.deprecatedBehavior)}),f.modules.forEach(function(T){_a.forEach(function(F,U){Wn(U).providedIn===T&&(_=!0,S=S||F.deprecatedBehavior)})}),{hasOverrides:_,hasDeprecatedOverrides:S})}(r),s=o.hasDeprecatedOverrides;return o.hasOverrides&&function(f){for(var _=0;_<f.providers.length;_++){var S=f.providers[_];s&&(S.flags|=4096);var T=to.get(S.token);T&&(S.flags=-3841&S.flags|T.flags,S.deps=da(T.deps),S.value=T.value)}if(_a.size>0){var F=new Set(f.modules);_a.forEach(function(U,J){if(F.has(Wn(J).providedIn)){var ct={token:J,flags:U.flags|(s?4096:0),deps:da(U.deps),value:U.value,index:f.providers.length};f.providers.push(ct),f.providersByKey[ri(J)]=ct}})}}(r=r.factory(function(){return Ji})),r}(i))}var to=new Map,_a=new Map,Nh=new Map;function hx(n){var t;to.set(n.token,n),typeof n.token=="function"&&(t=Wn(n.token))&&typeof t.providedIn=="function"&&_a.set(n.token,n)}function px(n,t){var e=fs(t.viewDefFactory),i=fs(e.nodes[0].element.componentView);Nh.set(n,i)}function dx(){to.clear(),_a.clear(),Nh.clear()}function Bh(n){if(to.size===0)return n;var t=function(r){for(var o=[],s=null,f=0;f<r.nodes.length;f++){var _=r.nodes[f];1&_.flags&&(s=_),s&&3840&_.flags&&to.has(_.provider.token)&&(o.push(s.nodeIndex),s=null)}return o}(n);if(t.length===0)return n;n=n.factory(function(){return Ji});for(var e=0;e<t.length;e++)i(n,t[e]);return n;function i(r,o){for(var s=o+1;s<r.nodes.length;s++){var f=r.nodes[s];if(1&f.flags)return;if(3840&f.flags){var _=f.provider,S=to.get(_.token);S&&(f.flags=-3841&f.flags|S.flags,_.deps=da(S.deps),_.value=S.value)}}}}function am(n,t,e,i,r,o,s,f,_,S,T,F,U){var J=n.def.nodes[t];return em(n,J,e,i,r,o,s,f,_,S,T,F,U),224&J.flags?ps(n,t).value:void 0}function lm(n,t,e,i,r,o,s,f,_,S,T,F,U){var J=n.def.nodes[t];return im(n,J,e,i,r,o,s,f,_,S,T,F,U),224&J.flags?ps(n,t).value:void 0}function fx(n){return Ro(Dr.detectChanges,Yl,null,[n])}function gx(n){return Ro(Dr.checkNoChanges,Xl,null,[n])}function mx(n){return Ro(Dr.destroy,Mh,null,[n])}var wa,gs,Kl,Dr=function(n){return n[n.create=0]="create",n[n.detectChanges=1]="detectChanges",n[n.checkNoChanges=2]="checkNoChanges",n[n.destroy=3]="destroy",n[n.handleEvent=4]="handleEvent",n}({});function ms(n,t){gs=n,Kl=t}function vx(n,t,e,i){return ms(n,t),Ro(Dr.handleEvent,n.def.handleEvent,null,[n,t,e,i])}function yx(n,t){if(128&n.state)throw Dg(Dr[wa]);return ms(n,hm(n,0)),n.def.updateDirectives(function(e,i,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var f=e.def.nodes[i];return t===0?um(e,f,r,o):cm(e,f,r,o),16384&f.flags&&ms(e,hm(e,i)),224&f.flags?ps(e,f.nodeIndex).value:void 0},n)}function bx(n,t){if(128&n.state)throw Dg(Dr[wa]);return ms(n,pm(n,0)),n.def.updateRenderer(function(e,i,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var f=e.def.nodes[i];return t===0?um(e,f,r,o):cm(e,f,r,o),3&f.flags&&ms(e,pm(e,i)),224&f.flags?ps(e,f.nodeIndex).value:void 0},n)}function um(n,t,e,i){if(em.apply(void 0,N([n,t,e],i))){var r=e===1?i[0]:i;if(16384&t.flags){for(var o={},s=0;s<t.bindings.length;s++){var f=t.bindings[s],_=r[s];8&f.flags&&(o[U=f.nonMinifiedName,"ng-reflect-"+U.replace(/[$@]/g,"_").replace(X_,function(){for(var J=[],ct=0;ct<arguments.length;ct++)J[ct]=arguments[ct];return"-"+J[1].toLowerCase()})]=Y_(_))}var S=t.parent,T=xn(n,S.nodeIndex).renderElement;if(S.element.name)for(var F in o)(_=o[F])!=null?n.renderer.setAttribute(T,F,_):n.renderer.removeAttribute(T,F);else n.renderer.setValue(T,"bindings="+JSON.stringify(o,null,2))}}var U}function cm(n,t,e,i){im.apply(void 0,N([n,t,e],i))}function hm(n,t){for(var e=t;e<n.def.nodes.length;e++){var i=n.def.nodes[e];if(16384&i.flags&&i.bindings&&i.bindings.length)return e}return null}function pm(n,t){for(var e=t;e<n.def.nodes.length;e++){var i=n.def.nodes[e];if(3&i.flags&&i.bindings&&i.bindings.length)return e}return null}var Vh=function(){function n(t,e){this.view=t,this.nodeIndex=e,e==null&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var i=this.nodeDef,r=t;i&&!(1&i.flags);)i=i.parent;if(!i)for(;!i&&r;)i=ds(r),r=r.parent;this.elDef=i,this.elView=r}return Object.defineProperty(n.prototype,"elOrCompView",{get:function(){return xn(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return Wg(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var i=this.elView.def.nodes[e];20224&i.flags&&t.push(i.provider.token),e+=i.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){var t={};if(this.elDef){dm(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var i=this.elView.def.nodes[e];20224&i.flags&&dm(this.elView,i,t),e+=i.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentRenderElement",{get:function(){var t=function(e){for(;e&&!Do(e);)e=e.parent;return e.parent?xn(e.parent,ds(e).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?pa(this.view,this.nodeDef):pa(this.elView,this.elDef)},enumerable:!0,configurable:!0}),n.prototype.logError=function(t){for(var e,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,i=this.nodeDef.nodeIndex):(e=this.elView.def,i=this.elDef.nodeIndex);var s=function(_,S){for(var T=-1,F=0;F<=S;F++)3&_.nodes[F].flags&&T++;return T}(e,i),f=-1;e.factory(function(){var _;return++f===s?(_=t.error).bind.apply(_,N([t],r)):Ji}),f<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,N(r)))},n}();function dm(n,t,e){for(var i in t.references)e[i]=Kg(n,t,t.references[i])}function Ro(n,t,e,i){var r=wa,o=gs,s=Kl;try{wa=n;var f=t.apply(e,i);return gs=o,Kl=s,wa=r,f}catch(_){throw th(_)||!gs?_:function(S,T){return S instanceof Error||(S=new Error(S.toString())),Pg(S,T),S}(_,zh())}}function zh(){return gs?new Vh(gs,Kl):null}var _x=function(){function n(t){this.delegate=t}return n.prototype.createRenderer=function(t,e){return new wx(this.delegate.createRenderer(t,e))},n.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},n.prototype.end=function(){this.delegate.end&&this.delegate.end()},n.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},n}(),wx=function(){function n(t){this.delegate=t,this.debugContextFactory=zh,this.data=this.delegate.data}return n.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},n.prototype.destroyNode=function(t){(function(e){mh.delete(e.nativeNode)})(ui(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},n.prototype.destroy=function(){this.delegate.destroy()},n.prototype.createElement=function(t,e){var i=this.delegate.createElement(t,e),r=this.createDebugContext(i);if(r){var o=new gi(i,null,r);o.name=t,Vl(o)}return i},n.prototype.createComment=function(t){var e=this.delegate.createComment(t),i=this.createDebugContext(e);return i&&Vl(new gh(e,null,i)),e},n.prototype.createText=function(t){var e=this.delegate.createText(t),i=this.createDebugContext(e);return i&&Vl(new gh(e,null,i)),e},n.prototype.appendChild=function(t,e){var i=ui(t),r=ui(e);i&&r&&i instanceof gi&&i.addChild(r),this.delegate.appendChild(t,e)},n.prototype.insertBefore=function(t,e,i){var r=ui(t),o=ui(e),s=ui(i);r&&o&&r instanceof gi&&r.insertBefore(s,o),this.delegate.insertBefore(t,e,i)},n.prototype.removeChild=function(t,e){var i=ui(t),r=ui(e);i&&r&&i instanceof gi&&i.removeChild(r),this.delegate.removeChild(t,e)},n.prototype.selectRootElement=function(t,e){var i=this.delegate.selectRootElement(t,e),r=zh();return r&&Vl(new gi(i,null,r)),i},n.prototype.setAttribute=function(t,e,i,r){var o=ui(t);o&&o instanceof gi&&(o.attributes[r?r+":"+e:e]=i),this.delegate.setAttribute(t,e,i,r)},n.prototype.removeAttribute=function(t,e,i){var r=ui(t);r&&r instanceof gi&&(r.attributes[i?i+":"+e:e]=null),this.delegate.removeAttribute(t,e,i)},n.prototype.addClass=function(t,e){var i=ui(t);i&&i instanceof gi&&(i.classes[e]=!0),this.delegate.addClass(t,e)},n.prototype.removeClass=function(t,e){var i=ui(t);i&&i instanceof gi&&(i.classes[e]=!1),this.delegate.removeClass(t,e)},n.prototype.setStyle=function(t,e,i,r){var o=ui(t);o&&o instanceof gi&&(o.styles[e]=i),this.delegate.setStyle(t,e,i,r)},n.prototype.removeStyle=function(t,e,i){var r=ui(t);r&&r instanceof gi&&(r.styles[e]=null),this.delegate.removeStyle(t,e,i)},n.prototype.setProperty=function(t,e,i){var r=ui(t);r&&r instanceof gi&&(r.properties[e]=i),this.delegate.setProperty(t,e,i)},n.prototype.listen=function(t,e,i){if(typeof t!="string"){var r=ui(t);r&&r.listeners.push(new aw(e,i))}return this.delegate.listen(t,e,i)},n.prototype.parentNode=function(t){return this.delegate.parentNode(t)},n.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},n.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},n}();function xx(n,t,e){return new Cx(n,t,e)}var vs,ys,bs,Be,Cx=function(n){function t(e,i,r){var o=n.call(this)||this;return o.moduleType=e,o._bootstrapComponents=i,o._ngModuleDefFactory=r,o}return k(t,n),t.prototype.create=function(e){(function(){if(!om){om=!0;var r=Hi()?{setCurrentNode:ms,createRootView:ax,createEmbeddedView:lx,createComponentView:ux,createNgModuleRef:cx,overrideProvider:hx,overrideComponentView:px,clearOverrides:dx,checkAndUpdateView:fx,checkNoChangesView:gx,destroyView:mx,createDebugContext:function(o,s){return new Vh(o,s)},handleEvent:vx,updateDirectives:yx,updateRenderer:bx}:{setCurrentNode:function(){},createRootView:sx,createEmbeddedView:Qg,createComponentView:tm,createNgModuleRef:Xg,overrideProvider:Ji,overrideComponentView:Ji,clearOverrides:Ji,checkAndUpdateView:Yl,checkNoChangesView:Xl,destroyView:Mh,createDebugContext:function(o,s){return new Vh(o,s)},handleEvent:function(o,s,f,_){return o.def.handleEvent(o,s,f,_)},updateDirectives:function(o,s){return o.def.updateDirectives(s===0?am:lm,o)},updateRenderer:function(o,s){return o.def.updateRenderer(s===0?am:lm,o)}};Ze.setCurrentNode=r.setCurrentNode,Ze.createRootView=r.createRootView,Ze.createEmbeddedView=r.createEmbeddedView,Ze.createComponentView=r.createComponentView,Ze.createNgModuleRef=r.createNgModuleRef,Ze.overrideProvider=r.overrideProvider,Ze.overrideComponentView=r.overrideComponentView,Ze.clearOverrides=r.clearOverrides,Ze.checkAndUpdateView=r.checkAndUpdateView,Ze.checkNoChangesView=r.checkNoChangesView,Ze.destroyView=r.destroyView,Ze.resolveDep=vi,Ze.createDebugContext=r.createDebugContext,Ze.handleEvent=r.handleEvent,Ze.updateDirectives=r.updateDirectives,Ze.updateRenderer=r.updateRenderer,Ze.dirtyParentQueries=tx}})();var i=function(r){var o=Array.from(r.providers),s=Array.from(r.modules),f={};for(var _ in r.providersByKey)f[_]=r.providersByKey[_];return{factory:r.factory,isRoot:r.isRoot,providers:o,modules:s,providersByKey:f}}(fs(this._ngModuleDefFactory));return Ze.createNgModuleRef(this.moduleType,e||In.NULL,this._bootstrapComponents,i)},t}(Uf),fm=[1,8,15,20,25];(function(n){n.INLINE="inline",n.OVERLAY="overlay"})(vs||(vs={})),function(n){n.DARK="dark",n.LIGHT="light"}(ys||(ys={})),function(n){n.TOP="top",n.BOTTOM="bottom",n.NONE="none"}(bs||(bs={})),function(n){n.NAVIGATION="navigation",n.FILTER="filter",n.RESIZE="resize",n.CROP="crop",n.TRANSFORM="transform",n.DRAW="draw",n.TEXT="text",n.SHAPES="shapes",n.STICKERS="stickers",n.FRAME="frame",n.CORNERS="corners",n.BACKGROUND="background",n.MERGE="merge",n.OBJECT_SETTINGS="objectSettings"}(Be||(Be={}));var xa={fill:"rgb(30, 139, 195)",opacity:1,backgroundColor:null,strokeWidth:.1,strokeColor:"#000",shadow:{color:"#000",blur:3,offsetX:-1,offsetY:0},textAlign:"initial",underline:!1,linethrough:!1,fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:400},gm=function(){return(gm=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},Hh=new de("MERGED_CONFIG"),mm="2.1.3",vm={selector:"ui-pixie-editor",textureSize:4096,ui:{visible:!0,mode:vs.INLINE,theme:ys.LIGHT,allowEditorClose:!0,allowZoom:!0,toolbar:{hideOpenButton:!1,hideCloseButton:!0},nav:{position:bs.TOP,replaceDefault:!1,items:[{name:"filter",icon:"filter-custom",action:Be.FILTER},{type:"separator"},{name:"resize",icon:"resize-custom",action:Be.RESIZE},{name:"crop",icon:"crop-custom",action:Be.CROP},{name:"transform",icon:"transform-custom",action:Be.TRANSFORM},{type:"separator"},{name:"draw",icon:"pencil-custom",action:Be.DRAW},{name:"text",icon:"text-box-custom",action:Be.TEXT},{name:"shapes",icon:"polygon-custom",action:Be.SHAPES},{name:"stickers",icon:"sticker-custom",action:Be.STICKERS},{name:"frame",icon:"frame-custom",action:Be.FRAME},{type:"separator"},{name:"corners",icon:"rounded-corner-custom",action:Be.CORNERS},{name:"background",icon:"background-custom",action:Be.BACKGROUND},{name:"merge",icon:"merge-custom",action:Be.MERGE}]},openImageDialog:{show:!0,sampleImages:[{url:"images/samples/sample1.jpg",thumbnail:"images/samples/sample1_thumbnail.jpg"},{url:"images/samples/sample2.jpg",thumbnail:"images/samples/sample2_thumbnail.jpg"},{url:"images/samples/sample3.jpg",thumbnail:"images/samples/sample3_thumbnail.jpg"}]},colorPresets:{replaceDefault:!1,items:["rgb(0,0,0)","rgb(255, 255, 255)","rgb(242, 38, 19)","rgb(249, 105, 14)","rgb(253, 227, 167)","rgb(4, 147, 114)","rgb(30, 139, 195)","rgb(142, 68, 173)"]}},languages:{active:"default"},googleFontsApiKey:"AIzaSyDOrI6VJiMbR6XLvlp3CdCPZj1T2PzVkKs",objectDefaults:gm({transparentCorners:!1,borderOpacityWhenMoving:1,cornerStyle:"circle",cornerColor:"#ccc",cornerStrokeColor:"#fff",cornerSize:16,strokeWidth:.05,lockUniScaling:!0},xa),tools:{filter:{replaceDefault:!1,resetFilters:!0,items:["grayscale","blackWhite","sharpen","invert","vintage","polaroid","kodachrome","technicolor","brownie","sepia","removeColor","brightness","gamma","noise","pixelate","blur","emboss","blendColor"]},crop:{replaceDefault:!1,hideCustomControls:!1,defaultRatio:"16:9",items:["3:2","5:3","4:3","5:4","6:4","7:5","10:8","16:9"]},text:{defaultCategory:"handwriting",defaultText:"Double click to edit"},draw:{replaceDefault:!1,brushSizes:fm,brushTypes:["PencilBrush","VLineBrush","HLineBrush","CircleBrush","SquareBrush","SprayBrush"]},shapes:{replaceDefault:!1,items:[{name:"circle",type:"Circle"},{name:"rectangle",type:"Rect",options:{lockUniScaling:!1}},{name:"triangle",type:"Triangle"},{name:"ellipse",type:"Ellipse",options:{lockUniScaling:!1}},{name:"Arrow #1",type:"Path",options:{path:"M 294.9 16.4 l 15.7 42.2 c -171.4 70.3 -294 242.3 -289.1 437.4 l 14.7 -1 c 9.1 -0.6 18.1 -1.2 27.1 -1.9 l 14.7 -1 c -4.3 -170.1 102.5 -320 252 -381.3 l 15.7 42.2 c 34.7 -40.5 83.1 -76.6 144.8 -99.8 c -58.1 -26.2 -124.9 -39.6 -195.6 -36.8 z"}},{name:"Arrow #2",type:"Path",options:{path:"M 16 248.4 v 14.9 h 447.5 l -93.2 82.5 l 11.9 10.5 l 113.8 -100.2 l -113.6 -100.4 l -11.8 10.5 l 92.9 82.2 z"}},{name:"Arrow #3",type:"Path",options:{path:"M 496 256 l -118.6 -66 v 40.8 h -361.4 v 50.4 h 361.4 v 40.8 l 118.6 -66 z"}},{name:"Line",type:"Path",options:{path:"M 16 256 h 480",strokeWidth:10,stroke:"#000"}},{name:"Star",type:"Path",options:{path:"M 256 406.3 l 148.3 78 l -28.3 -165.2 l 120 -117 l -165.8 -24.1 l -74.2 -150.3 l -74.2 150.3 l -165.8 24.1 l 120 117 l -28.3 165.2 z"}},{name:"Polygon",type:"Path",options:{path:"M 256 19.6 l 156.6 57.1 l 83.4 144.3 l -28.9 164.2 l -127.7 107.2 h -166.8 l -127.7 -107.2 l -28.9 -164.2 l 83.4 -144.3 z"}},{name:"Badge",type:"Path",options:{path:"M 257.3 16.2 s -148 58.2 -204.4 81.4 c 0 75.7 -16.8 303.5 204.4 398.2 c 218.7 -94.6 201.9 -322.4 201.9 -398.2 c -62.1 -23.6 -201.9 -81.4 -201.9 -81.4 z"}}].slice()},stickers:{replaceDefault:!1,items:[{name:"emoticons",list:["afro-1","afro","agent","alien-1","alien","angel","angry-1","angry-2","angry-3","angry-4","angry-5","angry","arguing","arrogant","asian-1","asian","avatar","baby-1","baby-2","baby","bully","burglar","businessman","cheeky-1","cheeky","clown","confused-1","confused-2","confused-3","confused","creepy","crying-1","crying-2","crying-3","crying","dazed-1","dazed-2","dazed-3","dazed","dead-1","dead-2","dead-3","dead-4","dead-5","dead-6","dead","desperate-1","desperate","detective","dissapointment","doctor","drunk","dumb","emo-1","emo-2","emo","emoticon","evil","faint-1","faint","flirt-1","flirt-2","flirt","flirty","gangster","geek-1","geek","gentleman-1","gentleman-2","gentleman-3","gentleman-4","gentleman","ginger","girl-1","girl","goofy-1","goofy-2","goofy-3","goofy-4","goofy","grubby-1","grubby","happy-1","happy-10","happy-11","happy-12","happy-13","happy-14","happy-15","happy-16","happy-2","happy-3","happy-4","happy-5","happy-6","happy-7","happy-8","happy-9","happy","harry-potter","heisenberg","hipster-1","hipster-2","hipster","in-love-1","in-love-2","in-love-3","in-love-4","in-love-5","in-love-6","in-love","japan","jew","joyful-1","joyful-2","joyful","kiss-1","kiss-2","kiss-3","kiss-4","kiss","laughing-1","laughing-2","laughing-3","laughing","listening","love","manly","miserly-1","miserly","nerd-1","nerd-2","nerd-3","nerd-4","nerd","ninja","pirate-1","pirate-2","pirate","punk-1","punk-2","punk","rapper","relieved","rich-1","rich-2","rich","rockstar","sad-1","sad-2","sad-3","sad-4","sad-5","sad-6","sad","scared-1","scared-2","scared-3","scared","sceptic-1","sceptic-2","sceptic-3","sceptic-4","sceptic-5","sceptic-6","sceptic-7","sceptic","secret","shocked-1","shocked-2","shocked-3","shocked","sick-1","sick-2","sick-3","sick-4","sick","silent","skeleton","smile","smiling-1","smiling","smoked","smug-1","smug-2","smug-3","smug-4","smug-5","smug-6","smug","sporty","stunned","superhero-1","superhero-2","superhero-3","superhero-4","superhero","surprised-1","surprised","thinking","tired-1","tired-2","tired-3","tired","tough-1","tough","trendy","vampire-1","vampire","wink-1","wink-2","wink","winking-1","winking","yawning-1","yawning-2","yawning-3","yawning","yelling","zombie"],type:"svg",thumbnailUrl:"images/ui/emoticon.svg"},{name:"doodles",items:100,type:"svg",thumbnailUrl:"images/ui/doodles.svg"},{name:"landmarks",items:100,type:"svg",thumbnailUrl:"images/ui/landmark.svg"},{name:"stars",items:6,type:"png",darkBg:!0,thumbnailUrl:"images/ui/star.svg"},{name:"clouds",items:15,type:"png",darkBg:!0,thumbnailUrl:"images/ui/clouds.svg"},{name:"bubbles",items:104,type:"png",thumbnailUrl:"images/ui/speech-bubble.svg"},{name:"transportation",items:22,type:"svg",thumbnailUrl:"images/ui/transportation.svg"},{name:"beach",items:22,type:"svg",thumbnailUrl:"images/ui/beach.svg"}]},import:{validExtensions:["png","jpg","jpeg","svg","json","gif"]},export:{defaultFormat:"png",defaultQuality:.8,defaultName:"image"},frame:{replaceDefault:!1,items:[{name:"basic",mode:"basic",size:{min:1,max:35,default:10}},{name:"pine",mode:"stretch",size:{min:1,max:35,default:15}},{name:"oak",mode:"stretch",size:{min:1,max:35,default:15}},{name:"rainbow",mode:"stretch",size:{min:1,max:35,default:15}},{name:"grunge1",display_name:"grunge #1",mode:"stretch",size:{min:1,max:35,default:15}},{name:"grunge2",display_name:"grunge #2",mode:"stretch",size:{min:1,max:35,default:20}},{name:"ebony",mode:"stretch",size:{min:1,max:35,default:15}},{name:"art1",display_name:"Art #1",mode:"repeat",size:{min:10,max:70,default:55}},{name:"art2",display_name:"Art #2",mode:"repeat",size:{min:10,max:70,default:55}}]}}},Sx=y("Aqzh"),ym=y.n(Sx),Zl=y("hLX6"),De=y("epSk"),jo={selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1,hasRotatingPoint:!1,strokeWidth:0};function Uh(n){n===void 0&&(n=36);for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var bm=function(){function n(){}return n.type="[Editor] Open",n}(),Ca=function(){function n(t){t===void 0&&(t=!0),this.executeCallback=t}return n.type="[Editor] Close",n}(),yr=function(){function n(t){this.panel=t}return n.type="[Editor] Open Panel",n}(),zn=function(){function n(){}return n.type="[Editor] Close Fore Panel",n}(),Jl=function(){function n(t,e){e===void 0&&(e=!0),this.panel=t,this.closePanel=e}return n.type="[Editor] Apply Changes",n}(),Wh=function(){function n(t){this.panel=t}return n.type="[Editor] Cancel Changes",n}(),Xh=function(){function n(t,e){this.objectType=t,this.fromUserAction=e}return n.type="[Editor] Object Selected",n}(),_m=function(){function n(t){this.fromUserAction=t}return n.type="[Editor] Object Deselected",n}(),Ql=function(){function n(){}return n.type="[Editor] Content Loaded",n}(),wm=function(){function n(){}return n.type="[Editor] Objects Synced",n}(),Yh=function(){function n(t){this.zoom=t}return n.type="[Editor] Set Zoom",n}(),oi=function(){function n(){}return n.text={name:"text",icon:"text-box-custom"},n.shape={name:"shape",icon:"polygon-custom"},n.sticker={name:"sticker",icon:"sticker-custom"},n.drawing={name:"drawing",icon:"pencil-custom"},n.image={name:"image",icon:"photo-library"},n.mainImage={name:"mainImage",icon:"photo-library"},n}(),xm=function(){return(xm=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};function Gh(n){var t=xm({},n);return t.shadow&&t.shadow.offsetX===-1&&delete t.shadow,t}var bn=function(){function n(t,e,i,r,o,s){this.pan=t,this.zoom=e,this.state=i,this.activeObject=r,this.config=o,this.store=s,this.minWidth=50,this.minHeight=50}return n.prototype.render=function(){this.state.fabric.requestRenderAll()},n.prototype.fabric=function(){return this.state.fabric},n.prototype.getObjectById=function(t){return this.state.fabric.getObjects().find(function(e){return e.data&&e.data.id===t})},n.prototype.init=function(){var t=this,e=(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("#pixie-canvas");this.state.fabric=new De.fabric.Canvas(e),this.state.fabric.selection=!1,this.state.fabric.renderOnAddRemove=!1;var i=this.config.get("pixie.textureSize");i&&(De.fabric.textureSize=i);var r=Gh(this.config.get("pixie.objectDefaults"));for(var o in r)De.fabric.Object.prototype[o]=r[o];return this.state.fabric.on("object:added",function(s){s.target.data&&s.target.data.id||(s.target.data||(s.target.data={}),s.target.data.id=Uh(10))}),this.pan.init(),this.zoom.init(),this.initContent().then(function(){return t.state.loaded.next(null)}),this.state.loaded},n.prototype.initContent=function(){var t=this.config.get("pixie.image");t instanceof HTMLImageElement&&(t=t.src);var e=this.config.get("pixie.blankCanvasSize");return t?this.loadMainImage(t):e?this.openNew(e.width,e.height):new Promise(function(i){return i()})},n.prototype.resize=function(t,e){this.state.fabric.setWidth(t*this.zoom.get()),this.state.fabric.setHeight(e*this.zoom.get()),this.state.original.width=t,this.state.original.height=e},n.prototype.loadMainImage=function(t){var e=this;return new Promise(function(i,r){e.loadImage(t).then(function(o){e.fabric().clear(),o.set(jo),o.name=oi.mainImage.name,e.state.fabric.add(o),e.resize(o.width,o.height),e.zoom.fitToScreen(),e.store.dispatch(new Ql),i(o);var s=e.config.get("pixie.onMainImageLoaded");s&&s(o)},function(){var o=e.config.get("pixie.onImageLoadError");o&&o(),r()})})},n.prototype.loadImage=function(t){var e=this;return new Promise(function(i,r){De.fabric.util.loadImage(t,function(o){o&&i(new De.fabric.Image(o)),o||r()},null,e.config.get("pixie.crossOrigin"))})},n.prototype.openNew=function(t,e){var i=this;return t=t<this.minWidth?this.minWidth:t,e=e<this.minHeight?this.minHeight:e,this.state.fabric.clear(),this.resize(t,e),new Promise(function(r){setTimeout(function(){i.zoom.fitToScreen(),i.store.dispatch(new Ql),r({width:t,height:e})})})},n.prototype.openImage=function(t){var e=this;return new Promise(function(i){De.fabric.util.loadImage(t,function(r){if(r){var o=new De.fabric.Image(r);o.name=oi.image.name;var s=e.state.original.width,f=e.state.original.height;if(o.width>=s||o.height>=f){var _=s-.1*s,S=1/Math.min((f-.1*f)/o.getScaledHeight(),_/o.getScaledWidth());o.scaleX=o.scaleX*(1/S),o.scaleY=o.scaleY*(1/S)}e.state.fabric.add(o),o.viewportCenter(),o.setCoords(),e.render(),e.zoom.fitToScreen(),i(o)}})})},n.prototype.getMainImage=function(){return this.state.fabric.getObjects().find(function(t){return t.name===oi.mainImage.name})},n}(),Bt=function(){function n(){this.all={},this.onChange=new le}return n.prototype.setMultiple=function(t,e){for(var i in e===void 0&&(e=!1),t){var r=t[i];r!=="0"&&r!=="1"||(r=parseInt(r)),this.set(i,r)}e&&this.onChange.emit()},n.prototype.merge=function(t,e){e===void 0&&(e=!1),this.all=ym()(this.all,t),e&&this.onChange.emit()},n.prototype.set=function(t,e,i){i===void 0&&(i=!1),Zl.set(t,e,this.all),i&&this.onChange.emit(t)},n.prototype.get=function(t,e){e===void 0&&(e=null);var i=Zl.pick(t,this.all);return i??e},n.prototype.getAll=function(){return this.all},n.prototype.has=function(t){return!!Zl.pick(t,this.all)},n.prototype.getJson=function(t,e){e===void 0&&(e=null);var i=this.get(t,e);return typeof i!="string"?i:JSON.parse(i)},n.prototype.getBaseUrl=function(t){return t===void 0&&(t=!1),this.has("base_url")&&(this.get("vebto.environment")==="production"||t)?this.get("base_url")+"/":(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("base")?(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("base").href:window.location.href.replace(/([^\/]+\.\w+($|\/$))/,"")},n.prototype.getAssetUrl=function(t){var e=this.get("vebto.assetsUrl")||this.getBaseUrl(),i=this.get("vebto.assetsPrefix");return this.get("vebto.environment")==="production"&&i&&(e+=i+"/"),e+="assets/",t&&(e+=t),e},n.prototype.save=function(t){this.setMultiple(t.client);var e=btoa(encodeURIComponent(JSON.stringify(t)));return this.http.post("settings",{settings:e})},n.prototype.anySocialLoginEnabled=function(){var t=this;return["facebook","google","twitter"].filter(function(e){return t.get("social."+e+".enable")}).length>-1},n.prototype.setHttpClient=function(t){this.http=t},n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}(),qh=function(){function n(t,e,i,r,o,s,f,_,S,T,F,U,J,ct,st,xt,yt,Dt,Pt,At,qt){this.filterTool=t,this.resizeTool=e,this.cropTool=i,this.transformTool=r,this.drawTool=o,this.textTool=s,this.shapesTool=f,this.frameTool=_,this.cornerTool=S,this.exportTool=T,this.importTool=F,this.canvas=U,this.watermark=J,this.history=ct,this.activeObject=st,this.objects=xt,this.controls=yt,this.cropZone=Dt,this.mergeTool=Pt,this.fillTool=At,this.fonts=qt}return n.prototype.get=function(t){return t==="canvas"?this.canvas:this[t]||this[t+"Tool"]},n}(),Cm=new c(function(n){return n.complete()});function _s(n){return n?function(t){return new c(function(e){return t.schedule(function(){return e.complete()})})}(n):Cm}function Sm(n){var t=new c(function(e){e.next(n),e.complete()});return t._isScalar=!0,t.value=n,t}function $n(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[n.length-1];switch(L(e)?n.pop():e=void 0,n.length){case 0:return _s(e);case 1:return e?Ht(n,e):Sm(n[0]);default:return Ht(n,e)}}function Hn(n,t){return function(e){return e.lift(new kx(n,t))}}var kx=function(){function n(t,e){this.predicate=t,this.thisArg=e}return n.prototype.call=function(t,e){return e.subscribe(new Ex(t,this.predicate,this.thisArg))},n}(),Ex=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.predicate=i,o.thisArg=r,o.count=0,o}return k(t,n),t.prototype._next=function(e){var i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}i&&this.destination.next(e)},t}(u),km=function(){return function(){}}(),Em=function(){function n(e){var i=this;this._subject=new le,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(Om(r)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}var t;return t=n,n.prototype.path=function(e){return e===void 0&&(e=!1),this.normalize(this._platformStrategy.path(e))},n.prototype.isCurrentPathEqualTo=function(e,i){return i===void 0&&(i=""),this.path()==this.normalize(e+t.normalizeQueryParams(i))},n.prototype.normalize=function(e){return t.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,Om(e)))},n.prototype.prepareExternalUrl=function(e){return e&&e[0]!=="/"&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},n.prototype.go=function(e,i,r){i===void 0&&(i=""),r===void 0&&(r=null),this._platformStrategy.pushState(r,"",e,i)},n.prototype.replaceState=function(e,i,r){i===void 0&&(i=""),r===void 0&&(r=null),this._platformStrategy.replaceState(r,"",e,i)},n.prototype.forward=function(){this._platformStrategy.forward()},n.prototype.back=function(){this._platformStrategy.back()},n.prototype.subscribe=function(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})},n.normalizeQueryParams=function(e){return e&&e[0]!=="?"?"?"+e:e},n.joinWithSlash=function(e,i){if(e.length==0)return i;if(i.length==0)return e;var r=0;return e.endsWith("/")&&r++,i.startsWith("/")&&r++,r==2?e+i.substring(1):r==1?e+i:e+"/"+i},n.stripTrailingSlash=function(e){var i=e.match(/#|\?|$/),r=i&&i.index||e.length;return e.slice(0,r-(e[r-1]==="/"?1:0))+e.slice(r)},n}();function Om(n){return n.replace(/\/index.html$/,"")}var Fo=void 0,Ox=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"$","US Dollar",{},function(n){var t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}],Tm={},Sa=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}({}),Tx=new de("UseV4Plurals"),Im=function(){return function(){}}(),Ix=function(n){function t(e,i){var r=n.call(this)||this;return r.locale=e,r.deprecatedPluralFn=i,r}return k(t,n),t.prototype.getPluralCategory=function(e,i){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(i||this.locale,e):function(r){return function(o){var s=o.toLowerCase().replace(/_/g,"-"),f=Tm[s];if(f)return f;var _=s.split("-")[0];if(f=Tm[_])return f;if(_==="en")return Ox;throw new Error('Missing locale data for the locale "'+o+'".')}(r)[18]}(i||this.locale)(e)){case Sa.Zero:return"zero";case Sa.One:return"one";case Sa.Two:return"two";case Sa.Few:return"few";case Sa.Many:return"many";default:return"other"}},t}(Im);function Am(n,t){var e,i;t=encodeURIComponent(t);try{for(var r=X(n.split(";")),o=r.next();!o.done;o=r.next()){var s=o.value,f=s.indexOf("="),_=z(f==-1?[s,""]:[s.slice(0,f),s.slice(f+1)],2),S=_[1];if(_[0].trim()===t)return decodeURIComponent(S)}}catch(T){e={error:T}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return null}var $l=function(){function n(t,e,i,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=i,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(n.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses=typeof t=="string"?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass=typeof t=="string"?t.split(/\s+/):t,this._rawClass&&(ta(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},n.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(i){return e._toggleClass(i.key,i.currentValue)}),t.forEachChangedItem(function(i){return e._toggleClass(i.key,i.currentValue)}),t.forEachRemovedItem(function(i){i.previousValue&&e._toggleClass(i.key,!1)})},n.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(i){if(typeof i.item!="string")throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+sn(i.item));e._toggleClass(i.item,!0)}),t.forEachRemovedItem(function(i){return e._toggleClass(i.item,!1)})},n.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(i){return e._toggleClass(i,!0)}):Object.keys(t).forEach(function(i){return e._toggleClass(i,!!t[i])}))},n.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(i){return e._toggleClass(i,!1)}):Object.keys(t).forEach(function(i){return e._toggleClass(i,!1)}))},n.prototype._toggleClass=function(t,e){var i=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(r){e?i._renderer.addClass(i._ngEl.nativeElement,r):i._renderer.removeClass(i._ngEl.nativeElement,r)})},n}(),Ax=function(){function n(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}return Object.defineProperty(n.prototype,"first",{get:function(){return this.index===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),n}(),qn=function(){function n(t,e,i){this._viewContainer=t,this._template=e,this._differs=i,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(n.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Hi()&&t!=null&&typeof t!="function"&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch{throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}},n.prototype._applyChanges=function(t){var e=this,i=[];t.forEachOperation(function(f,_,S){if(f.previousIndex==null){var T=e._viewContainer.createEmbeddedView(e._template,new Ax(null,e._ngForOf,-1,-1),S),F=new Pm(f,T);i.push(F)}else S==null?e._viewContainer.remove(_):(T=e._viewContainer.get(_),e._viewContainer.move(T,S),F=new Pm(f,T),i.push(F))});for(var r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(f){e._viewContainer.get(f.currentIndex).context.$implicit=f.item})},n.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},n.ngTemplateContextGuard=function(t,e){return!0},n}(),Pm=function(){return function(n,t){this.record=n,this.view=t}}(),oe=function(){function n(t,e){this._viewContainer=t,this._context=new Px,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(n.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfThen",{set:function(t){Dm("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfElse",{set:function(t){Dm("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),n.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},n.ngTemplateGuard_ngIf=function(t,e){return!0},n}(),Px=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Dm(n,t){if(t&&!t.createEmbeddedView)throw new Error(n+" must be a TemplateRef, but received '"+sn(t)+"'.")}var Rm=function(){function n(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return n.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},n.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},n.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},n}(),cn=function(){function n(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(n.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),n.prototype._addCase=function(){return this._caseCount++},n.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},n.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},n.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},n}(),Pn=function(){function n(t,e,i){this.ngSwitch=i,i._addCase(),this._view=new Rm(t,e)}return n.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},n}(),Dx=function(){return function(n,t,e){e._addDefault(new Rm(n,t))}}(),ws=function(){function n(t,e,i){this._differs=t,this._ngEl=e,this._renderer=i}return Object.defineProperty(n.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},n.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(i){return e._setStyle(i.key,null)}),t.forEachAddedItem(function(i){return e._setStyle(i.key,i.currentValue)}),t.forEachChangedItem(function(i){return e._setStyle(i.key,i.currentValue)})},n.prototype._setStyle=function(t,e){var i=z(t.split("."),2),r=i[0],o=i[1];(e=e!=null&&o?""+e+o:e)!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},n}(),Rx=function(){function n(){}return n.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(i){throw i}})},n.prototype.dispose=function(t){t.unsubscribe()},n.prototype.onDestroy=function(t){t.unsubscribe()},n}(),jx=new(function(){function n(){}return n.prototype.createSubscription=function(t,e){return t.then(e,function(i){throw i})},n.prototype.dispose=function(t){},n.prototype.onDestroy=function(t){},n}()),Fx=new Rx,We=function(){function n(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var t;return t=n,n.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},n.prototype.transform=function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ls.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)},n.prototype._subscribe=function(e){var i=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(r){return i._updateLatestValue(e,r)})},n.prototype._selectStrategy=function(e){if(Nl(e))return jx;if(rh(e))return Fx;throw Error("InvalidPipeArgument: '"+e+"' for pipe '"+sn(t)+"'")},n.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},n.prototype._updateLatestValue=function(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())},n}(),jm=function(){function n(t){this.differs=t,this.keyValues=[]}return n.prototype.transform=function(t,e){var i=this;if(e===void 0&&(e=Mx),!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(o){i.keyValues.push({key:o.key,value:o.currentValue})}),this.keyValues.sort(e)),this.keyValues},n}();function Mx(n,t){var e=n.key,i=t.key;if(e===i)return 0;if(e===void 0)return 1;if(i===void 0)return-1;if(e===null)return 1;if(i===null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;var r=String(e),o=String(i);return r==o?0:r<o?-1:1}var Fm=function(){return function(){}}(),jn=new de("DocumentToken"),Mm="browser",Lx="server",Lm=function(){return function(){}}(),Nm=function(){return function(){}}(),ka=function(){function n(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit=typeof t=="string"?function(){e.headers=new Map,t.split(`
`).forEach(function(i){var r=i.indexOf(":");if(r>0){var o=i.slice(0,r),s=o.toLowerCase(),f=i.slice(r+1).trim();e.maybeSetNormalizedName(o,s),e.headers.has(s)?e.headers.get(s).push(f):e.headers.set(s,[f])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(i){var r=t[i],o=i.toLowerCase();typeof r=="string"&&(r=[r]),r.length>0&&(e.headers.set(o,r),e.maybeSetNormalizedName(i,o))})}:this.headers=new Map}return n.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},n.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},n.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},n.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},n.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},n.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},n.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},n.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},n.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},n.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(i){e.headers.set(i,t.headers.get(i)),e.normalizedNames.set(i,t.normalizedNames.get(i))})},n.prototype.clone=function(t){var e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e},n.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);var r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push.apply(r,N(i)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var s=this.headers.get(e);if(!s)return;(s=s.filter(function(f){return o.indexOf(f)===-1})).length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}},n.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return t(e.normalizedNames.get(i),e.headers.get(i))})},n}(),Nx=function(){function n(){}return n.prototype.encodeKey=function(t){return Bm(t)},n.prototype.encodeValue=function(t){return Bm(t)},n.prototype.decodeKey=function(t){return decodeURIComponent(t)},n.prototype.decodeValue=function(t){return decodeURIComponent(t)},n}();function Bm(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Mo=function(){function n(t){t===void 0&&(t={});var e,i,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Nx,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,i=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(s){var f=s.indexOf("="),_=z(f==-1?[i.decodeKey(s),""]:[i.decodeKey(s.slice(0,f)),i.decodeValue(s.slice(f+1))],2),S=_[0],T=_[1],F=r.get(S)||[];F.push(T),r.set(S,F)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(s){var f=t.fromObject[s];o.map.set(s,Array.isArray(f)?f:[f])})):this.map=null}return n.prototype.has=function(t){return this.init(),this.map.has(t)},n.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},n.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},n.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},n.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},n.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},n.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},n.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var i=t.encoder.encodeKey(e);return t.map.get(e).map(function(r){return i+"="+t.encoder.encodeValue(r)}).join("&")}).join("&")},n.prototype.clone=function(t){var e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e},n.prototype.init=function(){var t=this;this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var i=(e.op==="a"?t.map.get(e.param):void 0)||[];i.push(e.value),t.map.set(e.param,i);break;case"d":if(e.value===void 0){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],o=r.indexOf(e.value);o!==-1&&r.splice(o,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},n}();function Vm(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zm(n){return typeof Blob<"u"&&n instanceof Blob}function Hm(n){return typeof FormData<"u"&&n instanceof FormData}var tu=function(){function n(t,e,i,r){var o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(_){switch(_){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ka),this.params){var s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{var f=e.indexOf("?");this.urlWithParams=e+(f===-1?"?":f<e.length-1?"&":"")+s}}else this.params=new Mo,this.urlWithParams=e}return n.prototype.serializeBody=function(){return this.body===null?null:Vm(this.body)||zm(this.body)||Hm(this.body)||typeof this.body=="string"?this.body:this.body instanceof Mo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},n.prototype.detectContentTypeHeader=function(){return this.body===null||Hm(this.body)?null:zm(this.body)?this.body.type||null:Vm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||Array.isArray(this.body)?"application/json":null},n.prototype.clone=function(t){t===void 0&&(t={});var e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,s=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,f=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,_=t.headers||this.headers,S=t.params||this.params;return t.setHeaders!==void 0&&(_=Object.keys(t.setHeaders).reduce(function(T,F){return T.set(F,t.setHeaders[F])},_)),t.setParams&&(S=Object.keys(t.setParams).reduce(function(T,F){return T.set(F,t.setParams[F])},S)),new n(e,i,o,{params:S,headers:_,reportProgress:f,responseType:r,withCredentials:s})},n}(),eo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}({}),Kh=function(){return function(n,t,e){t===void 0&&(t=200),e===void 0&&(e="OK"),this.headers=n.headers||new ka,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||e,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}(),Bx=function(n){function t(e){e===void 0&&(e={});var i=n.call(this,e)||this;return i.type=eo.ResponseHeader,i}return k(t,n),t.prototype.clone=function(e){return e===void 0&&(e={}),new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Kh),Um=function(n){function t(e){e===void 0&&(e={});var i=n.call(this,e)||this;return i.type=eo.Response,i.body=e.body!==void 0?e.body:null,i}return k(t,n),t.prototype.clone=function(e){return e===void 0&&(e={}),new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(Kh),Wm=function(n){function t(e){var i=n.call(this,e,0,"Unknown Error")||this;return i.name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,i.error=e.error||null,i}return k(t,n),t}(Kh);function Zh(n,t){return{body:t,headers:n.headers,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}var Lo=function(){function n(t){this.handler=t}return n.prototype.request=function(t,e,i){var r,o=this;if(i===void 0&&(i={}),t instanceof tu)r=t;else{var s;s=i.headers instanceof ka?i.headers:new ka(i.headers);var f=void 0;i.params&&(f=i.params instanceof Mo?i.params:new Mo({fromObject:i.params})),r=new tu(t,e,i.body!==void 0?i.body:null,{headers:s,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var _=$n(r).pipe(It(function(T){return o.handler.handle(T)},void 0,1));if(t instanceof tu||i.observe==="events")return _;var S=_.pipe(Hn(function(T){return T instanceof Um}));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return S.pipe(Ct(function(T){if(T.body!==null&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return S.pipe(Ct(function(T){if(T.body!==null&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return S.pipe(Ct(function(T){if(T.body!==null&&typeof T.body!="string")throw new Error("Response is not a string.");return T.body}));case"json":default:return S.pipe(Ct(function(T){return T.body}))}case"response":return S;default:throw new Error("Unreachable: unhandled observe type "+i.observe+"}")}},n.prototype.delete=function(t,e){return e===void 0&&(e={}),this.request("DELETE",t,e)},n.prototype.get=function(t,e){return e===void 0&&(e={}),this.request("GET",t,e)},n.prototype.head=function(t,e){return e===void 0&&(e={}),this.request("HEAD",t,e)},n.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:new Mo().append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},n.prototype.options=function(t,e){return e===void 0&&(e={}),this.request("OPTIONS",t,e)},n.prototype.patch=function(t,e,i){return i===void 0&&(i={}),this.request("PATCH",t,Zh(i,e))},n.prototype.post=function(t,e,i){return i===void 0&&(i={}),this.request("POST",t,Zh(i,e))},n.prototype.put=function(t,e,i){return i===void 0&&(i={}),this.request("PUT",t,Zh(i,e))},n}(),Vx=function(){function n(t,e){this.next=t,this.interceptor=e}return n.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},n}(),Xm=new de("HTTP_INTERCEPTORS"),zx=function(){function n(){}return n.prototype.intercept=function(t,e){return e.handle(t)},n}(),Hx=/^\)\]\}',?\n/,Ym=function(){return function(){}}(),Jh=function(){function n(){}return n.prototype.build=function(){return new XMLHttpRequest},n}(),Qh=function(){function n(t){this.xhrFactory=t}return n.prototype.handle=function(t){var e=this;if(t.method==="JSONP")throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new c(function(i){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(st,xt){return r.setRequestHeader(st,xt.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var o=t.detectContentTypeHeader();o!==null&&r.setRequestHeader("Content-Type",o)}if(t.responseType){var s=t.responseType.toLowerCase();r.responseType=s!=="json"?s:"text"}var f=t.serializeBody(),_=null,S=function(){if(_!==null)return _;var st=r.status===1223?204:r.status,xt=r.statusText||"OK",yt=new ka(r.getAllResponseHeaders()),Dt=function(Pt){return"responseURL"in Pt&&Pt.responseURL?Pt.responseURL:/^X-Request-URL:/m.test(Pt.getAllResponseHeaders())?Pt.getResponseHeader("X-Request-URL"):null}(r)||t.url;return _=new Bx({headers:yt,status:st,statusText:xt,url:Dt})},T=function(){var st=S(),xt=st.headers,yt=st.status,Dt=st.statusText,Pt=st.url,At=null;yt!==204&&(At=r.response===void 0?r.responseText:r.response),yt===0&&(yt=At?200:0);var qt=yt>=200&&yt<300;if(t.responseType==="json"&&typeof At=="string"){var Zt=At;At=At.replace(Hx,"");try{At=At!==""?JSON.parse(At):null}catch(ie){At=Zt,qt&&(qt=!1,At={error:ie,text:At})}}qt?(i.next(new Um({body:At,headers:xt,status:yt,statusText:Dt,url:Pt||void 0})),i.complete()):i.error(new Wm({error:At,headers:xt,status:yt,statusText:Dt,url:Pt||void 0}))},F=function(st){var xt=S().url,yt=new Wm({error:st,status:r.status||0,statusText:r.statusText||"Unknown Error",url:xt||void 0});i.error(yt)},U=!1,J=function(st){U||(i.next(S()),U=!0);var xt={type:eo.DownloadProgress,loaded:st.loaded};st.lengthComputable&&(xt.total=st.total),t.responseType==="text"&&r.responseText&&(xt.partialText=r.responseText),i.next(xt)},ct=function(st){var xt={type:eo.UploadProgress,loaded:st.loaded};st.lengthComputable&&(xt.total=st.total),i.next(xt)};return r.addEventListener("load",T),r.addEventListener("error",F),t.reportProgress&&(r.addEventListener("progress",J),f!==null&&r.upload&&r.upload.addEventListener("progress",ct)),r.send(f),i.next({type:eo.Sent}),function(){r.removeEventListener("error",F),r.removeEventListener("load",T),t.reportProgress&&(r.removeEventListener("progress",J),f!==null&&r.upload&&r.upload.removeEventListener("progress",ct)),r.abort()}})},n}(),$h=new de("XSRF_COOKIE_NAME"),tp=new de("XSRF_HEADER_NAME"),Gm=function(){return function(){}}(),Ux=function(){function n(t,e,i){this.doc=t,this.platform=e,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return n.prototype.getToken=function(){if(this.platform==="server")return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Am(t,this.cookieName),this.lastCookieString=t),this.lastToken},n}(),eu=function(){function n(t,e){this.tokenService=t,this.headerName=e}return n.prototype.intercept=function(t,e){var i=t.url.toLowerCase();if(t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return r===null||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},n}(),Wx=function(){function n(t,e){this.backend=t,this.injector=e,this.chain=null}return n.prototype.handle=function(t){if(this.chain===null){var e=this.injector.get(Xm,[]);this.chain=e.reduceRight(function(i,r){return new Vx(i,r)},this.backend)}return this.chain.handle(t)},n}(),qm=function(){function n(){}var t;return t=n,n.disable=function(){return{ngModule:t,providers:[{provide:eu,useClass:zx}]}},n.withOptions=function(e){return e===void 0&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:$h,useValue:e.cookieName}:[],e.headerName?{provide:tp,useValue:e.headerName}:[]]}},n}(),Km=function(){return function(){}}();function Ea(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&G(t[0])&&(t=t[0]),t.length===0?Cm:n?Ea(t).pipe(Ct(function(i){return n.apply(void 0,i)})):new c(function(i){return new Xx(i,t)})}var Xx=function(n){function t(e,i){var r=n.call(this,e)||this;r.sources=i,r.completed=0,r.haveValues=0;var o=i.length;r.values=new Array(o);for(var s=0;s<o;s++){var f=_t(r,i[s],null,s);f&&r.add(f)}return r}return k(t,n),t.prototype.notifyNext=function(e,i,r,o,s){this.values[r]=i,s._hasValue||(s._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var i=this.destination,r=this.haveValues,o=this.values,s=o.length;e._hasValue?(this.completed++,this.completed===s&&(r===s&&i.next(o),i.complete())):i.complete()},t}(Et),ep=null;function Si(){return ep}var Zm,Yx={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};kn.Node&&(Zm=kn.Node.prototype.contains||function(n){return!!(16&this.compareDocumentPosition(n))});var xs,qx=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,ep||(ep=e)},t.prototype.hasProperty=function(e,i){return i in e},t.prototype.setProperty=function(e,i,r){e[i]=r},t.prototype.getProperty=function(e,i){return e[i]},t.prototype.invoke=function(e,i,r){var o;(o=e)[i].apply(o,N(r))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return Yx},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,i){return Zm.call(e,i)},t.prototype.querySelector=function(e,i){return e.querySelector(i)},t.prototype.querySelectorAll=function(e,i){return e.querySelectorAll(i)},t.prototype.on=function(e,i,r){e.addEventListener(i,r,!1)},t.prototype.onAndCancel=function(e,i,r){return e.addEventListener(i,r,!1),function(){e.removeEventListener(i,r,!1)}},t.prototype.dispatchEvent=function(e,i){e.dispatchEvent(i)},t.prototype.createMouseEvent=function(e){var i=this.getDefaultDocument().createEvent("MouseEvent");return i.initEvent(e,!0,!0),i},t.prototype.createEvent=function(e){var i=this.getDefaultDocument().createEvent("Event");return i.initEvent(e,!0,!0),i},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||e.returnValue!=null&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var i=e.childNodes,r=new Array(i.length),o=0;o<i.length;o++)r[o]=i[o];return r},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,i){e.appendChild(i)},t.prototype.removeChild=function(e,i){e.removeChild(i)},t.prototype.replaceChild=function(e,i,r){e.replaceChild(i,r)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,i,r){e.insertBefore(r,i)},t.prototype.insertAllBefore=function(e,i,r){r.forEach(function(o){return e.insertBefore(o,i)})},t.prototype.insertAfter=function(e,i,r){e.insertBefore(r,i.nextSibling)},t.prototype.setInnerHTML=function(e,i){e.innerHTML=i},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,i){e.textContent=i},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,i){e.value=i},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,i){e.checked=i},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var i=this.getDefaultDocument().createElement("template");return i.innerHTML=e,i},t.prototype.createElement=function(e,i){return(i=i||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,i,r){return(r=r||this.getDefaultDocument()).createElementNS(e,i)},t.prototype.createTextNode=function(e,i){return(i=i||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,i,r){var o=(r=r||this.getDefaultDocument()).createElement("SCRIPT");return o.setAttribute(e,i),o},t.prototype.createStyleElement=function(e,i){var r=(i=i||this.getDefaultDocument()).createElement("style");return this.appendChild(r,this.createTextNode(e,i)),r},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,i){return e.getElementsByClassName(i)},t.prototype.getElementsByTagName=function(e,i){return e.getElementsByTagName(i)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,i){e.classList.add(i)},t.prototype.removeClass=function(e,i){e.classList.remove(i)},t.prototype.hasClass=function(e,i){return e.classList.contains(i)},t.prototype.setStyle=function(e,i,r){e.style[i]=r},t.prototype.removeStyle=function(e,i){e.style[i]=""},t.prototype.getStyle=function(e,i){return e.style[i]},t.prototype.hasStyle=function(e,i,r){var o=this.getStyle(e,i)||"";return r?o==r:o.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var i=new Map,r=e.attributes,o=0;o<r.length;o++){var s=r.item(o);i.set(s.name,s.value)}return i},t.prototype.hasAttribute=function(e,i){return e.hasAttribute(i)},t.prototype.hasAttributeNS=function(e,i,r){return e.hasAttributeNS(i,r)},t.prototype.getAttribute=function(e,i){return e.getAttribute(i)},t.prototype.getAttributeNS=function(e,i,r){return e.getAttributeNS(i,r)},t.prototype.setAttribute=function(e,i,r){e.setAttribute(i,r)},t.prototype.setAttributeNS=function(e,i,r,o){e.setAttributeNS(i,r,o)},t.prototype.removeAttribute=function(e,i){e.removeAttribute(i)},t.prototype.removeAttributeNS=function(e,i,r){e.removeAttributeNS(i,r)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch{return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,i){e.title=i||""},t.prototype.elementMatches=function(e,i){return!!this.isElementNode(e)&&(e.matches&&e.matches(i)||e.msMatchesSelector&&e.msMatchesSelector(i)||e.webkitMatchesSelector&&e.webkitMatchesSelector(i))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&e.nodeName==="TEMPLATE"},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return e.shadowRoot!=null&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var i=e.key;if(i==null){if((i=e.keyIdentifier)==null)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),e.location===3&&Jm.hasOwnProperty(i)&&(i=Jm[i]))}return Gx[i]||i},t.prototype.getGlobalEventTarget=function(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var i,r=nu||(nu=(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("base"))?nu.getAttribute("href"):null;return r==null?null:(i=r,xs||(xs=document.createElement("a")),xs.setAttribute("href",i),xs.pathname.charAt(0)==="/"?xs.pathname:"/"+xs.pathname)},t.prototype.resetBaseElement=function(){nu=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,i,r){this.setAttribute(e,"data-"+i,r)},t.prototype.getData=function(e,i){return this.getAttribute(e,"data-"+i)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return typeof Element.prototype.animate=="function"},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():new Date().getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return Am(document.cookie,e)},t.prototype.setCookie=function(e,i){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)},t}(function(n){function t(){var e=n.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var i=e.createElement("div",document);if(e.getStyle(i,"animationName")!=null)e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(e.getStyle(i,r[o]+"AnimationName")!=null){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach(function(f){e.getStyle(i,f)!=null&&(e._transitionEnd=s[f])})}catch{e._animationPrefix=null,e._transitionEnd=null}return e}return k(t,n),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,i,r){e.href=r==null?i:i+"/../"+r},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return typeof document.body.createShadowRoot=="function"},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return this._animationPrefix!=null&&this._transitionEnd!=null},t}(function(){function n(){this.resourceLoaderType=null}return Object.defineProperty(n.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),n}())),nu=null,Oa=jn;function Qm(){return!!window.history.pushState}var Kx=function(n){function t(i){var r=n.call(this)||this;return r._doc=i,r._init(),r}var e;return k(t,n),t.prototype._init=function(){this.location=Si().getLocation(),this._history=Si().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return Si().getBaseHref(this._doc)},t.prototype.onPopState=function(i){Si().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",i,!1)},t.prototype.onHashChange=function(i){Si().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",i,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(i){this.location.pathname=i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(i,r,o){Qm()?this._history.pushState(i,r,o):this.location.hash=o},t.prototype.replaceState=function(i,r,o){Qm()?this._history.replaceState(i,r,o):this.location.hash=o},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},A([(e=Zs(Oa),function(i,r){e(i,r,0)}),E("design:paramtypes",[Object])],t)}(km),$m=new de("TRANSITION_ID"),Zx=[{provide:oh,useFactory:function(n,t,e){return function(){e.get(la).donePromise.then(function(){var i=Si();Array.prototype.slice.apply(i.querySelectorAll(t,"style[ng-transition]")).filter(function(r){return i.getAttribute(r,"ng-transition")===n}).forEach(function(r){return i.remove(r)})})}},deps:[$m,Oa,In],multi:!0}],Jx=function(){function n(){}return n.init=function(){var t;t=new n,hh=t},n.prototype.addToWindow=function(t){kn.getAngularTestability=function(e,i){i===void 0&&(i=!0);var r=t.findTestabilityInTree(e,i);if(r==null)throw new Error("Could not find testability for element.");return r},kn.getAllAngularTestabilities=function(){return t.getAllTestabilities()},kn.getAllAngularRootElements=function(){return t.getAllRootElements()},kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(function(e){var i=kn.getAllAngularTestabilities(),r=i.length,o=!1,s=function(f){o=o||f,--r==0&&e(o)};i.forEach(function(f){f.whenStable(s)})})},n.prototype.findTestabilityInTree=function(t,e,i){if(e==null)return null;var r=t.getTestability(e);return r??(i?Si().isShadowRoot(e)?this.findTestabilityInTree(t,Si().getHost(e),!0):this.findTestabilityInTree(t,Si().parentElement(e),!0):null)},n}();function tv(n,t){typeof COMPILED<"u"&&COMPILED||((kn.ng=kn.ng||{})[n]=t)}var Qx={ApplicationRef:Jr,NgZone:xe};function ev(n){return ui(n)}var nv=new de("EventManagerPlugins"),np=function(){function n(t,e){var i=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(r){return r.manager=i}),this._plugins=t.slice().reverse()}return n.prototype.addEventListener=function(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)},n.prototype.addGlobalEventListener=function(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)},n.prototype.getZone=function(){return this._zone},n.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var i=this._plugins,r=0;r<i.length;r++){var o=i[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},n}(),ip=function(){function n(t){this._doc=t}return n.prototype.addGlobalEventListener=function(t,e,i){var r=Si().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,i)},n}(),iv=function(){function n(){this._stylesSet=new Set}return n.prototype.addStyles=function(t){var e=this,i=new Set;t.forEach(function(r){e._stylesSet.has(r)||(e._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)},n.prototype.onStylesAdded=function(t){},n.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},n}(),iu=function(n){function t(e){var i=n.call(this)||this;return i._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return k(t,n),t.prototype._addStylesToHost=function(e,i){var r=this;e.forEach(function(o){var s=r._doc.createElement("style");s.textContent=o,r._styleNodes.add(i.appendChild(s))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var i=this;this._hostNodes.forEach(function(r){return i._addStylesToHost(e,r)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return Si().remove(e)})},t}(iv),rp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},op=/%COMP%/g,$x="_nghost-%COMP%",tC="_ngcontent-%COMP%";function ru(n,t,e){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?ru(n,r,e):(r=r.replace(op,n),e.push(r))}return e}function rv(n){return function(t){n(t)===!1&&(t.preventDefault(),t.returnValue=!1)}}var sp=function(){function n(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new ap(t)}return n.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case zi.Emulated:var i=this.rendererByCompId.get(e.id);return i||(i=new nC(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i;case zi.Native:case zi.ShadowDom:return new iC(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=ru(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},n.prototype.begin=function(){},n.prototype.end=function(){},n}(),ap=function(){function n(t){this.eventManager=t,this.data=Object.create(null)}return n.prototype.destroy=function(){},n.prototype.createElement=function(t,e){return e?document.createElementNS(rp[e],t):document.createElement(t)},n.prototype.createComment=function(t){return document.createComment(t)},n.prototype.createText=function(t){return document.createTextNode(t)},n.prototype.appendChild=function(t,e){t.appendChild(e)},n.prototype.insertBefore=function(t,e,i){t&&t.insertBefore(e,i)},n.prototype.removeChild=function(t,e){t&&t.removeChild(e)},n.prototype.selectRootElement=function(t,e){var i=typeof t=="string"?(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector(t):t;if(!i)throw new Error('The selector "'+t+'" did not match any elements');return e||(i.textContent=""),i},n.prototype.parentNode=function(t){return t.parentNode},n.prototype.nextSibling=function(t){return t.nextSibling},n.prototype.setAttribute=function(t,e,i,r){if(r){e=r+":"+e;var o=rp[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)},n.prototype.removeAttribute=function(t,e,i){if(i){var r=rp[i];r?t.removeAttributeNS(r,e):t.removeAttribute(i+":"+e)}else t.removeAttribute(e)},n.prototype.addClass=function(t,e){t.classList.add(e)},n.prototype.removeClass=function(t,e){t.classList.remove(e)},n.prototype.setStyle=function(t,e,i,r){r&Xc.DashCase?t.style.setProperty(e,i,r&Xc.Important?"important":""):t.style[e]=i},n.prototype.removeStyle=function(t,e,i){i&Xc.DashCase?t.style.removeProperty(e):t.style[e]=""},n.prototype.setProperty=function(t,e,i){ov(e,"property"),t[e]=i},n.prototype.setValue=function(t,e){t.nodeValue=e},n.prototype.listen=function(t,e,i){return ov(e,"listener"),typeof t=="string"?this.eventManager.addGlobalEventListener(t,e,rv(i)):this.eventManager.addEventListener(t,e,rv(i))},n}(),eC=64;function ov(n,t){if(n.charCodeAt(0)===eC)throw new Error("Found the synthetic "+t+" "+n+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var lp,nC=function(n){function t(e,i,r){var o=n.call(this,e)||this;o.component=r;var s=ru(r.id,r.styles,[]);return i.addStyles(s),o.contentAttr=tC.replace(op,r.id),o.hostAttr=$x.replace(op,r.id),o}return k(t,n),t.prototype.applyToHost=function(e){n.prototype.setAttribute.call(this,e,this.hostAttr,"")},t.prototype.createElement=function(e,i){var r=n.prototype.createElement.call(this,e,i);return n.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(ap),iC=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;s.sharedStylesHost=i,s.hostEl=r,s.component=o,s.shadowRoot=o.encapsulation===zi.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var f=ru(o.id,o.styles,[]),_=0;_<f.length;_++){var S=document.createElement("style");S.textContent=f[_],s.shadowRoot.appendChild(S)}return s}return k(t,n),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(e,i){return n.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),i)},t.prototype.insertBefore=function(e,i,r){return n.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),i,r)},t.prototype.removeChild=function(e,i){return n.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),i)},t.prototype.parentNode=function(e){return this.nodeOrShadowRoot(n.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},t}(ap),ou=typeof Zone<"u"&&Zone.__symbol__||function(n){return"__zone_symbol__"+n},sv=ou("addEventListener"),rC=ou("removeEventListener"),su={},av="__zone_symbol__propagationStopped";typeof Zone<"u"&&Zone[ou("BLACK_LISTED_EVENTS")]&&(lp={});var lv=function(n){return!!lp&&lp.hasOwnProperty(n)},uv=function(n){var t=su[n.type];if(t){var e=this[t];if(e){var i=[n];if(e.length===1)return(s=e[0]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i);for(var r=e.slice(),o=0;o<r.length&&n[av]!==!0;o++){var s;(s=r[o]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},oC=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.ngZone=i,r&&function(s){return s===Lx}(r)||o.patchEvent(),o}return k(t,n),t.prototype.patchEvent=function(){if(typeof Event<"u"&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[av]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,i,r){var o=this,s=r;if(!e[sv]||xe.isInAngularZone()&&!lv(i))e.addEventListener(i,s,!1);else{var f=su[i];f||(f=su[i]=ou("ANGULAR"+i+"FALSE"));var _=e[f],S=_&&_.length>0;_||(_=e[f]=[]);var T=lv(i)?Zone.root:Zone.current;if(_.length===0)_.push({zone:T,handler:s});else{for(var F=!1,U=0;U<_.length;U++)if(_[U].handler===s){F=!0;break}F||_.push({zone:T,handler:s})}S||e[sv](i,uv,!1)}return function(){return o.removeEventListener(e,i,s)}},t.prototype.removeEventListener=function(e,i,r){var o=e[rC];if(!o)return e.removeEventListener.apply(e,[i,r,!1]);var s=su[i],f=s&&e[s];if(!f)return e.removeEventListener.apply(e,[i,r,!1]);for(var _=!1,S=0;S<f.length;S++)if(f[S].handler===r){_=!0,f.splice(S,1);break}_?f.length===0&&o.apply(e,[i,uv,!1]):e.removeEventListener.apply(e,[i,r,!1])},t}(ip),sC={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cv=new de("HammerGestureConfig"),yi=new de("HammerLoader"),aC=function(){function n(){this.events=[],this.overrides={}}return n.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var i in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(i).set(this.overrides[i]);return e},n}(),lC=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s._config=i,s.console=r,s.loader=o,s}return k(t,n),t.prototype.supports=function(e){return!(!sC.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,i,r){var o=this,s=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){var f=!1,_=function(){f=!0};return this.loader().then(function(){if(!window.Hammer)return o.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(_=function(){});f||(_=o.addEventListener(e,i,r))}).catch(function(){o.console.warn('The "'+i+'" event cannot be bound because the custom Hammer.JS loader failed.'),_=function(){}}),function(){_()}}return s.runOutsideAngular(function(){var S=o._config.buildHammer(e),T=function(F){s.runGuarded(function(){r(F)})};return S.on(i,T),function(){S.off(i,T),typeof S.destroy=="function"&&S.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(ip),hv=["alt","control","meta","shift"],uC={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},cC=function(n){function t(i){return n.call(this,i)||this}var e;return k(t,n),e=t,t.prototype.supports=function(i){return e.parseEventName(i)!=null},t.prototype.addEventListener=function(i,r,o){var s=e.parseEventName(r),f=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Si().onAndCancel(i,s.domEventName,f)})},t.parseEventName=function(i){var r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||o!=="keydown"&&o!=="keyup")return null;var s=e._normalizeKey(r.pop()),f="";if(hv.forEach(function(S){var T=r.indexOf(S);T>-1&&(r.splice(T,1),f+=S+".")}),f+=s,r.length!=0||s.length===0)return null;var _={};return _.domEventName=o,_.fullKey=f,_},t.getEventFullKey=function(i){var r="",o=Si().getEventKey(i);return(o=o.toLowerCase())===" "?o="space":o==="."&&(o="dot"),hv.forEach(function(s){s!=o&&(0,uC[s])(i)&&(r+=s+".")}),r+=o},t.eventCallback=function(i,r,o){return function(s){e.getEventFullKey(s)===i&&o.runGuarded(function(){return r(s)})}},t._normalizeKey=function(i){switch(i){case"esc":return"escape";default:return i}},t}(ip),Rr=function(){return function(){}}(),hC=function(n){function t(e){var i=n.call(this)||this;return i._doc=e,i}return k(t,n),t.prototype.sanitize=function(e,i){if(i==null)return null;switch(e){case Zi.NONE:return i;case Zi.HTML:return i instanceof pv?i.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(i,"HTML"),function(r,o){var s=null;try{Ml=Ml||new w1(r);var f=o?String(o):"";s=Ml.getInertBodyElement(f);var _=5,S=f;do{if(_===0)throw new Error("Failed to sanitize html because the input is unstable");_--,f=S,S=s.innerHTML,s=Ml.getInertBodyElement(f)}while(f!==S);var T=new E1,F=T.sanitizeChildren(tg(s)||s);return Hi()&&T.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),F}finally{if(s)for(var U=tg(s)||s;U.firstChild;)U.removeChild(U.firstChild)}}(this._doc,String(i)));case Zi.STYLE:return i instanceof dv?i.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(i,"Style"),function(r){if(!(r=String(r).trim()))return"";var o=r.match(R1);return o&&Fl(o[1])===o[1]||r.match(D1)&&function(s){for(var f=!0,_=!0,S=0;S<s.length;S++){var T=s.charAt(S);T==="'"&&_?f=!f:T==='"'&&f&&(_=!_)}return f&&_}(r)?r:(Hi()&&console.warn("WARNING: sanitizing unsafe style value "+r+" (see http://g.co/ng/security#xss)."),"unsafe")}(i));case Zi.SCRIPT:if(i instanceof fv)return i.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(i,"Script"),new Error("unsafe value used in a script context");case Zi.URL:return i instanceof up||i instanceof gv?i.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(i,"URL"),Fl(String(i)));case Zi.RESOURCE_URL:if(i instanceof up)return i.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(i,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,i){if(e instanceof Cs)throw new Error("Required a safe "+i+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new pv(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new dv(e)},t.prototype.bypassSecurityTrustScript=function(e){return new fv(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new gv(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new up(e)},t}(Rr),Cs=function(){function n(t){this.changingThisBreaksApplicationSecurity=t}return n.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},n}(),pv=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.getTypeName=function(){return"HTML"},t}(Cs),dv=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.getTypeName=function(){return"Style"},t}(Cs),fv=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.getTypeName=function(){return"Script"},t}(Cs),gv=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.getTypeName=function(){return"URL"},t}(Cs),up=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.getTypeName=function(){return"ResourceURL"},t}(Cs),pC=wg(vw,"browser",[{provide:ua,useValue:Mm},{provide:hg,useValue:function(){qx.makeCurrent(),Jx.init()},multi:!0},{provide:km,useClass:Kx,deps:[Oa]},{provide:Oa,useFactory:function(){return document},deps:[]}]),cp=function(){function n(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=n,n.withServerTransition=function(e){return{ngModule:t,providers:[{provide:sh,useValue:e.appId},{provide:$m,useExisting:sh},Zx]}},n}();typeof window<"u";var mv=function(){function n(){}return Object.defineProperty(n.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.reset=function(t){t===void 0&&(t=void 0),this.control&&this.control.reset(t)},n.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},n.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},n}(),Xe=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(mv);function no(n){return n==null||n.length===0}var br=new de("NgValidators"),dC=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,jr=function(){function n(){}return n.min=function(t){return function(e){if(no(e.value)||no(t))return null;var i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}},n.max=function(t){return function(e){if(no(e.value)||no(t))return null;var i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}},n.required=function(t){return no(t.value)?{required:!0}:null},n.requiredTrue=function(t){return t.value===!0?null:{required:!0}},n.email=function(t){return no(t.value)||dC.test(t.value)?null:{email:!0}},n.minLength=function(t){return function(e){if(no(e.value))return null;var i=e.value?e.value.length:0;return i<t?{minlength:{requiredLength:t,actualLength:i}}:null}},n.maxLength=function(t){return function(e){var i=e.value?e.value.length:0;return i>t?{maxlength:{requiredLength:t,actualLength:i}}:null}},n.pattern=function(t){return t?(typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),function(r){if(no(r.value))return null;var o=r.value;return e.test(o)?null:{pattern:{requiredPattern:i,actualValue:o}}}):n.nullValidator;var e,i},n.nullValidator=function(t){return null},n.compose=function(t){if(!t)return null;var e=t.filter(vv);return e.length==0?null:function(i){return bv(function(r,o){return e.map(function(s){return s(r)})}(i))}},n.composeAsync=function(t){if(!t)return null;var e=t.filter(vv);return e.length==0?null:function(i){return Ea(function(r,o){return e.map(function(s){return s(r)})}(i).map(yv)).pipe(Ct(bv))}},n}();function vv(n){return n!=null}function yv(n){var t=Nl(n)?Kt(n):n;if(!rh(t))throw new Error("Expected validator to return Promise or Observable.");return t}function bv(n){var t=n.reduce(function(e,i){return i!=null?j({},e,i):e},{});return Object.keys(t).length===0?null:t}var ve=new de("NgValueAccessor"),fC=function(){function n(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(i){},this.onTouched=function(){}}return n.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},n.prototype.registerOnChange=function(t){this.onChange=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n}(),io=new de("CompositionEventMode"),ci=function(){function n(t,e,i){var r;this._renderer=t,this._elementRef=e,this._compositionMode=i,this.onChange=function(o){},this.onTouched=function(){},this._composing=!1,this._compositionMode==null&&(this._compositionMode=(r=Si()?Si().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return n.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",t??"")},n.prototype.registerOnChange=function(t){this.onChange=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},n.prototype._compositionStart=function(){this._composing=!0},n.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},n}();function gC(n){return n.validate?function(t){return n.validate(t)}:n}function mC(n){return n.validate?function(t){return n.validate(t)}:n}var Ui=function(){function n(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(i){},this.onTouched=function(){}}return n.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",t??"")},n.prototype.registerOnChange=function(t){this.onChange=function(e){t(e==""?null:parseFloat(e))}},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n}();function _v(){throw new Error("unimplemented")}var me=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return k(t,n),Object.defineProperty(t.prototype,"validator",{get:function(){return _v()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return _v()},enumerable:!0,configurable:!0}),t}(mv),wv=function(){function n(){this._accessors=[]}return n.prototype.add=function(t,e){this._accessors.push([t,e])},n.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},n.prototype.select=function(t){var e=this;this._accessors.forEach(function(i){e._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})},n.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},n}(),vC=function(){function n(t,e,i,r){this._renderer=t,this._elementRef=e,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return n.prototype.ngOnInit=function(){this._control=this._injector.get(me),this._checkName(),this._registry.add(this._control,this)},n.prototype.ngOnDestroy=function(){this._registry.remove(this)},n.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},n.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},n.prototype.fireUncheck=function(t){this.writeValue(t)},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},n.prototype._throwNameError=function(){throw new Error(`
      If you define both a name and a formControlName attribute on your radio button, their values
      must match. Ex: <input type="radio" formControlName="food" name="food">
    `)},n}(),yC=function(){function n(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(i){},this.onTouched=function(){}}return n.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},n.prototype.registerOnChange=function(t){this.onChange=function(e){t(e==""?null:parseFloat(e))}},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n}(),hp=`
    <div [formGroup]="myGroup">
      <input formControlName="firstName">
    </div>

    In your class:

    this.myGroup = new FormGroup({
       firstName: new FormControl()
    });`,au=`
    <div [formGroup]="myGroup">
       <div formGroupName="person">
          <input formControlName="firstName">
       </div>
    </div>

    In your class:

    this.myGroup = new FormGroup({
       person: new FormGroup({ firstName: new FormControl() })
    });`,pp=`
    <form>
       <div ngModelGroup="person">
          <input [(ngModel)]="person.name" name="firstName">
       </div>
    </form>`,ro=function(){function n(){}return n.controlParentException=function(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup
       directive and pass it an existing FormGroup instance (you can create one in your class).

      Example:

      `+hp)},n.ngModelGroupException=function(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents
       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.

       Option 1:  Update the parent to be formGroupName (reactive form strategy)

        `+au+`

        Option 2: Use ngModel instead of formControlName (template-driven strategy)

        `+pp)},n.missingFormException=function(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.

       Example:

       `+hp)},n.groupParentException=function(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup
      directive and pass it an existing FormGroup instance (you can create one in your class).

      Example:

      `+au)},n.arrayParentException=function(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup
       directive and pass it an existing FormGroup instance (you can create one in your class).

        Example:

        
    <div [formGroup]="myGroup">
      <div formArrayName="cities">
        <div *ngFor="let city of cityArray.controls; index as i">
          <input [formControlName]="i">
        </div>
      </div>
    </div>

    In your class:

    this.cityArray = new FormArray([new FormControl('SF')]);
    this.myGroup = new FormGroup({
      cities: this.cityArray
    });`)},n.disabledAttrWarning=function(){console.warn(`
      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true
      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for
      you. We recommend using this approach to avoid 'changed after checked' errors.
       
      Example: 
      form = new FormGroup({
        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),
        last: new FormControl('Drew', Validators.required)
      });
    `)},n.ngModelWarning=function(t){console.warn(`
    It looks like you're using ngModel on the same form field as `+t+`. 
    Support for using the ngModel input property and ngModelChange event with 
    reactive form directives has been deprecated in Angular v6 and will be removed 
    in Angular v7.
    
    For more information on this, see our API docs here:
    https://angular.io/api/forms/`+(t==="formControl"?"FormControlDirective":"FormControlName")+`#use-with-ngmodel
    `)},n}();function xv(n,t){return n==null?""+t:(t&&typeof t=="object"&&(t="Object"),(n+": "+t).slice(0,50))}var lu=function(){function n(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(i){},this.onTouched=function(){},this._compareWith=Nn}return Object.defineProperty(n.prototype,"compareWith",{set:function(t){if(typeof t!="function")throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);e==null&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var i=xv(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)},n.prototype.registerOnChange=function(t){var e=this;this.onChange=function(i){e.value=e._getOptionValue(i),t(e.value)}},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n.prototype._registerOption=function(){return(this._idCounter++).toString()},n.prototype._getOptionId=function(t){var e,i;try{for(var r=X(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var s=o.value;if(this._compareWith(this._optionMap.get(s),t))return s}}catch(f){e={error:f}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(t){var e=function(i){return i.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},n}(),Cv=function(){function n(t,e,i){this._element=t,this._renderer=e,this._select=i,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(n.prototype,"ngValue",{set:function(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(xv(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),n.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},n.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},n}();function Sv(n,t){return n==null?""+t:(typeof t=="string"&&(t="'"+t+"'"),t&&typeof t=="object"&&(t="Object"),(n+": "+t).slice(0,50))}var bC=function(){function n(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(i){},this.onTouched=function(){},this._compareWith=Nn}return Object.defineProperty(n.prototype,"compareWith",{set:function(t){if(typeof t!="function")throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(t){var e,i=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(o){return i._getOptionId(o)});e=function(o,s){o._setSelected(r.indexOf(s.toString())>-1)}}else e=function(o,s){o._setSelected(!1)};this._optionMap.forEach(e)},n.prototype.registerOnChange=function(t){var e=this;this.onChange=function(i){var r=[];if(i.hasOwnProperty("selectedOptions"))for(var o=i.selectedOptions,s=0;s<o.length;s++){var f=o.item(s),_=e._getOptionValue(f.value);r.push(_)}else for(o=i.options,s=0;s<o.length;s++)(f=o.item(s)).selected&&(_=e._getOptionValue(f.value),r.push(_));e.value=r,t(r)}},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},n.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},n.prototype._getOptionId=function(t){var e,i;try{for(var r=X(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var s=o.value;if(this._compareWith(this._optionMap.get(s)._value,t))return s}}catch(f){e={error:f}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(t){var e=function(i){return i.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},n}(),kv=function(){function n(t,e,i){this._element=t,this._renderer=e,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(n.prototype,"ngValue",{set:function(t){this._select!=null&&(this._value=t,this._setElementValue(Sv(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(Sv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),n.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},n.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},n.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},n}();function uu(n,t){return N(t.path,[n])}function Ta(n,t){n||oo(t,"Cannot find control with"),t.valueAccessor||oo(t,"No value accessor for form control with"),n.validator=jr.compose([n.validator,t.validator]),n.asyncValidator=jr.composeAsync([n.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(n.value),function(e,i){i.valueAccessor.registerOnChange(function(r){e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ev(e,i)})}(n,t),function(e,i){e.registerOnChange(function(r,o){i.valueAccessor.writeValue(r),o&&i.viewToModelUpdate(r)})}(n,t),function(e,i){i.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ev(e,i),e.updateOn!=="submit"&&e.markAsTouched()})}(n,t),t.valueAccessor.setDisabledState&&n.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return n.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return n.updateValueAndValidity()})})}function Ev(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dp(n,t){n==null&&oo(t,"Cannot find control with"),n.validator=jr.compose([n.validator,t.validator]),n.asyncValidator=jr.composeAsync([n.asyncValidator,t.asyncValidator])}function Ov(n){return oo(n,"There is no FormControl instance attached to form control element with")}function oo(n,t){var e;throw e=n.path.length>1?"path: '"+n.path.join(" -> ")+"'":n.path[0]?"name: '"+n.path+"'":"unspecified name attribute",new Error(t+" "+e)}function so(n){return n!=null?jr.compose(n.map(gC)):null}function ao(n){return n!=null?jr.composeAsync(n.map(mC)):null}function fp(n,t){if(!n.hasOwnProperty("model"))return!1;var e=n.model;return!!e.isFirstChange()||!Nn(t,e.currentValue)}var _C=[fC,yC,Ui,lu,bC,vC];function Tv(n,t){n._syncPendingControls(),t.forEach(function(e){var i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gp(n,t){if(!t)return null;Array.isArray(t)||oo(n,"Value accessor was not provided as an array for form control with");var e=void 0,i=void 0,r=void 0;return t.forEach(function(o){var s;o.constructor===ci?e=o:(s=o,_C.some(function(f){return s.constructor===f})?(i&&oo(n,"More than one built-in value accessor matches form control with"),i=o):(r&&oo(n,"More than one custom value accessor matches form control with"),r=o))}),r||i||e||(oo(n,"No valid value accessor for form control with"),null)}function Iv(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)}function Av(n,t,e,i){Hi()&&i!=="never"&&((i!==null&&i!=="once"||t._ngModelWarningSentOnce)&&(i!=="always"||e._ngModelWarningSent)||(ro.ngModelWarning(n),t._ngModelWarningSentOnce=!0,e._ngModelWarningSent=!0))}var cu=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return uu(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return so(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ao(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(Xe),Pv=function(){function n(t){this._cd=t}return Object.defineProperty(n.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),n}(),Cn=function(n){function t(e){return n.call(this,e)||this}return k(t,n),t}(Pv),Fr=function(n){function t(e){return n.call(this,e)||this}return k(t,n),t}(Pv);function hu(n){var t=mp(n)?n.validators:n;return Array.isArray(t)?so(t):t||null}function pu(n,t){var e=mp(t)?t.asyncValidators:n;return Array.isArray(e)?ao(e):e||null}function mp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var vp=function(){function n(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return this.status==="VALID"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return this.status==="INVALID"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return this.status=="PENDING"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.status==="DISABLED"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.status!=="DISABLED"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),n.prototype.setValidators=function(t){this.validator=hu(t)},n.prototype.setAsyncValidators=function(t){this.asyncValidator=pu(t)},n.prototype.clearValidators=function(){this.validator=null},n.prototype.clearAsyncValidators=function(){this.asyncValidator=null},n.prototype.markAsTouched=function(t){t===void 0&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},n.prototype.markAsUntouched=function(t){t===void 0&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},n.prototype.markAsDirty=function(t){t===void 0&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},n.prototype.markAsPristine=function(t){t===void 0&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},n.prototype.markAsPending=function(t){t===void 0&&(t={}),this.status="PENDING",t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},n.prototype.disable=function(t){t===void 0&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(j({},t,{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(e){return e(!0)})},n.prototype.enable=function(t){t===void 0&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(j({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(e){return e(!1)})},n.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},n.prototype.setParent=function(t){this._parent=t},n.prototype.updateValueAndValidity=function(t){t===void 0&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!=="VALID"&&this.status!=="PENDING"||this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},n.prototype._updateTreeValidity=function(t){t===void 0&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},n.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},n.prototype._runValidator=function(){return this.validator?this.validator(this):null},n.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var i=yv(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(r){return e.setErrors(r,{emitEvent:t})})}},n.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},n.prototype.setErrors=function(t,e){e===void 0&&(e={}),this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)},n.prototype.get=function(t){return function(e,i,r){return i==null?null:(i instanceof Array||(i=i.split(".")),i instanceof Array&&i.length===0?null:i.reduce(function(o,s){return o instanceof _r?o.controls.hasOwnProperty(s)?o.controls[s]:null:o instanceof yp&&o.at(s)||null},e))}(this,t)},n.prototype.getError=function(t,e){var i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null},n.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(n.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),n.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},n.prototype._initObservables=function(){this.valueChanges=new le,this.statusChanges=new le},n.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},n.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},n.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},n.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},n.prototype._updatePristine=function(t){t===void 0&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},n.prototype._updateTouched=function(t){t===void 0&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},n.prototype._isBoxedValue=function(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t},n.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},n.prototype._setUpdateStrategy=function(t){mp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)},n}(),ti=function(n){function t(e,i,r){e===void 0&&(e=null);var o=n.call(this,hu(i),pu(r,i))||this;return o._onChange=[],o._applyFormState(e),o._setUpdateStrategy(i),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return k(t,n),t.prototype.setValue=function(e,i){var r=this;i===void 0&&(i={}),this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(function(o){return o(r.value,i.emitViewToModelChange!==!1)}),this.updateValueAndValidity(i)},t.prototype.patchValue=function(e,i){i===void 0&&(i={}),this.setValue(e,i)},t.prototype.reset=function(e,i){e===void 0&&(e=null),i===void 0&&(i={}),this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!(this.updateOn!=="submit"||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(vp),_r=function(n){function t(e,i,r){var o=n.call(this,hu(i),pu(r,i))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return k(t,n),t.prototype.registerControl=function(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)},t.prototype.addControl=function(e,i){this.registerControl(e,i),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,i){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,i){var r=this;i===void 0&&(i={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(o){r._throwIfControlMissing(o),r.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)},t.prototype.patchValue=function(e,i){var r=this;i===void 0&&(i={}),Object.keys(e).forEach(function(o){r.controls[o]&&r.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)},t.prototype.reset=function(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this._forEachChild(function(r,o){r.reset(e[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i),this._updatePristine(i),this._updateTouched(i)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,i,r){return e[r]=i instanceof ti?i.value:i.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(i,r){return!!r._syncPendingControls()||i});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error(`
        There are no form controls registered with this group yet.  If you're using ngModel,
        you may want to check next tick (e.g. use setTimeout).
      `);if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var i=this;Object.keys(this.controls).forEach(function(r){return e(i.controls[r],r)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(i){i.setParent(e),i._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var i=this,r=!1;return this._forEachChild(function(o,s){r=r||i.contains(s)&&e(o)}),r},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(i,r,o){return(r.enabled||e.disabled)&&(i[o]=r.value),i})},t.prototype._reduceChildren=function(e,i){var r=e;return this._forEachChild(function(o,s){r=i(r,o,s)}),r},t.prototype._allControlsDisabled=function(){var e,i;try{for(var r=X(Object.keys(this.controls)),o=r.next();!o.done;o=r.next())if(this.controls[o.value].enabled)return!1}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(i,r){if(e[r]===void 0)throw new Error("Must supply a value for form control with name: '"+r+"'.")})},t}(vp),yp=function(n){function t(e,i,r){var o=n.call(this,hu(i),pu(r,i))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return k(t,n),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,i){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,i){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),i&&(this.controls.splice(e,0,i),this._registerControl(i)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,i){var r=this;i===void 0&&(i={}),this._checkAllValuesPresent(e),e.forEach(function(o,s){r._throwIfControlMissing(s),r.at(s).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)},t.prototype.patchValue=function(e,i){var r=this;i===void 0&&(i={}),e.forEach(function(o,s){r.at(s)&&r.at(s).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)},t.prototype.reset=function(e,i){e===void 0&&(e=[]),i===void 0&&(i={}),this._forEachChild(function(r,o){r.reset(e[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i),this._updatePristine(i),this._updateTouched(i)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof ti?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(i,r){return!!r._syncPendingControls()||i},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error(`
        There are no form controls registered with this array yet.  If you're using ngModel,
        you may want to check next tick (e.g. use setTimeout).
      `);if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(i,r){e(i,r)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(i){return i.enabled||e.disabled}).map(function(i){return i.value})},t.prototype._anyControls=function(e){return this.controls.some(function(i){return i.enabled&&e(i)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(i){return e._registerControl(i)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(i,r){if(e[r]===void 0)throw new Error("Must supply a value for form control at index: "+r+".")})},t.prototype._allControlsDisabled=function(){var e,i;try{for(var r=X(this.controls),o=r.next();!o.done;o=r.next())if(o.value.enabled)return!1}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(vp),Ia=Promise.resolve(null),bp=function(n){function t(e,i){var r=n.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new le,r.form=new _r({},so(e),ao(i)),r}return k(t,n),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var i=this;Ia.then(function(){var r=i._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Ta(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),i._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var i=this;Ia.then(function(){var r=i._findContainer(e.path);r&&r.removeControl(e.name),Iv(i._directives,e)})},t.prototype.addFormGroup=function(e){var i=this;Ia.then(function(){var r=i._findContainer(e.path),o=new _r({});dp(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var i=this;Ia.then(function(){var r=i._findContainer(e.path);r&&r.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,i){var r=this;Ia.then(function(){r.form.get(e.path).setValue(i)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,Tv(this.form,this._directives),this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){e===void 0&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(Xe),du=function(){function n(){}return n.modelParentException=function(){throw new Error(`
      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using
      formGroup's partner directive "formControlName" instead.  Example:

      `+hp+`

      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:

      Example:

      
    <div [formGroup]="myGroup">
       <input formControlName="firstName">
       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">
    </div>
  `)},n.formGroupNameException=function(){throw new Error(`
      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.

      Option 1: Use formControlName instead of ngModel (reactive strategy):

      `+au+`

      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):

      `+pp)},n.missingNameException=function(){throw new Error(`If ngModel is used within a form tag, either the name attribute must be set or the form
      control must be defined as 'standalone' in ngModelOptions.

      Example 1: <input [(ngModel)]="person.firstName" name="first">
      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">`)},n.modelGroupParentException=function(){throw new Error(`
      ngModelGroup cannot be used with a parent formGroup directive.

      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):

      `+au+`

      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):

      `+pp)},n.ngFormWarning=function(){console.warn(`
    It looks like you're using 'ngForm'.

    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed
    in Angular v9.

    Use 'ng-form' instead.

    Before:
    <ngForm #myForm="ngForm">

    After:
    <ng-form #myForm="ngForm">
    `)},n}(),wC=new de("NgFormSelectorWarning"),Dv=function(n){function t(i,r,o){var s=n.call(this)||this;return s._parent=i,s._validators=r,s._asyncValidators=o,s}var e;return k(t,n),e=t,t.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof bp||du.modelGroupParentException()},t}(cu),Rv=Promise.resolve(null),lo=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.control=new ti,s._registered=!1,s.update=new le,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=r||[],s.valueAccessor=gp(s,o),s}return k(t,n),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),fp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?uu(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return so(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ao(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Ta(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Dv)&&this._parent instanceof cu?du.formGroupNameException():this._parent instanceof Dv||this._parent instanceof bp||du.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||du.missingNameException()},t.prototype._updateValue=function(e){var i=this;Rv.then(function(){i.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var i=this,r=e.isDisabled.currentValue,o=r===""||r&&r!=="false";Rv.then(function(){o&&!i.control.disabled?i.control.disable():!o&&i.control.disabled&&i.control.enable()})},t}(me),Dn=new de("NgModelWithFormControlWarning"),uo=function(n){function t(i,r,o,s){var f=n.call(this)||this;return f._ngModelWarningConfig=s,f.update=new le,f._ngModelWarningSent=!1,f._rawValidators=i||[],f._rawAsyncValidators=r||[],f.valueAccessor=gp(f,o),f}var e;return k(t,n),e=t,Object.defineProperty(t.prototype,"isDisabled",{set:function(i){ro.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(i){this._isControlChanged(i)&&(Ta(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),fp(i,this.viewModel)&&(Av("formControl",e,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return so(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ao(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(i){this.viewModel=i,this.update.emit(i)},t.prototype._isControlChanged=function(i){return i.hasOwnProperty("form")},t._ngModelWarningSentOnce=!1,t}(me),Kn=function(n){function t(e,i){var r=n.call(this)||this;return r._validators=e,r._asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new le,r}return k(t,n),t.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var i=this.form.get(e.path);return Ta(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){Iv(this.directives,e)},t.prototype.addFormGroup=function(e){var i=this.form.get(e.path);dp(i,e),i.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var i=this.form.get(e.path);dp(i,e),i.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,i){this.form.get(e.path).setValue(i)},t.prototype.onSubmit=function(e){return this.submitted=!0,Tv(this.form,this.directives),this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){e===void 0&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(i){var r=e.form.get(i.path);i.control!==r&&(function(o,s){s.valueAccessor.registerOnChange(function(){return Ov(s)}),s.valueAccessor.registerOnTouched(function(){return Ov(s)}),s._rawValidators.forEach(function(f){f.registerOnValidatorChange&&f.registerOnValidatorChange(null)}),s._rawAsyncValidators.forEach(function(f){f.registerOnValidatorChange&&f.registerOnValidatorChange(null)}),o&&o._clearChangeFns()}(i.control,i),r&&Ta(r,i),i.control=r)}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},t.prototype._updateValidators=function(){var e=so(this._validators);this.form.validator=jr.compose([this.form.validator,e]);var i=ao(this._asyncValidators);this.form.asyncValidator=jr.composeAsync([this.form.asyncValidator,i])},t.prototype._checkFormPresent=function(){this.form||ro.missingFormException()},t}(Xe),_p=function(n){function t(e,i,r){var o=n.call(this)||this;return o._parent=e,o._validators=i,o._asyncValidators=r,o}return k(t,n),t.prototype._checkParentType=function(){Fv(this._parent)&&ro.groupParentException()},t}(cu),jv=function(n){function t(e,i,r){var o=n.call(this)||this;return o._parent=e,o._validators=i,o._asyncValidators=r,o}return k(t,n),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return uu(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return so(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ao(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){Fv(this._parent)&&ro.arrayParentException()},t}(Xe);function Fv(n){return!(n instanceof _p||n instanceof Kn||n instanceof jv)}var Ye=function(n){function t(i,r,o,s,f){var _=n.call(this)||this;return _._ngModelWarningConfig=f,_._added=!1,_.update=new le,_._ngModelWarningSent=!1,_._parent=i,_._rawValidators=r||[],_._rawAsyncValidators=o||[],_.valueAccessor=gp(_,s),_}var e;return k(t,n),e=t,Object.defineProperty(t.prototype,"isDisabled",{set:function(i){ro.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(i){this._added||this._setUpControl(),fp(i,this.viewModel)&&(Av("formControlName",e,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(i){this.viewModel=i,this.update.emit(i)},Object.defineProperty(t.prototype,"path",{get:function(){return uu(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return so(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ao(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof _p)&&this._parent instanceof cu?ro.ngModelGroupException():this._parent instanceof _p||this._parent instanceof Kn||this._parent instanceof jv||ro.controlParentException()},t.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},t._ngModelWarningSentOnce=!1,t}(me),wr=function(){function n(){}return Object.defineProperty(n.prototype,"required",{get:function(){return this._required},set:function(t){this._required=t!=null&&t!==!1&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),n.prototype.validate=function(t){return this.required?jr.required(t):null},n.prototype.registerOnValidatorChange=function(t){this._onChange=t},n}(),wp=function(){function n(){}return n.prototype.group=function(t,e){e===void 0&&(e=null);var i=this._reduceControls(t),r=null,o=null,s=void 0;return e!=null&&(function(f){return f.asyncValidators!==void 0||f.validators!==void 0||f.updateOn!==void 0}(e)?(r=e.validators!=null?e.validators:null,o=e.asyncValidators!=null?e.asyncValidators:null,s=e.updateOn!=null?e.updateOn:void 0):(r=e.validator!=null?e.validator:null,o=e.asyncValidator!=null?e.asyncValidator:null)),new _r(i,{asyncValidators:o,updateOn:s,validators:r})},n.prototype.control=function(t,e,i){return new ti(t,e,i)},n.prototype.array=function(t,e,i){var r=this,o=t.map(function(s){return r._createControl(s)});return new yp(o,e,i)},n.prototype._reduceControls=function(t){var e=this,i={};return Object.keys(t).forEach(function(r){i[r]=e._createControl(t[r])}),i},n.prototype._createControl=function(t){return t instanceof ti||t instanceof _r||t instanceof yp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},n}(),xC=function(){return function(){}}(),Mv=function(){return function(){}}(),Lv=function(){function n(){}var t;return t=n,n.withConfig=function(e){return{ngModule:t,providers:[{provide:wC,useValue:e.warnOnDeprecatedNgFormSelector}]}},n}(),Nv=function(){function n(){}var t;return t=n,n.withConfig=function(e){return{ngModule:t,providers:[{provide:Dn,useValue:e.warnOnNgModelWithFormControl}]}},n}(),cr=function(n){function t(e){var i=n.call(this)||this;return i._value=e,i}return k(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var i=n.prototype._subscribe.call(this,e);return i&&!i.closed&&e.next(this._value),i},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new g;return this._value},t.prototype.next=function(e){n.prototype.next.call(this,this._value=e)},t}(x),xp=function(){function n(t,e,i,r){this.importTool=t,this.config=e,this.panelRef=i,this.canvas=r,this.newCanvasForm=new _r({width:new ti(800),height:new ti(600)}),this.newCanvasFormVisible$=new cr(!1),this.sampleImages=this.config.get("pixie.ui.openImageDialog.sampleImages")}return n.prototype.openUploadDialog=function(){var t=this;this.importTool.openUploadDialog({backgroundImage:!0}).then(function(){return t.close()})},n.prototype.openSampleImage=function(t){var e=this;this.importTool.openBackgroundImage(this.getImageUrl(t)).then(function(){return e.close()})},n.prototype.createNewCanvas=function(){var t=this,e=this.newCanvasForm.get("width").value,i=this.newCanvasForm.get("height").value;this.config.set("pixie.blankCanvasSize",{width:e,height:i}),this.canvas.openNew(e,i).then(function(){return t.close()})},n.prototype.close=function(){this.panelRef.close()},n.prototype.getImageUrl=function(t,e){e===void 0&&(e=!1);var i=t.thumbnail&&e?t.thumbnail:t.url;return i.indexOf("//")===-1?this.config.getAssetUrl(i):i},n}(),Cp=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.scheduler=e,r.work=i,r.pending=!1,r}return k(t,n),t.prototype.schedule=function(e,i){if(i===void 0&&(i=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this},t.prototype.requestAsyncId=function(e,i,r){return r===void 0&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,i,r){if(r===void 0&&(r=0),r!==null&&this.delay===r&&this.pending===!1)return i;clearInterval(i)},t.prototype.execute=function(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,i){var r=!1,o=void 0;try{this.work(e)}catch(s){r=!0,o=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,i=this.scheduler,r=i.actions,o=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&r.splice(o,1),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null},t}(function(n){function t(e,i){return n.call(this)||this}return k(t,n),t.prototype.schedule=function(e,i){return i===void 0&&(i=0),this},t}(et)),CC=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.scheduler=e,r.work=i,r}return k(t,n),t.prototype.schedule=function(e,i){return i===void 0&&(i=0),i>0?n.prototype.schedule.call(this,e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,i){return i>0||this.closed?n.prototype.execute.call(this,e,i):this._execute(e,i)},t.prototype.requestAsyncId=function(e,i,r){return r===void 0&&(r=0),r!==null&&r>0||r===null&&this.delay>0?n.prototype.requestAsyncId.call(this,e,i,r):e.flush(this)},t}(Cp),Bv=function(){function n(t,e){e===void 0&&(e=n.now),this.SchedulerAction=t,this.now=e}return n.prototype.schedule=function(t,e,i){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},n.now=function(){return Date.now()},n}(),Sp=function(n){function t(e,i){i===void 0&&(i=Bv.now);var r=n.call(this,e,function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return k(t,n),t.prototype.schedule=function(e,i,r){return i===void 0&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,i,r):n.prototype.schedule.call(this,e,i,r)},t.prototype.flush=function(e){var i=this.actions;if(this.active)i.push(e);else{var r;this.active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=i.shift());if(this.active=!1,r){for(;e=i.shift();)e.unsubscribe();throw r}}},t}(Bv),SC=new(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t}(Sp))(CC);function Aa(n,t){return new c(t?function(e){return t.schedule(kC,0,{error:n,subscriber:e})}:function(e){return e.error(n)})}function kC(n){n.subscriber.error(n.error)}var Pa=function(){function n(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue=t==="N"}return n.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},n.prototype.do=function(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}},n.prototype.accept=function(t,e,i){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,i)},n.prototype.toObservable=function(){switch(this.kind){case"N":return $n(this.value);case"E":return Aa(this.error);case"C":return _s()}throw new Error("unexpected notification kind value")},n.createNext=function(t){return t!==void 0?new n("N",t):n.undefinedValueNotification},n.createError=function(t){return new n("E",void 0,t)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}(),EC=function(n){function t(e,i,r){r===void 0&&(r=0);var o=n.call(this,e)||this;return o.scheduler=i,o.delay=r,o}return k(t,n),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new OC(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Pa.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Pa.createError(e))},t.prototype._complete=function(){this.scheduleMessage(Pa.createComplete())},t}(u),OC=function(){return function(n,t){this.notification=n,this.destination=t}}(),Vv=function(n){function t(e,i,r){e===void 0&&(e=Number.POSITIVE_INFINITY),i===void 0&&(i=Number.POSITIVE_INFINITY);var o=n.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return k(t,n),t.prototype.nextInfiniteTimeWindow=function(e){var i=this._events;i.push(e),i.length>this._bufferSize&&i.shift(),n.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this._events.push(new TC(this._getNow(),e)),this._trimBufferThenGetEvents(),n.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var i,r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,f=o.length;if(this.closed)throw new g;if(this.isStopped||this.hasError?i=et.EMPTY:(this.observers.push(e),i=new b(this,e)),s&&e.add(e=new EC(e,s)),r)for(var _=0;_<f&&!e.closed;_++)e.next(o[_]);else for(_=0;_<f&&!e.closed;_++)e.next(o[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i},t.prototype._getNow=function(){return(this.scheduler||SC).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),i=this._bufferSize,r=this._windowTime,o=this._events,s=o.length,f=0;f<s&&!(e-o[f].time<r);)f++;return s>i&&(f=Math.max(f,s-i)),f>0&&o.splice(0,f),o},t}(x),TC=function(){return function(n,t){this.time=n,this.value=t}}();function fu(n,t,e){return n===void 0&&(n=Number.POSITIVE_INFINITY),t===void 0&&(t=Number.MAX_VALUE),function(i){return i.lift(function(r,o,s){var f,_,S=0,T=!1,F=!1;return function(U){S++,f&&!T||(T=!1,f=new Vv(r,o,s),_=U.subscribe({next:function(ct){f.next(ct)},error:function(ct){T=!0,f.error(ct)},complete:function(){F=!0,f.complete()}}));var J=f.subscribe(this);return function(){S--,J.unsubscribe(),_&&S===0&&F&&_.unsubscribe()}}}(n,t,e))}}function zv(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}zv.prototype=Object.create(Error.prototype);var IC=zv;function Xn(n){return function(t){return n===0?_s():t.lift(new AC(n))}}var AC=function(){function n(t){if(this.total=t,this.total<0)throw new IC}return n.prototype.call=function(t,e){return e.subscribe(new PC(t,this.total))},n}(),PC=function(n){function t(e,i){var r=n.call(this,e)||this;return r.total=i,r.count=0,r}return k(t,n),t.prototype._next=function(e){var i=this.total,r=++this.count;r<=i&&(this.destination.next(e),r===i&&(this.destination.complete(),this.unsubscribe()))},t}(u),DC=function(){function n(t){this.project=t}return n.prototype.call=function(t,e){return e.subscribe(new RC(t,this.project))},n}(),RC=function(n){function t(e,i){var r=n.call(this,e)||this;return r.project=i,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return k(t,n),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var i,r=this.index++;try{i=this.project(e,r)}catch(o){return void this.destination.error(o)}this.hasSubscription=!0,this._innerSub(i,e,r)},t.prototype._innerSub=function(e,i,r){var o=new H(this,void 0,void 0);this.add(o),_t(this,e,i,r,o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,i,r,o,s){this.destination.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(Et),jC=function(){function n(t){this.defaultValue=t}return n.prototype.call=function(t,e){return e.subscribe(new FC(t,this.defaultValue))},n}(),FC=function(n){function t(e,i){var r=n.call(this,e)||this;return r.defaultValue=i,r.isEmpty=!0,r}return k(t,n),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(u);function co(n){return function(t){var e=new MC(n),i=t.lift(e);return e.caught=i}}var MC=function(){function n(t){this.selector=t}return n.prototype.call=function(t,e){return e.subscribe(new LC(t,this.selector,this.caught))},n}(),LC=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.selector=i,o.caught=r,o}return k(t,n),t.prototype.error=function(e){if(!this.isStopped){var i=void 0;try{i=this.selector(e,this.caught)}catch(o){return void n.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new H(this,void 0,void 0);this.add(r),_t(this,i,void 0,void 0,r)}},t}(Et);function Zn(n){return function(t){return t.lift(new NC(n))}}var NC=function(){function n(t){this.notifier=t}return n.prototype.call=function(t,e){var i=new BC(t),r=_t(i,this.notifier);return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i},n}(),BC=function(n){function t(e){var i=n.call(this,e)||this;return i.seenValue=!1,i}return k(t,n),t.prototype.notifyNext=function(e,i,r,o,s){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Et);function gu(n,t){return function(e){return e.lift(new VC(n,t))}}var VC=function(){function n(t,e){this.compare=t,this.keySelector=e}return n.prototype.call=function(t,e){return e.subscribe(new zC(t,this.compare,this.keySelector))},n}(),zC=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,typeof i=="function"&&(o.compare=i),o}return k(t,n),t.prototype.compare=function(e,i){return e===i},t.prototype._next=function(e){var i=e;if(this.keySelector&&(i=nt(this.keySelector)(e))===Y)return this.destination.error(Y.e);var r=!1;if(this.hasKey){if((r=nt(this.compare)(this.key,i))===Y)return this.destination.error(Y.e)}else this.hasKey=!0;!r&&(this.key=i,this.destination.next(e))},t}(u),Hv=new de("ROOT_STATE_TOKEN"),ni=(new de("FEATURE_STATE_TOKEN"),"NGXS_META"),kp="NGXS_SELECTOR_META",HC=new de("NGXS_PLUGINS"),Da=function(){return function(){this.compatibility={strictContentSecurityPolicy:!1}}}();function Uv(n){return n.hasOwnProperty(ni)||Object.defineProperty(n,ni,{value:{name:null,actions:{},defaults:{},path:null,selectFromAppState:null,children:[],instance:null}}),Ep(n)}function Ep(n){return n[ni]}function Wv(n){return n[kp]}function Op(n,t){return t&&t.compatibility&&t.compatibility.strictContentSecurityPolicy?function(e){var i=N(e);return function(r){return i.reduce(function(o,s){return o&&o[s]},r)}}(n):function(e){for(var i=e,r="store."+i[0],o=0,s=i.length,f=r;++o<s;)f=f+" && "+(r=r+"."+i[o]);return new Function("store","return "+f+";")}(n)}function Tp(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}var Ip=function(n,t,e){n=j({},n);var i=t.split("."),r=i.length-1;return i.reduce(function(o,s,f){return o[s]=f===r?e:Array.isArray(o[s])?N(o[s]):j({},o[s]),o&&o[s]},n),n},Xv=function(n,t){return t.split(".").reduce(function(e,i){return e&&e[i]},n)};function UC(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Yv(n,"DISPATCHED")}function Ra(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Yv(n,"SUCCESSFUL")}function Yv(n,t){var e=n.reduce(function(i,r){return i[Tp(r)]=!0,i},{});return function(i){return i.pipe(function(r,o){return Hn(function(s){var f=Tp(s.action),_=r[f];return o?_&&s.status===o:_})}(e,t),Ct(function(r){return r.action}))}}function mu(n){return function(t){return new c(function(e){return t.subscribe({next:function(i){n.run(function(){return e.next(i)})},error:function(i){n.run(function(){return e.error(i)})},complete:function(){n.run(function(){return e.complete()})}})})}}var ja=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t}(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._itemQueue=[],e._busyPushingNext=!1,e}return k(t,n),t.prototype.next=function(e){if(this._busyPushingNext)this._itemQueue.unshift(e);else{for(this._busyPushingNext=!0,n.prototype.next.call(this,e);this._itemQueue.length>0;){var i=this._itemQueue.pop();n.prototype.next.call(this,i)}this._busyPushingNext=!1}},t}(x)),hi=function(n){function t(e,i){return n.call(this,function(r){e.pipe(mu(i)).subscribe(function(o){return r.next(o)},function(o){return r.error(o)},function(){return r.complete()})})||this}return k(t,n),t}(c),Gv=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.shift().apply(void 0,N(t,[function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return Gv(n).apply(void 0,N(i))}]))}},Fa=function(n){function t(){return n.call(this,{})||this}return k(t,n),t}(cr),vu=function(){function n(t,e){this._parentManager=t,this._plugins=e,this.plugins=[],this.register()}return n.prototype.register=function(){var t;this._plugins&&(this.plugins=this._plugins.map(function(e){return e.handle?e.handle.bind(e):e}),this._parentManager&&(t=this._parentManager.plugins).push.apply(t,N(this.plugins)))},n}(),yu=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t}(x),Ap=function(){function n(t,e,i,r,o,s){this._errorHandler=t,this._actions=e,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngZone=s}return n.prototype.dispatch=function(t){var e=this,i=this._ngZone.runOutsideAngular(function(){return Array.isArray(t)?Ea(t.map(function(r){return e.dispatchSingle(r)})):e.dispatchSingle(t)});return i.subscribe({error:function(r){return e._ngZone.run(function(){return e._errorHandler.handleError(r)})}}),i.pipe(mu(this._ngZone))},n.prototype.dispatchSingle=function(t){var e=this,i=this._stateStream.getValue();return Gv(N(this._pluginManager.plugins,[function(r,o){r!==i&&e._stateStream.next(r);var s=e.getActionResultStream(o);return s.subscribe(function(f){return e._actions.next(f)}),e._actions.next({action:o,status:"DISPATCHED"}),e.createDispatchObservable(s)}]))(i,t).pipe(fu())},n.prototype.getActionResultStream=function(t){return this._actionResults.pipe(Hn(function(e){return e.action===t&&e.status!=="DISPATCHED"}),Xn(1),fu())},n.prototype.createDispatchObservable=function(t){var e=this;return t.pipe(function i(r,o){return o?function(s){return s.pipe(i(function(f,_){return Kt(r(f,_)).pipe(Ct(function(S,T){return o(f,S,_,T)}))}))}:function(s){return s.lift(new DC(r))}}(function(i){switch(i.status){case"SUCCESSFUL":return $n(e._stateStream.getValue());case"ERRORED":return Aa(i.error);default:return _s()}})).pipe(fu())},n}(),qv=function(n){Object.freeze(n);var t=typeof n=="function",e=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(n).forEach(function(i){!e.call(n,i)||t&&(i==="caller"||i==="callee"||i==="arguments")||n[i]===null||typeof n[i]!="object"&&typeof n[i]!="function"||Object.isFrozen(n[i])||qv(n[i])}),n},Ma=function(){function n(t,e,i){this._stateStream=t,this._dispatcher=e,this._config=i,this.verifyDevMode()}return n.prototype.getRootStateOperations=function(){var t=this,e={getState:function(){return t._stateStream.getValue()},setState:function(i){return t._stateStream.next(i)},dispatch:function(i){return t._dispatcher.dispatch(i)}};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(e):e},n.prototype.verifyDevMode=function(){var t=this._config.developmentMode,e=Hi(),i=e&&!t,r="NgxsModule.forRoot(states, { developmentMode: !environment.production })";!e&&t?console.warn(`Angular is running in production mode but NGXS is still running in the development mode!
`,`Please set developmentMode to false on the NgxsModule options when in production mode.
`,r):i&&console.warn(`RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.
`,r)},n.prototype.ensureStateAndActionsAreImmutable=function(t){return{getState:function(){return t.getState()},setState:function(e){var i=qv(e);return t.setState(i)},dispatch:function(e){return t.dispatch(e)}}},n}(),Pp=function(){function n(t){this._internalStateOperations=t}return n.prototype.createStateContext=function(t){var e=this._internalStateOperations.getRootStateOperations();return{getState:function(){var i=e.getState();return Xv(i,t.depth)},patchState:function(i){var r=typeof i!="object";if(Array.isArray(i))throw new Error("Patching arrays is not supported.");if(r)throw new Error("Patching primitives is not supported.");var o=e.getState(),s=Xv(o,t.depth),f=j({},s);for(var _ in i)f[_]=i[_];var S=Ip(o,t.depth,f);return e.setState(S),S},setState:function(i){var r=e.getState();return r=Ip(r,t.depth,i),e.setState(r),r},dispatch:function(i){return e.dispatch(i)}}},n}(),bu=function(){function n(t,e,i,r,o,s){this._injector=t,this._config=e,this._parentFactory=i,this._actions=r,this._actionResults=o,this._stateContextFactory=s,this._states=[],this._connected=!1}return Object.defineProperty(n.prototype,"states",{get:function(){return this._parentFactory?this._parentFactory.states:this._states},enumerable:!0,configurable:!0}),n.prototype.add=function(t){var e,i,r,o,s,f,_,S,T=function(Pt){var At=function(qt){var Zt=Pt.find(function(ie){return ie===qt});if(!Zt)throw new Error("Child state not found: "+qt);if(!Zt[ni])throw new Error("States must be decorated with @State() decorator");return Zt[ni].name};return Pt.reduce(function(qt,Zt){if(!Zt[ni])throw new Error("States must be decorated with @State() decorator");var ie=Zt[ni];return qt[ie.name]=(ie.children||[]).map(At),qt},{})}(o=Array.isArray(t)?t:[t]),F=(s=T,f=[],_={},S=function(Pt,At){At===void 0&&(At=[]),Array.isArray(At)||(At=[]),At.push(Pt),_[Pt]=!0,s[Pt].forEach(function(qt){if(At.indexOf(qt)>=0)throw new Error("Circular dependency '"+qt+"' is required by '"+Pt+"': "+At.join(" -> "));_[qt]||S(qt,At.slice(0))}),f.indexOf(Pt)<0&&f.push(Pt)},Object.keys(s).forEach(function(Pt){return S(Pt)}),f.reverse()),U=function(Pt,At){At===void 0&&(At={});var qt=function(ce,Yt){for(var Wt in ce)if(ce.hasOwnProperty(Wt)&&ce[Wt].indexOf(Yt)>=0){var Le=qt(ce,Wt);return Le!==null?Le+"."+Wt:Wt}return null};for(var Zt in Pt)if(Pt.hasOwnProperty(Zt)){var ie=qt(Pt,Zt);At[Zt]=ie?ie+"."+Zt:Zt}return At}(T),J=o.reduce(function(Pt,At){if(!At[ni])throw new Error("States must be decorated with @State() decorator");return Pt[At[ni].name]=At,Pt},{}),ct=[],st=function(Pt){var At=J[Pt];if(!At[ni])throw new Error("States must be decorated with @State() decorator");var qt,Zt=U[Pt],ie=At[ni].actions,ce=At[ni].defaults;if(At[ni].path=Zt,At[ni].selectFromAppState=Op(Zt.split("."),xt._config),!xt.states.find(function(Wt){return Wt.name===Pt})){Array.isArray(ce)?ce=N(ce):typeof(qt=ce)=="object"&&qt!==null||typeof qt=="function"?ce=j({},ce):ce===void 0&&(ce={});var Yt=xt._injector.get(At);ct.push({actions:ie,instance:Yt,defaults:ce,name:Pt,depth:Zt})}},xt=this;try{for(var yt=X(F),Dt=yt.next();!Dt.done;Dt=yt.next())st(Dt.value)}catch(Pt){e={error:Pt}}finally{try{Dt&&!Dt.done&&(i=yt.return)&&i.call(yt)}finally{if(e)throw e.error}}return(r=this.states).push.apply(r,N(ct)),ct},n.prototype.addAndReturnDefaults=function(t){if(t){var e=this.add(t);return{defaults:e.reduce(function(i,r){return Ip(i,r.depth,r.defaults)},{}),states:e}}},n.prototype.connectActionHandlers=function(){var t=this;this._connected||(this._actions.pipe(Hn(function(e){return e.status==="DISPATCHED"}),It(function(e){var i,r=e.action;return t.invokeActions(t._actions,r).pipe(Ct(function(){return{action:r,status:"SUCCESSFUL"}}),((i={action:r,status:"CANCELED"})===void 0&&(i=null),function(o){return o.lift(new jC(i))}),co(function(o){return $n({action:r,status:"ERRORED",error:o})}))})).subscribe(function(e){return t._actionResults.next(e)}),this._connected=!0)},n.prototype.invokeInit=function(t){var e,i;try{for(var r=X(t),o=r.next();!o.done;o=r.next()){var s=o.value,f=s.instance;if(f.ngxsOnInit){var _=this.createStateContext(s);f.ngxsOnInit(_)}}}catch(S){e={error:S}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},n.prototype.invokeActions=function(t,e){var i,r,o,s,f=[];try{for(var _=X(this.states),S=_.next();!S.done;S=_.next()){var T=S.value,F=Tp(e),U=T.actions[F];if(U)try{for(var J=X(U),ct=J.next();!ct.done;ct=J.next()){var st=ct.value,xt=this.createStateContext(T);try{var yt=T.instance[st.fn](xt,e);yt instanceof Promise&&(yt=Kt(yt)),yt=yt instanceof c?yt.pipe(st.options.cancelUncompleted?Zn(t.pipe(UC(e))):Ct(function(Dt){return Dt})):$n({}).pipe(fu()),f.push(yt)}catch(Dt){f.push(Aa(Dt))}}}catch(Dt){o={error:Dt}}finally{try{ct&&!ct.done&&(s=J.return)&&s.call(J)}finally{if(o)throw o.error}}}}catch(Dt){i={error:Dt}}finally{try{S&&!S.done&&(r=_.return)&&r.call(_)}finally{if(i)throw i.error}}return f.length||f.push($n({})),Ea(f)},n.prototype.createStateContext=function(t){return this._stateContextFactory.createStateContext(t)},n}();function WC(n,t){return n===t}function Kv(n,t){t===void 0&&(t=WC);var e=null,i=null;return function(){return function(r,o,s){if(o===null||s===null||o.length!==s.length)return!1;for(var f=o.length,_=0;_<f;_++)if(!r(o[_],s[_]))return!1;return!0}(t,e,arguments)||(i=n.apply(null,arguments)),e=arguments,i}}function Zv(n,t,e){var i,r=Kv(function(){for(var f=[],_=0;_<arguments.length;_++)f[_]=arguments[_];var S=t.apply(void 0,N(f));return S instanceof Function?Kv.apply(null,[S]):S}),o=e&&e.containerClass,s=((i=r).hasOwnProperty(kp)||Object.defineProperty(i,kp,{value:{selectFromAppState:null,originalFn:null,containerClass:null,selectorName:null}}),Wv(i));return s.originalFn=t,s.selectFromAppState=function(f){var _=[],S=[];o&&Ep(o)&&S.push(o),n&&S.push.apply(S,N(n)),S&&_.push.apply(_,N(S.map(function(T){return Dp(T)(f)})));try{return r.apply(void 0,N(_))}catch(T){if(T instanceof TypeError)return;throw T}},e&&(s.containerClass=e.containerClass,s.selectorName=e.selectorName),r}function Dp(n){var t=Wv(n)||Ep(n);return t&&t.selectFromAppState||n}var Ge=function(){function n(t,e,i){this._ngZone=t,this._stateStream=e,this._internalStateOperations=i}return n.prototype.dispatch=function(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)},n.prototype.select=function(t){var e=Dp(t);return this._stateStream.pipe(Ct(e),co(function(i){if(i instanceof TypeError)return $n(void 0);throw i}),gu(),mu(this._ngZone))},n.prototype.selectOnce=function(t){return this.select(t).pipe(Xn(1))},n.prototype.selectSnapshot=function(t){return Dp(t)(this._stateStream.getValue())},n.prototype.subscribe=function(t){return this._stateStream.pipe(mu(this._ngZone)).subscribe(t)},n.prototype.snapshot=function(){return this._internalStateOperations.getRootStateOperations().getState()},n.prototype.reset=function(t){return this._internalStateOperations.getRootStateOperations().setState(t)},n}(),La=function(){function n(t,e){n.store=t,n.config=e}return n.store=void 0,n.config=void 0,n}();function _n(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(i,r){var o="__"+r+"__selector";if(n||(n=r.lastIndexOf("$")===r.length-1?r.substring(0,r.length-1):r),i[o])throw new Error("You cannot use @Select decorator and a "+o+" property.");delete i[r]&&(Object.defineProperty(i,o,{writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(i,r,{get:function(){return this[o]||(this[o]=(function(f){var _=La.store;if(!_)throw new Error("SelectFactory not connected to store!");return _.select(f)}).apply(this,[(s=La.config,typeof n=="string"?Op(t.length?N([n],t):n.split("."),s):n[ni]&&n[ni].path?Op(n[ni].path.split("."),s):n)]));var s},enumerable:!0,configurable:!0}))}}var XC=function(){function n(){}return Object.defineProperty(n,"type",{get:function(){return"@@INIT"},enumerable:!0,configurable:!0}),n}(),Jv=function(){return function(n,t,e,i,r){var o=n.addAndReturnDefaults(r),s=t.getRootStateOperations();if(o){var f=s.getState();s.setState(j({},f,o.defaults))}n.connectActionHandlers(),s.dispatch(new XC).subscribe(function(){o&&n.invokeInit(o.states)})}}();function YC(n){return Object.assign(new Da,n)}var Qv=new de("ROOT_OPTIONS");function wn(n,t){return function(e,i,r){var o,s,f=Uv(e.constructor);Array.isArray(n)||(n=[n]);try{for(var _=X(n),S=_.next();!S.done;S=_.next()){var T=S.value,F=T.type;if(!T.type)throw new Error("Action "+T.name+' is missing a static "type" property');f.actions[F]||(f.actions[F]=[]),f.actions[F].push({fn:i,options:t||{},type:F})}}catch(U){o={error:U}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}var GC=new RegExp("^[a-zA-Z0-9_]+$"),qC=function(n){return n+" is not a valid state name. It needs to be a valid object property name."};function Di(n){return function(t){var e=Uv(t);if(Object.getPrototypeOf(t).hasOwnProperty(ni)){var i=Object.getPrototypeOf(t)[ni];e.actions=j({},e.actions,i.actions)}if(e.children=n.children,e.defaults=n.defaults,e.name=n.name,!n.name)throw new Error("States must register a 'name' property");if(!GC.test(n.name))throw new Error(qC(n.name))}}function hn(n){return function(t,e,i){if(i.value!==null){var r=Zv(n,i.value,{containerClass:t,selectorName:e});return{configurable:!0,get:function(){return r}}}throw new Error("Selectors only work on methods")}}var Na,Rp=function(){function n(t){this.panel=t}return n.type="[Editor.Objects] Open Object Settings Panel",n}(),$v=function(){function n(){}return n.type="[Editor.Objects] Mark as Dirty",n}(),KC=function(){function n(){}return n.build=function(t){return t.group({fill:[],backgroundColor:[],stroke:[],strokeWidth:[],opacity:[],shadow:t.group({color:[],blur:[],offsetX:[],offsetY:[]}),textAlign:[],underline:[],linethrough:[],fontStyle:[],fontFamily:[],fontWeight:[]})},n}(),ty=function(){return(ty=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},En=function(){function n(t,e,i){this.fb=t,this.config=e,this.canvasState=i,this.propsChanged$=new x,this.form=KC.build(this.fb)}return n.prototype.init=function(){var t=this;this.syncForm(),this.form.valueChanges.subscribe(function(e){t.setValues(e)})},n.prototype.isEditing=function(){var t=this.get();return t&&t.isEditing},n.prototype.setValues=function(t){var e=this.get();e&&(e.name===oi.sticker.name&&t.fill!==e.fill&&e.forEachObject&&e.forEachObject(function(i){return i.set("fill",t.fill)}),this.propsChanged$.next(),e.set(Gh(t)),this.canvasState.fabric.requestRenderAll())},n.prototype.getValue=function(t){return this.get().get(t)},n.prototype.get=function(){var t=this.canvasState.fabric&&this.canvasState.fabric.getActiveObject();return t&&t.name?t.name.indexOf("crop.")>-1||t.name.indexOf("round.")>-1?null:t:null},n.prototype.set=function(t,e){var i=this.get();i&&(i.set(t,e),this.canvasState.fabric.requestRenderAll())},n.prototype.move=function(t,e){var i=this.get();i&&(i.set(t,i[t]+e),this.canvasState.fabric.requestRenderAll())},n.prototype.bringToFront=function(){var t=this.get();t&&(t.bringToFront(),this.canvasState.fabric.requestRenderAll())},n.prototype.sendToBack=function(){var t=this.get();t&&(t.sendToBack(),this.canvasState.fabric.requestRenderAll())},n.prototype.flipHorizontal=function(){var t=this.get();t&&(t.flipX=!t.flipX,this.canvasState.fabric.requestRenderAll())},n.prototype.duplicate=function(){var t=this,e=this.get();e&&(this.deselect(),e.clone(function(i){i.set({left:e.left+10,top:e.top+10,data:ty({},e.data,{id:Uh(10)}),name:e.name}),t.canvasState.fabric.add(i),t.select(i),t.canvasState.fabric.requestRenderAll()}))},n.prototype.getId=function(){var t=this.get();return t&&t.data?t.data.id:null},n.prototype.delete=function(){var t=this.get();t&&(this.canvasState.fabric.remove(t),this.canvasState.fabric.requestRenderAll())},n.prototype.deselect=function(){this.canvasState.fabric.discardActiveObject(),this.canvasState.fabric.requestRenderAll()},n.prototype.select=function(t){this.canvasState.fabric.setActiveObject(t)},n.prototype.syncForm=function(){this.get()?this.form.patchValue(function(t){if(!t)return{};var e=t.shadow,i={fill:t.fill,opacity:t.opacity,backgroundColor:t.backgroundColor,stroke:t.stroke,strokeWidth:t.strokeWidth};if(e&&(i.shadow={color:e.color||xa.shadow.color,blur:e.blur||xa.shadow.blur,offsetX:e.offsetX||xa.shadow.offsetX,offsetY:e.offsetY||xa.shadow.offsetY}),t.type==="i-text"){var r=t;i.textAlign=r.textAlign,i.underline=r.underline,i.linethrough=r.linethrough,i.fontStyle=r.fontStyle,i.fontFamily=r.fontFamily,i.fontWeight=r.fontWeight}return i}(this.get()),{emitEvent:!1}):this.form.patchValue(this.config.get("pixie.objectDefaults"))},n}(),ey=function(){function n(){}return n.type="[History] Changed",n}(),jp=function(){function n(t){this.id=t}return n.type="[History] Update Pointer By History Item ID",n}(),Fp=function(){function n(t){this.item=t}return n.type="[History] Add Item",n}(),Mp=function(){function n(t){this.item=t}return n.type="[History] Replace Current Item",n}(),ny=function(){function n(){}return n.type="[History] Reset",n}(),pi=function(){function n(){}var t;return t=n,n.canUndo=function(e){return e.pointer-1>-1},n.canRedo=function(e){return e.items.length>e.pointer+1},n.items=function(e){return e.items},n.activeItemId=function(e){return e.items[e.pointer].id},n.item=function(e){return Zv([t],function(i){var r=i.pointer;switch(e){case"previous":r=i.pointer-1;break;case"next":r=i.pointer+1;break;default:r=i.pointer}return i.items[r]})},n.prototype.addItem=function(e,i){var r=i.item,o=e.getState().items.concat([r]);e.patchState({items:o,pointer:o.length-1})},n.prototype.replaceCurrentItem=function(e,i){var r=e.getState().items.slice();r[e.getState().pointer]=i.item,e.patchState({items:r})},n.prototype.updatePointerById=function(e,i){var r=i.id,o=e.getState().items.findIndex(function(s){return s.id===r});e.patchState({pointer:o})},n.prototype.resetHistory=function(e){e.patchState({items:[],pointer:0})},A([wn(Fp),E("design:type",Function),E("design:paramtypes",[Object,Fp]),E("design:returntype",void 0)],n.prototype,"addItem",null),A([wn(Mp),E("design:type",Function),E("design:paramtypes",[Object,Mp]),E("design:returntype",void 0)],n.prototype,"replaceCurrentItem",null),A([wn(jp),E("design:type",Function),E("design:paramtypes",[Object,jp]),E("design:returntype",void 0)],n.prototype,"updatePointerById",null),A([wn(ny),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n.prototype,"resetHistory",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"canUndo",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"canRedo",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"items",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"activeItemId",null),t=A([Di({name:"history",defaults:{items:[],pointer:0}})],n)}(),si=function(){function n(){}return n.FILTER={name:"Applied: filter",icon:"filter-custom"},n.RESIZE={name:"Applied: resize",icon:"resize-custom"},n.CROP={name:"Applied: crop",icon:"crop-custom"},n.TRANSFORM={name:"Applied: transform",icon:"transform-custom"},n.DRAW={name:"Added: drawing",icon:"draw-custom"},n.TEXT={name:"Added: text",icon:"text-box-custom"},n.SHAPES={name:"Added: shape",icon:"polygon-custom"},n.STICKERS={name:"Added: sticker",icon:"sticker-custom"},n.FRAME={name:"Added: frame",icon:"frame-custom"},n.MERGE={name:"Objects: merged",icon:"merge-custom"},n.CORNERS={name:"Applied: rounded corners",icon:"rounder-corners-custom"},n.BACKGROUND={name:"Changed: background",icon:"background-custom"},n.BG_IMAGE={name:"Changed: background Image",icon:"photo-library"},n.OVERLAY_IMAGE={name:"Added: overlay Image",icon:"photo-library"},n.INITIAL={name:"Initial",icon:"home"},n.LOADED_STATE={name:"Loaded: state",icon:"history"},n.OBJECT_STYLE={name:"Changed: style",icon:"color-custom"},n}(),Fn=function(){function n(t,e,i,r,o,s,f,_){var S=this;this.canvas=t,this.activeObject=e,this.objects=i,this.frameTool=r,this.googleFonts=o,this.textTool=s,this.store=f,this.actions$=_,this.actions$.pipe(Ra(Ql),Xn(1)).subscribe(function(){S.addInitial()})}return n.prototype.undo=function(){if(this.store.selectSnapshot(pi.canUndo))return this.load(this.store.selectSnapshot(pi.item("previous")))},n.prototype.redo=function(){if(this.store.selectSnapshot(pi.canRedo))return this.load(this.store.selectSnapshot(pi.item("next")))},n.prototype.reload=function(){return this.load(this.store.selectSnapshot(pi.item("current")))},n.prototype.replaceCurrent=function(){var t=this.store.selectSnapshot(pi.item("current"));this.store.dispatch(new Mp(this.createHistoryItem(t.name,t.icon)))},n.prototype.add=function(t,e){this.store.dispatch(new Fp(this.createHistoryItem(t.name,t.icon,e)))},n.prototype.addFromJson=function(t){var e=!this.store.selectSnapshot(pi.items).length;return this.add(e?si.INITIAL:si.LOADED_STATE,typeof t=="string"?JSON.parse(t):t),this.reload()},n.prototype.getCurrentCanvasState=function(){return{canvas:this.canvas.fabric().toJSON(Object.keys(jo).concat(["crossOrigin","name","data"])),editor:{frame:this.frameTool.getActive(),fonts:this.textTool.getUsedFonts()},canvasWidth:this.canvas.state.original.width,canvasHeight:this.canvas.state.original.height}},n.prototype.clear=function(){this.store.dispatch(new ny)},n.prototype.addInitial=function(){!this.store.selectSnapshot(pi.items).length&&this.add(si.INITIAL)},n.prototype.load=function(t){var e=this;return new Promise(function(i){e.store.dispatch(new jp(t.id)),e.googleFonts.loadIntoDom(t.editor.fonts).then(function(){e.canvas.fabric().loadFromJSON(t.canvas,function(){e.canvas.zoom.set(1),t.canvasWidth&&t.canvasHeight&&e.canvas.resize(t.canvasWidth,t.canvasHeight),t.editor.frame?e.frameTool.add(t.editor.frame.name):e.frameTool.remove(),e.canvas.render(),e.canvas.fabric().calcOffset(),e.canvas.state.loading=!1,e.canvas.zoom.fitToScreen(),e.objects.syncObjects(),e.store.dispatch(new ey),i()},function(r){r.hasOwnProperty("applyFilters")&&r.applyFilters()})})})},n.prototype.createHistoryItem=function(t,e,i){return e===void 0&&(e=null),i||(i=this.getCurrentCanvasState()),Object.assign(i,{name:t,id:Uh(15),icon:e,zoom:this.canvas.zoom.get(),activeObjectId:this.activeObject.getId()})},n}(),tr=function(){function n(){}return n.prototype.ngxsOnInit=function(t){var e=this;this.actions$.pipe(Ra(Jl),Hn(function(i){return i.panel===e.toolName})).subscribe(function(i){e.applyChanges(t,i)}),this.actions$.pipe(Ra(Wh),Hn(function(i){return i.panel===e.toolName})).subscribe(function(i){e.cancelChanges(t,i)})},n}(),Ba=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.store=e,s.history=i,s.activeObject=r,s.actions$=o,s.toolName=Be.OBJECT_SETTINGS,s}return k(t,n),t.dirty=function(e){return e.dirty},t.activePanel=function(e){return e.activePanel},t.prototype.openObjectSettingsPanel=function(e,i){e.patchState({activePanel:i.panel})},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.cancelChanges=function(e){e.getState().activePanel?e.patchState({activePanel:null}):(this.store.dispatch(new zn),this.activeObject.deselect()),e.getState().dirty&&this.history.reload(),e.patchState({dirty:!1})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.OBJECT_STYLE),e.patchState({dirty:!1,activePanel:null}),this.activeObject.deselect()},A([wn(Rp),E("design:type",Function),E("design:paramtypes",[Object,Rp]),E("design:returntype",void 0)],t.prototype,"openObjectSettingsPanel",null),A([wn($v),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"activePanel",null),A([Di({name:Be.OBJECT_SETTINGS,defaults:{dirty:!1,activePanel:null}})],t)}(tr),_u=function(){function n(t){this.filter=t}return n.type="[Editor.Filter] Toggle Filter",n}(),wu=function(){function n(t){this.filter=t}return n.type="[Editor.Filter] Remove Filter",n}(),Lp=function(){function n(t){this.filter=t}return n.type="[Editor.Filter] Open Filter Controls",n}(),Np=function(){function n(t){this.filters=t}return n.type="[Editor.Filter] Set Applied Filters",n}(),Mr=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.history=i,o.actions$=r,o.toolName=Be.FILTER,o}return k(t,n),t.activeFilters=function(e){return e.activeFilters},t.selectedFilter=function(e){return e.selectedFilter},t.dirty=function(e){return e.dirty},t.prototype.toggleFilter=function(e,i){e.patchState({dirty:!0,activeFilters:e.getState().activeFilters.concat([i.filter])})},t.prototype.removeFilter=function(e,i){var r=e.getState().activeFilters.filter(function(o){return o!==i.filter});e.patchState({dirty:!0,activeFilters:r})},t.prototype.openFilterControls=function(e,i){e.patchState({selectedFilter:i.filter})},t.prototype.setAppliedFilters=function(e,i){e.patchState({activeFilters:i.filters})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.FILTER),e.patchState({dirty:!1,selectedFilter:null})},t.prototype.cancelChanges=function(e){e.getState().selectedFilter||this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState({dirty:!1,selectedFilter:null})},A([wn(_u),E("design:type",Function),E("design:paramtypes",[Object,_u]),E("design:returntype",void 0)],t.prototype,"toggleFilter",null),A([wn(wu),E("design:type",Function),E("design:paramtypes",[Object,wu]),E("design:returntype",void 0)],t.prototype,"removeFilter",null),A([wn(Lp),E("design:type",Function),E("design:paramtypes",[Object,Lp]),E("design:returntype",void 0)],t.prototype,"openFilterControls",null),A([wn(Np),E("design:type",Function),E("design:paramtypes",[Object,Np]),E("design:returntype",void 0)],t.prototype,"setAppliedFilters",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"activeFilters",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"selectedFilter",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"filter",defaults:{dirty:!1,activeFilters:[],selectedFilter:null}})],t)}(tr),ZC=typeof Intl<"u"&&Intl.v8BreakIterator,he=function(){function n(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===Mm:typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return n.ngInjectableDef=Ce({factory:function(){return new n(re(ua,8))},token:n,providedIn:"root"}),n}(),iy=function(){return function(){}}();function Ss(n){return function(){if(Na==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Na=!0}}))}finally{Na=Na||!1}return Na}()?n:!!n.capture}var ry={},JC=function(){function n(t){this.resultSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new QC(t,this.resultSelector))},n}(),QC=function(n){function t(e,i){var r=n.call(this,e)||this;return r.resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return k(t,n),t.prototype._next=function(e){this.values.push(ry),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,i=e.length;if(i===0)this.destination.complete();else{this.active=i,this.toRespond=i;for(var r=0;r<i;r++){var o=e[r];this.add(_t(this,o,o,r))}}},t.prototype.notifyComplete=function(e){(this.active-=1)==0&&this.destination.complete()},t.prototype.notifyNext=function(e,i,r,o,s){var f=this.values,_=this.toRespond?f[r]===ry?--this.toRespond:this.toRespond:0;f[r]=i,_===0&&(this.resultSelector?this._tryResultSelector(f):this.destination.next(f.slice()))},t.prototype._tryResultSelector=function(e){var i;try{i=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(i)},t}(Et),$C=1,Bp={},t2=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.scheduler=e,r.work=i,r}return k(t,n),t.prototype.requestAsyncId=function(e,i,r){return r===void 0&&(r=0),r!==null&&r>0?n.prototype.requestAsyncId.call(this,e,i,r):(e.actions.push(this),e.scheduled||(e.scheduled=(o=e.flush.bind(e,null),s=$C++,Bp[s]=o,Promise.resolve().then(function(){return function(f){var _=Bp[f];_&&_()}(s)}),s)));var o,s},t.prototype.recycleAsyncId=function(e,i,r){if(r===void 0&&(r=0),r!==null&&r>0||r===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,e,i,r);e.actions.length===0&&(delete Bp[i],e.scheduled=void 0)},t}(Cp),Vp=new(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var i,r=this.actions,o=-1,s=r.length;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<s&&(e=r.shift()));if(this.active=!1,i){for(;++o<s&&(e=r.shift());)e.unsubscribe();throw i}},t}(Sp))(t2),xu=new Sp(Cp);function No(n,t){return t===void 0&&(t=xu),function(e){return e.lift(new e2(n,t))}}var e2=function(){function n(t,e){this.dueTime=t,this.scheduler=e}return n.prototype.call=function(t,e){return e.subscribe(new n2(t,this.dueTime,this.scheduler))},n}(),n2=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return k(t,n),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i2,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;e!==null&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(u);function i2(n){n.debouncedNext()}function ho(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){var i=n[n.length-1];L(i)?n.pop():i=null;var r=n.length;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return o.length===1||o.length===2&&L(o[1])?Kt(o[0]):ut(1)($n.apply(void 0,o))}(r!==1||i?r>0?Ht(n,i):_s(i):Sm(n[0]),e)}}function rn(n){return n!=null&&""+n!="false"}function xr(n,t){return t===void 0&&(t=0),function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(n)?Number(n):t}function Va(n){return Array.isArray(n)?n:[n]}function ai(n){return n==null?"":typeof n=="string"?n:n+"px"}function za(n){return n instanceof lt?n.nativeElement:n}var Ha,oy=new Set,r2=function(){function n(t){this.platform=t,this._matchMedia=this.platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):o2}return n.prototype.matchMedia=function(t){return this.platform.WEBKIT&&function(e){if(!oy.has(e))try{Ha||((Ha=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Ha)),Ha.sheet&&(Ha.sheet.insertRule("@media "+e+" {.fx-query-test{ }}",0),oy.add(e))}catch(i){console.error(i)}}(t),this._matchMedia(t)},n.ngInjectableDef=Ce({factory:function(){return new n(re(he))},token:n,providedIn:"root"}),n}();function o2(n){return{matches:n==="all"||n==="",media:n,addListener:function(){},removeListener:function(){}}}var zp=function(){function n(t,e){this.mediaMatcher=t,this.zone=e,this._queries=new Map,this._destroySubject=new x}return n.prototype.ngOnDestroy=function(){this._destroySubject.next(),this._destroySubject.complete()},n.prototype.isMatched=function(t){var e=this;return sy(Va(t)).some(function(i){return e._registerQuery(i).mql.matches})},n.prototype.observe=function(t){var e=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=null,s=null;return L(i[i.length-1])&&(s=i.pop()),typeof i[i.length-1]=="function"&&(o=i.pop()),i.length===1&&G(i[0])&&(i=i[0]),Ht(i,s).lift(new JC(o))}(sy(Va(t)).map(function(i){return e._registerQuery(i).observable})).pipe(No(0,Vp),Ct(function(i){var r={matches:!1,breakpoints:{}};return i.forEach(function(o){r.matches=r.matches||o.matches,r.breakpoints[o.query]=o.matches}),r}))},n.prototype._registerQuery=function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var i,r=this.mediaMatcher.matchMedia(t),o={observable:function s(f,_,S){return S?s(f,_).pipe(Ct(function(T){return G(T)?S.apply(void 0,T):S(T)})):new c(function(T){var F,U=function(){for(var J=[],ct=0;ct<arguments.length;ct++)J[ct]=arguments[ct];return T.next(J.length===1?J[0]:J)};try{F=f(U)}catch(J){return void T.error(J)}if(Q(_))return function(){return _(U,F)}})}(function(s){r.addListener(i=function(f){return e.zone.run(function(){return s(f)})})},function(){return r.removeListener(i)}).pipe(ho(r),Ct(function(s){return{query:t,matches:s.matches}}),Zn(this._destroySubject)),mql:r};return this._queries.set(t,o),o},n.ngInjectableDef=Ce({factory:function(){return new n(re(r2),re(xe))},token:n,providedIn:"root"}),n}();function sy(n){return n.map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()})}var Cu={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},Wi=function(){function n(t){var e=this;this.breakpointObserver=t,this.isMobile$=new cr(!1),this.isTablet$=new cr(!1),this.breakpointObserver.observe(Cu.Handset).subscribe(function(i){e.isMobile$.next(i.matches)}),this.breakpointObserver.observe(Cu.Tablet).subscribe(function(i){e.isTablet$.next(i.matches)})}return n.prototype.observe=function(t){return this.breakpointObserver.observe(t)},n.ngInjectableDef=Ce({factory:function(){return new n(re(zp))},token:n,providedIn:"root"}),n}(),Ua=function(){function n(t){this.canvas=t}return n.prototype.apply=function(t,e,i){i===void 0&&(i=!1);var r,o,s=Math.ceil(this.canvas.state.original.width),f=Math.ceil(this.canvas.state.original.height),_=Math.ceil(t),S=Math.ceil(e);i?(r=t/100,o=e/100):(r=t/this.canvas.state.original.width,o=e/this.canvas.state.original.height),s===_&&f===S||this.resize(r,o)},n.prototype.resize=function(t,e){this.canvas.zoom.set(1,!1);var i=Math.round(this.canvas.state.original.height*e),r=Math.round(this.canvas.state.original.width*t);this.canvas.fabric().setHeight(i),this.canvas.fabric().setWidth(r),this.canvas.state.original.width=r,this.canvas.state.original.height=i,this.canvas.fabric().getObjects().forEach(function(o){var s=o.scaleY*e,f=o.left*t,_=o.top*e;o.scaleX=o.scaleX*t,o.scaleY=s,o.left=f,o.top=_,o.setCoords()}),this.canvas.zoom.fitToScreen(),this.canvas.render()},n}(),ay=function(){return function(n){for(var t in n===void 0&&(n={}),n)this[t]=n[t]}}(),te=function(){function n(t){this.settings=t,this.localizationChange=new le,this.localization={model:new ay,lines:{}}}return n.prototype.t=function(t,e){if(!t)return"";if(!this.translationsEnabled())return this.replacePlaceholders(t,e);var i=this.localization.lines[t.toLowerCase().trim()]||t;return this.replacePlaceholders(i,e)},n.prototype.replacePlaceholders=function(t,e){return e&&Object.keys(e).forEach(function(i){t=t.replace(":"+i,e[i])}),t},n.prototype.getActive=function(){return this.localization},n.prototype.setLocalization=function(t){t&&t.lines&&t.model&&this.localization.model.name!==t.model.name&&(t.lines=this.objectKeysToLowerCase(t.lines),this.localization=t,this.localizationChange.emit())},n.prototype.objectKeysToLowerCase=function(t){var e={};return Object.keys(t).forEach(function(i){e[i.toLowerCase()]=t[i]}),e},n.prototype.translationsEnabled=function(){return this.settings.get("i18n.enable")},n.ngInjectableDef=Ce({factory:function(){return new n(re(Bt))},token:n,providedIn:"root"}),n}(),ly=function(){return function(){}}(),s2=function(){return function(){}}(),Lr="*";function uy(n,t){return t===void 0&&(t=null),{type:2,steps:n,options:t}}function cy(n){return{type:6,styles:n,offset:null}}function hy(n){Promise.resolve(null).then(n)}var ks=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return n.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},n.prototype.onStart=function(t){this._onStartFns.push(t)},n.prototype.onDone=function(t){this._onDoneFns.push(t)},n.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},n.prototype.hasStarted=function(){return this._started},n.prototype.init=function(){},n.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},n.prototype.triggerMicrotask=function(){var t=this;hy(function(){return t._onFinish()})},n.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},n.prototype.pause=function(){},n.prototype.restart=function(){},n.prototype.finish=function(){this._onFinish()},n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},n.prototype.reset=function(){},n.prototype.setPosition=function(t){},n.prototype.getPosition=function(){return 0},n.prototype.triggerCallback=function(t){var e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(function(i){return i()}),e.length=0},n}(),py=function(){function n(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,o=0,s=this.players.length;s==0?hy(function(){return e._onFinish()}):this.players.forEach(function(f){f.onDone(function(){++i==s&&e._onFinish()}),f.onDestroy(function(){++r==s&&e._onDestroy()}),f.onStart(function(){++o==s&&e._onStart()})}),this.totalTime=this.players.reduce(function(f,_){return Math.max(f,_.totalTime)},0)}return n.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},n.prototype.init=function(){this.players.forEach(function(t){return t.init()})},n.prototype.onStart=function(t){this._onStartFns.push(t)},n.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},n.prototype.onDone=function(t){this._onDoneFns.push(t)},n.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},n.prototype.hasStarted=function(){return this._started},n.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},n.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},n.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},n.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},n.prototype.destroy=function(){this._onDestroy()},n.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},n.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},n.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(i){var r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})},n.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var i=e.getPosition();t=Math.min(i,t)}),t},n.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},n.prototype.triggerCallback=function(t){var e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(function(i){return i()}),e.length=0},n}(),Hp="!";function dy(){throw Error("Host already has a portal attached")}var fy=function(){function n(){}return n.prototype.attach=function(t){return t==null&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&dy(),this._attachedHost=t,t.attach(this)},n.prototype.detach=function(){var t=this._attachedHost;t==null?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())},Object.defineProperty(n.prototype,"isAttached",{get:function(){return this._attachedHost!=null},enumerable:!0,configurable:!0}),n.prototype.setAttachedHost=function(t){this._attachedHost=t},n}(),Bo=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.component=e,s.viewContainerRef=i,s.injector=r,s.componentFactoryResolver=o,s}return k(t,n),t}(fy),Wa=function(n){function t(e,i,r){var o=n.call(this)||this;return o.templateRef=e,o.viewContainerRef=i,o.context=r,o}return k(t,n),Object.defineProperty(t.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(e,i){return i===void 0&&(i=this.context),this.context=i,n.prototype.attach.call(this,e)},t.prototype.detach=function(){return this.context=void 0,n.prototype.detach.call(this)},t}(fy),Su=function(){function n(){this._isDisposed=!1}return n.prototype.hasAttached=function(){return!!this._attachedPortal},n.prototype.attach=function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&dy(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Bo?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Wa?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},n.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},n.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},n.prototype.setDisposeFn=function(t){this._disposeFn=t},n.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},n}(),a2=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.outletElement=e,s._componentFactoryResolver=i,s._appRef=r,s._defaultInjector=o,s}return k(t,n),t.prototype.attachComponentPortal=function(e){var i,r=this,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(i=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return i.destroy()})):(i=o.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(function(){r._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i},t.prototype.attachTemplatePortal=function(e){var i=this,r=e.viewContainerRef,o=r.createEmbeddedView(e.templateRef,e.context);return o.detectChanges(),o.rootNodes.forEach(function(s){return i.outletElement.appendChild(s)}),this.setDisposeFn(function(){var s=r.indexOf(o);s!==-1&&r.remove(s)}),o},t.prototype.dispose=function(){n.prototype.dispose.call(this),this.outletElement.parentNode!=null&&this.outletElement.parentNode.removeChild(this.outletElement)},t.prototype._getComponentRootNode=function(e){return e.hostView.rootNodes[0]},t}(Su),gy=function(n){function t(e,i){var r=n.call(this)||this;return r._componentFactoryResolver=e,r._viewContainerRef=i,r._isInitialized=!1,r.attached=new le,r}return k(t,n),Object.defineProperty(t.prototype,"portal",{get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&n.prototype.detach.call(this),e&&n.prototype.attach.call(this,e),this._attachedPortal=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0},t.prototype.ngOnDestroy=function(){n.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},t.prototype.attachComponentPortal=function(e){e.setAttachedHost(this);var i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(r,i.length,e.injector||i.injector);return n.prototype.setDisposeFn.call(this,function(){return o.destroy()}),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o},t.prototype.attachTemplatePortal=function(e){var i=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return n.prototype.setDisposeFn.call(this,function(){return i._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r},t}(Su),my=function(){return function(){}}(),Xa=function(){function n(t,e){this._parentInjector=t,this._customTokens=e}return n.prototype.get=function(t,e){var i=this._customTokens.get(t);return i!==void 0?i:this._parentInjector.get(t,e)},n}();function Es(n,t,e,i){return Q(e)&&(i=e,e=void 0),i?Es(n,t,e).pipe(Ct(function(r){return G(r)?i.apply(void 0,r):i(r)})):new c(function(r){(function o(s,f,_,S,T){var F;if(function(yt){return yt&&typeof yt.addEventListener=="function"&&typeof yt.removeEventListener=="function"}(s)){var U=s;s.addEventListener(f,_,T),F=function(){return U.removeEventListener(f,_,T)}}else if(function(yt){return yt&&typeof yt.on=="function"&&typeof yt.off=="function"}(s)){var J=s;s.on(f,_),F=function(){return J.off(f,_)}}else if(function(yt){return yt&&typeof yt.addListener=="function"&&typeof yt.removeListener=="function"}(s)){var ct=s;s.addListener(f,_),F=function(){return ct.removeListener(f,_)}}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(var st=0,xt=s.length;st<xt;st++)o(s[st],f,_,S,T)}S.add(F)})(n,t,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,e)})}var l2=function(){function n(t){this.durationSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new u2(t,this.durationSelector))},n}(),u2=function(n){function t(e,i){var r=n.call(this,e)||this;return r.durationSelector=i,r.hasValue=!1,r}return k(t,n),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var i=nt(this.durationSelector)(e);if(i===Y)this.destination.error(Y.e);else{var r=_t(this,i);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this.value,i=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),i&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,i,r,o){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(Et);function vy(n){return!G(n)&&n-parseFloat(n)+1>=0}function c2(n){var t=n.index,e=n.period,i=n.subscriber;if(i.next(t),!i.closed){if(e===-1)return i.complete();n.index=t+1,this.schedule(n,e)}}function yy(n,t){return t===void 0&&(t=xu),e=function(){return function(i,r,o){i===void 0&&(i=0);var s=-1;return vy(r)?s=Number(r)<1?1:Number(r):L(r)&&(o=r),L(o)||(o=xu),new c(function(f){var _=vy(i)?i:+i-o.now();return o.schedule(c2,_,{index:0,period:s,subscriber:f})})}(n,t)},function(i){return i.lift(new l2(e))};var e}function ku(n,t){return typeof t=="function"?function(e){return e.pipe(ku(function(i,r){return Kt(n(i,r)).pipe(Ct(function(o,s){return t(i,o,r,s)}))}))}:function(e){return e.lift(new h2(n))}}var h2=function(){function n(t){this.project=t}return n.prototype.call=function(t,e){return e.subscribe(new p2(t,this.project))},n}(),p2=function(n){function t(e,i){var r=n.call(this,e)||this;return r.project=i,r.index=0,r}return k(t,n),t.prototype._next=function(e){var i,r=this.index++;try{i=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(i,e,r)},t.prototype._innerSub=function(e,i,r){var o=this.innerSubscription;o&&o.unsubscribe();var s=new H(this,void 0,void 0);this.add(s),this.innerSubscription=_t(this,e,i,r,s)},t.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&n.prototype._complete.call(this)},t.prototype.notifyNext=function(e,i,r,o,s){this.destination.next(i)},t}(Et),by=function(){function n(t,e,i){t===void 0&&(t=!1),i===void 0&&(i=!0);var r=this;this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,this.onChange=this.changed,e&&e.length&&(t?e.forEach(function(o){return r._markSelected(o)}):this._markSelected(e[0]),this._selectedToEmit.length=0)}return Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected},enumerable:!0,configurable:!0}),n.prototype.select=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._verifyValueAssignment(e),e.forEach(function(r){return t._markSelected(r)}),this._emitChangeEvent()},n.prototype.deselect=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._verifyValueAssignment(e),e.forEach(function(r){return t._unmarkSelected(r)}),this._emitChangeEvent()},n.prototype.toggle=function(t){this.isSelected(t)?this.deselect(t):this.select(t)},n.prototype.clear=function(){this._unmarkAll(),this._emitChangeEvent()},n.prototype.isSelected=function(t){return this._selection.has(t)},n.prototype.isEmpty=function(){return this._selection.size===0},n.prototype.hasValue=function(){return!this.isEmpty()},n.prototype.sort=function(t){this._multiple&&this.selected&&this._selected.sort(t)},n.prototype.isMultipleSelection=function(){return this._multiple},n.prototype._emitChangeEvent=function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])},n.prototype._markSelected=function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))},n.prototype._unmarkSelected=function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))},n.prototype._unmarkAll=function(){var t=this;this.isEmpty()||this._selection.forEach(function(e){return t._unmarkSelected(e)})},n.prototype._verifyValueAssignment=function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")},n}(),Up=function(){function n(){this._listeners=[]}return n.prototype.notify=function(t,e){for(var i=0,r=this._listeners;i<r.length;i++)(0,r[i])(t,e)},n.prototype.listen=function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter(function(i){return t!==i})}},n.prototype.ngOnDestroy=function(){this._listeners=[]},n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}(),ki=function(){function n(t,e){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return n.prototype.register=function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))},n.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},n.prototype.scrolled=function(t){var e=this;return t===void 0&&(t=20),this._platform.isBrowser?c.create(function(i){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(yy(t)).subscribe(i):e._scrolled.subscribe(i);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):$n()},n.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,i){return t.deregister(i)}),this._scrolled.complete()},n.prototype.ancestorScrolled=function(t,e){var i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Hn(function(r){return!r||i.indexOf(r)>-1}))},n.prototype.getAncestorScrollContainers=function(t){var e=this,i=[];return this.scrollContainers.forEach(function(r,o){e._scrollableContainsElement(o,t)&&i.push(o)}),i},n.prototype._scrollableContainsElement=function(t,e){var i=e.nativeElement,r=t.getElementRef().nativeElement;do if(i==r)return!0;while(i=i.parentElement);return!1},n.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Es(window.document,"scroll").subscribe(function(){return t._scrolled.next()})})},n.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},n.ngInjectableDef=Ce({factory:function(){return new n(re(xe),re(he))},token:n,providedIn:"root"}),n}(),_y=function(){return function(){}}(),Eu=function(){function n(t,e){var i=this;this._platform=t,e.runOutsideAngular(function(){i._change=t.isBrowser?ht(Es(window,"resize"),Es(window,"orientationchange")):$n(),i._invalidateCache=i.change().subscribe(function(){return i._updateViewportSize()})})}return n.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},n.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},n.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),i=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}},n.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},n.prototype.change=function(t){return t===void 0&&(t=20),t>0?this._change.pipe(yy(t)):this._change},n.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},n.ngInjectableDef=Ce({factory:function(){return new n(re(he),re(xe))},token:n,providedIn:"root"}),n}(),Ya=27;function Ga(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.length?t.some(function(i){return n[i]}):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var d2=function(){function n(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return n.prototype.attach=function(){},n.prototype.enable=function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ai(-this._previousScrollPosition.left),t.style.top=ai(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},n.prototype.disable=function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,i=this._document.body.style,r=e.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,i.scrollBehavior=o}},n.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width},n}();function wy(){return Error("Scroll strategy has already been attached.")}var f2=function(){function n(t,e,i,r){var o=this;this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return n.prototype.attach=function(t){if(this._overlayRef)throw wy();this._overlayRef=t},n.prototype.enable=function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var i=t._viewportRuler.getViewportScrollPosition().top;Math.abs(i-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}},n.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},n}(),xy=function(){function n(){}return n.prototype.enable=function(){},n.prototype.disable=function(){},n.prototype.attach=function(){},n}();function Wp(n,t){return t.some(function(e){return n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right})}function Cy(n,t){return t.some(function(e){return n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right})}var g2=function(){function n(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}return n.prototype.attach=function(t){if(this._overlayRef)throw wy();this._overlayRef=t},n.prototype.enable=function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),i=t._viewportRuler.getViewportSize(),r=i.width,o=i.height;Wp(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))},n.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},n}(),m2=function(){function n(t,e,i,r){var o=this;this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this.noop=function(){return new xy},this.close=function(s){return new f2(o._scrollDispatcher,o._ngZone,o._viewportRuler,s)},this.block=function(){return new d2(o._viewportRuler,o._document)},this.reposition=function(s){return new g2(o._scrollDispatcher,o._viewportRuler,o._ngZone,s)},this._document=r}return n.ngInjectableDef=Ce({factory:function(){return new n(re(ki),re(Eu),re(xe),re(jn))},token:n,providedIn:"root"}),n}(),qa=function(){return function(n){var t=this;this.scrollStrategy=new xy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n&&Object.keys(n).forEach(function(e){n[e]!==void 0&&(t[e]=n[e])})}}(),v2=function(){return function(n,t,e,i,r){this.offsetX=e,this.offsetY=i,this.panelClass=r,this.originX=n.originX,this.originY=n.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}(),y2=function(){return function(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}();function Sy(n,t){if(t!=="top"&&t!=="bottom"&&t!=="center")throw Error("ConnectedPosition: Invalid "+n+' "'+t+'". Expected "top", "bottom" or "center".')}function ky(n,t){if(t!=="start"&&t!=="end"&&t!=="center")throw Error("ConnectedPosition: Invalid "+n+' "'+t+'". Expected "start", "end" or "center".')}var b2=function(){function n(t){var e=this;this._attachedOverlays=[],this._keydownListener=function(i){for(var r=e._attachedOverlays,o=r.length-1;o>-1;o--)if(r[o]._keydownEventSubscriptions>0){r[o]._keydownEvents.next(i);break}},this._document=t}return n.prototype.ngOnDestroy=function(){this._detach()},n.prototype.add=function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)},n.prototype.remove=function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),this._attachedOverlays.length===0&&this._detach()},n.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},n.ngInjectableDef=Ce({factory:function(){return new n(re(jn))},token:n,providedIn:"root"}),n}(),Ka=function(){function n(t){this._document=t}return n.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},n.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},n.prototype._createContainer=function(){var t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t},n.ngInjectableDef=Ce({factory:function(){return new n(re(jn))},token:n,providedIn:"root"}),n}(),_2=function(){function n(t,e,i,r,o,s,f,_){var S=this;this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=f,this._location=_,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=et.EMPTY,this._keydownEventsObservable=c.create(function(T){var F=S._keydownEvents.subscribe(T);return S._keydownEventSubscriptions++,function(){F.unsubscribe(),S._keydownEventSubscriptions--}}),this._keydownEvents=new x,this._keydownEventSubscriptions=0,r.scrollStrategy&&r.scrollStrategy.attach(this),this._positionStrategy=r.positionStrategy}return Object.defineProperty(n.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),n.prototype.attach=function(t){var e=this,i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Xn(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),i},n.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}},n.prototype.dispose=function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()},n.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},n.prototype.backdropClick=function(){return this._backdropClick.asObservable()},n.prototype.attachments=function(){return this._attachments.asObservable()},n.prototype.detachments=function(){return this._detachments.asObservable()},n.prototype.keydownEvents=function(){return this._keydownEventsObservable},n.prototype.getConfig=function(){return this._config},n.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},n.prototype.updatePositionStrategy=function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))},n.prototype.updateSize=function(t){this._config=j({},this._config,t),this._updateElementSize()},n.prototype.setDirection=function(t){this._config=j({},this._config,{direction:t}),this._updateElementDirection()},n.prototype.getDirection=function(){var t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"},n.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},n.prototype._updateElementSize=function(){var t=this._pane.style;t.width=ai(this._config.width),t.height=ai(this._config.height),t.minWidth=ai(this._config.minWidth),t.minHeight=ai(this._config.minHeight),t.maxWidth=ai(this._config.maxWidth),t.maxHeight=ai(this._config.maxHeight)},n.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},n.prototype._attachBackdrop=function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(e){return t._backdropClick.next(e)}),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},n.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},n.prototype.detachBackdrop=function(){var t=this,e=this._backdropElement;if(e){var i,r=function(){e&&e.parentNode&&e.parentNode.removeChild(e),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(i)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}},n.prototype._toggleClasses=function(t,e,i){var r=t.classList;Va(e).forEach(function(o){i?r.add(o):r.remove(o)})},n.prototype._detachContentWhenStable=function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.asObservable().pipe(Zn(ht(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&t._pane.children.length!==0||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})},n}(),Ey=function(){function n(t,e,i,r,o){var s=this;this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=et.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=c.create(function(f){var _=s._positionChanges.subscribe(f);return s._positionChangeSubscriptions++,function(){_.unsubscribe(),s._positionChangeSubscriptions--}}),this.setOrigin(t)}return Object.defineProperty(n.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),n.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})},n.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var t,e=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],s=0,f=this._preferredPositions;s<f.length;s++){var _=f[s],S=this._getOriginPoint(e,_),T=this._getOverlayPoint(S,i,_),F=this._getOverlayFit(T,i,r,_);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(_,S);this._canFitWithFlexibleDimensions(F,T,r)?o.push({position:_,origin:S,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(S,_)}):(!t||t.overlayFit.visibleArea<F.visibleArea)&&(t={overlayFit:F,overlayPoint:T,originPoint:S,position:_,overlayRect:i})}if(o.length){for(var U=null,J=-1,ct=0,st=o;ct<st.length;ct++){var xt=st[ct],yt=xt.boundingBoxRect.width*xt.boundingBoxRect.height*(xt.position.weight||1);yt>J&&(J=yt,U=xt)}return this._isPushed=!1,void this._applyPosition(U.position,U.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}},n.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},n.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&Vo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},n.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}},n.prototype.withScrollableContainers=function(t){this.scrollables=t},n.prototype.withPositions=function(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this},n.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},n.prototype.withFlexibleDimensions=function(t){return t===void 0&&(t=!0),this._hasFlexibleDimensions=t,this},n.prototype.withGrowAfterOpen=function(t){return t===void 0&&(t=!0),this._growAfterOpen=t,this},n.prototype.withPush=function(t){return t===void 0&&(t=!0),this._canPush=t,this},n.prototype.withLockedPosition=function(t){return t===void 0&&(t=!0),this._positionLocked=t,this},n.prototype.setOrigin=function(t){return this._origin=za(t),this},n.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},n.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},n.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},n.prototype._getOriginPoint=function(t,e){var i;if(e.originX=="center")i=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;i=e.originX=="start"?r:o}return{x:i,y:e.originY=="center"?t.top+t.height/2:e.originY=="top"?t.top:t.bottom}},n.prototype._getOverlayPoint=function(t,e,i){var r;return r=i.overlayX=="center"?-e.width/2:i.overlayX==="start"?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i.overlayY=="center"?-e.height/2:i.overlayY=="top"?0:-e.height)}},n.prototype._getOverlayFit=function(t,e,i,r){var o=t.x,s=t.y,f=this._getOffset(r,"x"),_=this._getOffset(r,"y");f&&(o+=f),_&&(s+=_);var S=0-s,T=s+e.height-i.height,F=this._subtractOverflows(e.width,0-o,o+e.width-i.width),U=this._subtractOverflows(e.height,S,T),J=F*U;return{visibleArea:J,isCompletelyWithinViewport:e.width*e.height===J,fitsInViewportVertically:U===e.height,fitsInViewportHorizontally:F==e.width}},n.prototype._canFitWithFlexibleDimensions=function(t,e,i){if(this._hasFlexibleDimensions){var r=i.bottom-e.y,o=i.right-e.x,s=this._overlayRef.getConfig().minHeight,f=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||s!=null&&s<=r)&&(t.fitsInViewportHorizontally||f!=null&&f<=o)}},n.prototype._pushOverlayOnScreen=function(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,o,s=this._viewportRect,f=Math.max(t.x+e.width-s.right,0),_=Math.max(t.y+e.height-s.bottom,0),S=Math.max(s.top-i.top-t.y,0),T=Math.max(s.left-i.left-t.x,0);return this._previousPushAmount={x:r=e.width<s.width?T||-f:t.x<this._viewportMargin?s.left-i.left-t.x:0,y:o=e.height<s.height?S||-_:t.y<this._viewportMargin?s.top-i.top-t.y:0},{x:t.x+r,y:t.y+o}},n.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChangeSubscriptions>0){var i=this._getScrollVisibility(),r=new y2(t,i);this._positionChanges.next(r)}this._isInitialRender=!1},n.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,i=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e=t.overlayX==="center"?"center":this._isRtl()?t.overlayX==="start"?"right":"left":t.overlayX==="start"?"left":"right";for(var o=0;o<i.length;o++)i[o].style.transformOrigin=e+" "+r}},n.prototype._calculateBoundingBoxRect=function(t,e){var i,r,o,s,f,_,S=this._viewportRect,T=this._isRtl();if(e.overlayY==="top")r=t.y,i=S.bottom-t.y;else if(e.overlayY==="bottom")i=S.height-(o=S.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var F=Math.min(S.bottom-t.y+S.top,t.y),U=this._lastBoundingBoxSize.height;r=t.y-F,(i=2*F)>U&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-U/2)}if(e.overlayX==="end"&&!T||e.overlayX==="start"&&T)_=S.right-t.x+this._viewportMargin,s=t.x-S.left;else if(e.overlayX==="start"&&!T||e.overlayX==="end"&&T)f=t.x,s=S.right-t.x;else{F=Math.min(S.right-t.x+S.left,t.x);var J=this._lastBoundingBoxSize.width;f=t.x-F,(s=2*F)>J&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-J/2)}return{top:r,left:f,bottom:o,right:_,width:s,height:i}},n.prototype._setBoundingBoxStyles=function(t,e){var i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{var o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ai(i.height),r.top=ai(i.top),r.bottom=ai(i.bottom),r.width=ai(i.width),r.left=ai(i.left),r.right=ai(i.right),r.alignItems=e.overlayX==="center"?"center":e.overlayX==="end"?"flex-end":"flex-start",r.justifyContent=e.overlayY==="center"?"center":e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ai(o)),s&&(r.maxWidth=ai(s))}this._lastBoundingBoxSize=i,Vo(this._boundingBox.style,r)},n.prototype._resetBoundingBoxStyles=function(){Vo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},n.prototype._resetOverlayElementStyles=function(){Vo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})},n.prototype._setOverlayElementStyles=function(t,e){var i={};if(this._hasExactPosition()){var r=this._viewportRuler.getViewportScrollPosition();Vo(i,this._getExactOverlayY(e,t,r)),Vo(i,this._getExactOverlayX(e,t,r))}else i.position="static";var o="",s=this._getOffset(e,"x"),f=this._getOffset(e,"y");s&&(o+="translateX("+s+"px) "),f&&(o+="translateY("+f+"px)"),i.transform=o.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(i.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(i.maxWidth=""),Vo(this._pane.style,i)},n.prototype._getExactOverlayY=function(t,e,i){var r={top:null,bottom:null},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));var s=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return o.y-=s,t.overlayY==="bottom"?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ai(o.y),r},n.prototype._getExactOverlayX=function(t,e,i){var r={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),(this._isRtl()?t.overlayX==="end"?"left":"right":t.overlayX==="end"?"right":"left")=="right"?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ai(o.x),r},n.prototype._getScrollVisibility=function(){var t=this._origin.getBoundingClientRect(),e=this._pane.getBoundingClientRect(),i=this.scrollables.map(function(r){return r.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Cy(t,i),isOriginOutsideView:Wp(t,i),isOverlayClipped:Cy(e,i),isOverlayOutsideView:Wp(e,i)}},n.prototype._subtractOverflows=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(r,o){return r-Math.max(o,0)},t)},n.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},n.prototype._isRtl=function(){return this._overlayRef.getDirection()==="rtl"},n.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},n.prototype._getOffset=function(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY},n.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(t){ky("originX",t.originX),Sy("originY",t.originY),ky("overlayX",t.overlayX),Sy("overlayY",t.overlayY)})},n.prototype._addPanelClasses=function(t){var e=this;this._pane&&Va(t).forEach(function(i){e._appliedPanelClasses.indexOf(i)===-1&&(e._appliedPanelClasses.push(i),e._pane.classList.add(i))})},n.prototype._clearPanelClasses=function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){return t._pane.classList.remove(e)}),this._appliedPanelClasses=[])},n}();function Vo(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}var w2=function(){function n(t,e,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Ey(i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}return Object.defineProperty(n.prototype,"_isRtl",{get:function(){return this._overlayRef.getDirection()==="rtl"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),n.prototype.attach=function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)},n.prototype.dispose=function(){this._positionStrategy.dispose()},n.prototype.detach=function(){this._positionStrategy.detach()},n.prototype.apply=function(){this._positionStrategy.apply()},n.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},n.prototype.withScrollableContainers=function(t){this._positionStrategy.withScrollableContainers(t)},n.prototype.withFallbackPosition=function(t,e,i,r){var o=new v2(t,e,i,r);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this},n.prototype.withDirection=function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this},n.prototype.withOffsetX=function(t){return this._positionStrategy.withDefaultOffsetX(t),this},n.prototype.withOffsetY=function(t){return this._positionStrategy.withDefaultOffsetY(t),this},n.prototype.withLockedPosition=function(t){return this._positionStrategy.withLockedPosition(t),this},n.prototype.withPositions=function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},n.prototype.setOrigin=function(t){return this._positionStrategy.setOrigin(t),this},n}(),x2=function(){function n(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return n.prototype.attach=function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},n.prototype.top=function(t){return t===void 0&&(t=""),this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this},n.prototype.left=function(t){return t===void 0&&(t=""),this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this},n.prototype.bottom=function(t){return t===void 0&&(t=""),this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this},n.prototype.right=function(t){return t===void 0&&(t=""),this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this},n.prototype.width=function(t){return t===void 0&&(t=""),this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this},n.prototype.height=function(t){return t===void 0&&(t=""),this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this},n.prototype.centerHorizontally=function(t){return t===void 0&&(t=""),this.left(t),this._justifyContent="center",this},n.prototype.centerVertically=function(t){return t===void 0&&(t=""),this.top(t),this._alignItems="center",this},n.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft=i.width==="100%"?"0":this._leftOffset,t.marginTop=i.height==="100%"?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,i.width==="100%"?e.justifyContent="flex-start":this._justifyContent==="center"?e.justifyContent="center":this._overlayRef.getConfig().direction==="rtl"?this._justifyContent==="flex-start"?e.justifyContent="flex-end":this._justifyContent==="flex-end"&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=i.height==="100%"?"flex-start":this._alignItems}},n.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},n}(),C2=function(){function n(t,e,i,r){this._viewportRuler=t,this._document=e,this._platform=i,this._overlayContainer=r}return n.prototype.global=function(){return new x2},n.prototype.connectedTo=function(t,e,i){return new w2(e,i,t,this._viewportRuler,this._document)},n.prototype.flexibleConnectedTo=function(t){return new Ey(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},n.ngInjectableDef=Ce({factory:function(){return new n(re(Eu),re(jn),re(he,8),re(Ka,8))},token:n,providedIn:"root"}),n}(),S2=0,On=function(){function n(t,e,i,r,o,s,f,_,S,T){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=s,this._ngZone=f,this._document=_,this._directionality=S,this._location=T}return n.prototype.create=function(t){var e=this._createHostElement(),i=this._createPaneElement(e),r=this._createPortalOutlet(i),o=new qa(t);return o.direction=o.direction||this._directionality.value,new _2(r,e,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location)},n.prototype.position=function(){return this._positionBuilder},n.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+S2++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e},n.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},n.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(Jr)),new a2(t,this._componentFactoryResolver,this._appRef,this._injector)},n}(),k2=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Oy=new de("cdk-connected-overlay-scroll-strategy"),E2=function(){return function(n){this.elementRef=n}}(),O2=function(){function n(t,e,i,r,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=et.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new le,this.positionChange=new le,this.attach=new le,this.detach=new le,this.overlayKeydown=new le,this._templatePortal=new Wa(e,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return Object.defineProperty(n.prototype,"offsetX",{get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetY",{get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lockPosition",{get:function(){return this._lockPosition},set:function(t){this._lockPosition=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"flexibleDimensions",{get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"growAfterOpen",{get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"push",{get:function(){return this._push},set:function(t){this._push=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlayRef",{get:function(){return this._overlayRef},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dir",{get:function(){return this._dir?this._dir.value:"ltr"},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()},n.prototype.ngOnChanges=function(t){this._position&&(this._updatePositionStrategy(this._position),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())},n.prototype._createOverlay=function(){var t=this;this.positions&&this.positions.length||(this.positions=k2),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(function(e){t.overlayKeydown.next(e),e.keyCode===Ya&&t._detachOverlay()})},n.prototype._buildConfig=function(){var t=this._position=this._createPositionStrategy(),e=new qa({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||this.width===0)&&(e.width=this.width),(this.height||this.height===0)&&(e.height=this.height),(this.minWidth||this.minWidth===0)&&(e.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e},n.prototype._updatePositionStrategy=function(t){var e=this,i=this.positions.map(function(r){return{originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||e.offsetX,offsetY:r.offsetY||e.offsetY}});return t.setOrigin(this.origin.elementRef).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)},n.prototype._createPositionStrategy=function(){var t=this,e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e.positionChanges.subscribe(function(i){return t.positionChange.emit(i)}),e},n.prototype._attachOverlay=function(){var t=this;this._overlayRef?(this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop):this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(e){t.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe()},n.prototype._detachOverlay=function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()},n}();function T2(n){return function(){return n.scrollStrategies.reposition()}}var Ty=function(){return function(){}}();function Xp(n,t,e){return function(i){return i.lift(new I2(n,t,e))}}var I2=function(){function n(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}return n.prototype.call=function(t,e){return e.subscribe(new A2(t,this.nextOrObserver,this.error,this.complete))},n}(),A2=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s._tapNext=a,s._tapError=a,s._tapComplete=a,s._tapError=r||a,s._tapComplete=o||a,Q(i)?(s._context=s,s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||a,s._tapError=i.error||a,s._tapComplete=i.complete||a),s}return k(t,n),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(i){return void this.destination.error(i)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(i){return void this.destination.error(i)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(u);function Ou(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}var P2=0,Nr=new Map,bi=null,Ri=function(){function n(t){this._document=t}return n.prototype.describe=function(t,e){this._canBeDescribed(t,e)&&(Nr.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))},n.prototype.removeDescription=function(t,e){if(this._canBeDescribed(t,e)){this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e);var i=Nr.get(e);i&&i.referenceCount===0&&this._deleteMessageElement(e),bi&&bi.childNodes.length===0&&this._deleteMessagesContainer()}},n.prototype.ngOnDestroy=function(){for(var t=(this._document.querySelector("ui-editor")||this._document.querySelector("ue-root")).shadowRoot.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");bi&&this._deleteMessagesContainer(),Nr.clear()},n.prototype._createMessageElement=function(t){var e=this._document.createElement("div");e.setAttribute("id","cdk-describedby-message-"+P2++),e.appendChild(this._document.createTextNode(t)),this._createMessagesContainer(),bi.appendChild(e),Nr.set(t,{messageElement:e,referenceCount:0})},n.prototype._deleteMessageElement=function(t){var e=Nr.get(t),i=e&&e.messageElement;bi&&i&&bi.removeChild(i),Nr.delete(t)},n.prototype._createMessagesContainer=function(){if(!bi){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(bi=this._document.createElement("div")).id="cdk-describedby-message-container",bi.setAttribute("aria-hidden","true"),bi.style.display="none",this._document.body.appendChild(bi)}},n.prototype._deleteMessagesContainer=function(){bi&&bi.parentNode&&(bi.parentNode.removeChild(bi),bi=null)},n.prototype._removeCdkDescribedByReferenceIds=function(t){var e=Ou(t,"aria-describedby").filter(function(i){return i.indexOf("cdk-describedby-message")!=0});t.setAttribute("aria-describedby",e.join(" "))},n.prototype._addMessageReference=function(t,e){var i,r,o,s=Nr.get(e);r=s.messageElement.id,(o=Ou(i=t,"aria-describedby")).some(function(f){return f.trim()==r.trim()})||(o.push(r.trim()),i.setAttribute("aria-describedby",o.join(" "))),t.setAttribute("cdk-describedby-host",""),s.referenceCount++},n.prototype._removeMessageReference=function(t,e){var i,r,o,s=Nr.get(e);s.referenceCount--,r=s.messageElement.id,o=Ou(i=t,"aria-describedby").filter(function(f){return f!=r.trim()}),i.setAttribute("aria-describedby",o.join(" ")),t.removeAttribute("cdk-describedby-host")},n.prototype._isElementDescribedByMessage=function(t,e){var i=Ou(t,"aria-describedby"),r=Nr.get(e),o=r&&r.messageElement.id;return!!o&&i.indexOf(o)!=-1},n.prototype._canBeDescribed=function(t,e){return t.nodeType===this._document.ELEMENT_NODE&&e!=null&&!!(""+e).trim()},n.ngInjectableDef=Ce({factory:function(){return new n(re(jn))},token:n,providedIn:"root"}),n}(),Iy=function(){function n(t){var e=this;this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=et.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(i){return i.disabled},this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof fh&&t.changes.subscribe(function(i){if(e._activeItem){var r=i.toArray().indexOf(e._activeItem);r>-1&&r!==e._activeItemIndex&&(e._activeItemIndex=r)}})}return n.prototype.skipPredicate=function(t){return this._skipPredicateFn=t,this},n.prototype.withWrap=function(t){return t===void 0&&(t=!0),this._wrap=t,this},n.prototype.withVerticalOrientation=function(t){return t===void 0&&(t=!0),this._vertical=t,this},n.prototype.withHorizontalOrientation=function(t){return this._horizontal=t,this},n.prototype.withAllowedModifierKeys=function(t){return this._allowedModifierKeys=t,this},n.prototype.withTypeAhead=function(t){var e=this;if(t===void 0&&(t=200),this._items.length&&this._items.some(function(i){return typeof i.getLabel!="function"}))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Xp(function(i){return e._pressedLetters.push(i)}),No(t),Hn(function(){return e._pressedLetters.length>0}),Ct(function(){return e._pressedLetters.join("")})).subscribe(function(i){for(var r=e._getItemsArray(),o=1;o<r.length+1;o++){var s=(e._activeItemIndex+o)%r.length,f=r[s];if(!e._skipPredicateFn(f)&&f.getLabel().toUpperCase().trim().indexOf(i)===0){e.setActiveItem(s);break}}e._pressedLetters=[]}),this},n.prototype.setActiveItem=function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)},n.prototype.onKeydown=function(t){var e=this,i=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(function(o){return!t[o]||e._allowedModifierKeys.indexOf(o)>-1});switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||Ga(t,"shiftKey"))&&(t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],t.preventDefault()},Object.defineProperty(n.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),n.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},n.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},n.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},n.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},n.prototype.updateActiveItem=function(t){var e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem=r??null,this._activeItemIndex=i},n.prototype.updateActiveItemIndex=function(t){this.updateActiveItem(t)},n.prototype._setActiveItemByDelta=function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)},n.prototype._setActiveInWrapMode=function(t){for(var e=this._getItemsArray(),i=1;i<=e.length;i++){var r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}},n.prototype._setActiveInDefaultMode=function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)},n.prototype._setActiveItemByIndex=function(t,e){var i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}},n.prototype._getItemsArray=function(){return this._items instanceof fh?this._items.toArray():this._items},n}(),D2=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.setActiveItem=function(e){this.activeItem&&this.activeItem.setInactiveStyles(),n.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.setActiveStyles()},t}(Iy),R2=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._origin="program",e}return k(t,n),t.prototype.setFocusOrigin=function(e){return this._origin=e,this},t.prototype.setActiveItem=function(e){n.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.focus(this._origin)},t}(Iy),j2=function(){function n(t){this._platform=t}return n.prototype.isDisabled=function(t){return t.hasAttribute("disabled")},n.prototype.isVisible=function(t){return function(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}(t)&&getComputedStyle(t).visibility==="visible"},n.prototype.isTabbable=function(t){if(!this._platform.isBrowser)return!1;var e,i=function(f){try{return f.frameElement}catch{return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(i){var r=i&&i.nodeName.toLowerCase();if(Py(i)===-1||(this._platform.BLINK||this._platform.WEBKIT)&&r==="object"||(this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(i))return!1}var o=t.nodeName.toLowerCase(),s=Py(t);if(t.hasAttribute("contenteditable"))return s!==-1;if(o==="iframe")return!1;if(o==="audio"){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if(o==="video"){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return(o!=="object"||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(f){var _=f.nodeName.toLowerCase(),S=_==="input"&&f.type;return S==="text"||S==="password"||_==="select"||_==="textarea"}(t))&&t.tabIndex>=0},n.prototype.isFocusable=function(t){return function(e){return!function(i){return function(r){return r.nodeName.toLowerCase()=="input"}(i)&&i.type=="hidden"}(e)&&(function(i){var r=i.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}(e)||function(i){return function(r){return r.nodeName.toLowerCase()=="a"}(i)&&i.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Ay(e))}(t)&&!this.isDisabled(t)&&this.isVisible(t)},n.ngInjectableDef=Ce({factory:function(){return new n(re(he))},token:n,providedIn:"root"}),n}();function Ay(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;var t=n.getAttribute("tabindex");return t!="-32768"&&!(!t||isNaN(parseInt(t,10)))}function Py(n){if(!Ay(n))return null;var t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var F2=function(){function n(t,e,i,r,o){o===void 0&&(o=!1);var s=this;this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this._startAnchorListener=function(){return s.focusLastTabbableElement()},this._endAnchorListener=function(){return s.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this._startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this._endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null},n.prototype.attachAnchors=function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t._startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t._endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},n.prototype.focusInitialElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusInitialElement())})})},n.prototype.focusFirstTabbableElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusFirstTabbableElement())})})},n.prototype.focusLastTabbableElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusLastTabbableElement())})})},n.prototype._getRegionBoundary=function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-"+t+"], [cdkFocusRegion"+t+"], [cdk-focus-"+t+"]"),i=0;i<e.length;i++)e[i].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[i]):e[i].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[i]);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)},n.prototype.focusInitialElement=function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Hi()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()},n.prototype.focusFirstTabbableElement=function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t},n.prototype.focusLastTabbableElement=function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t},n.prototype.hasAttached=function(){return this._hasAttached},n.prototype._getFirstTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,i=0;i<e.length;i++){var r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null},n.prototype._getLastTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,i=e.length-1;i>=0;i--){var r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null},n.prototype._createAnchor=function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t},n.prototype._toggleAnchorTabIndex=function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")},n.prototype._executeOnStable=function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Xn(1)).subscribe(t)},n}(),M2=function(){function n(t,e,i){this._checker=t,this._ngZone=e,this._document=i}return n.prototype.create=function(t,e){return e===void 0&&(e=!1),new F2(t,this._checker,this._ngZone,this._document,e)},n.ngInjectableDef=Ce({factory:function(){return new n(re(j2),re(xe),re(jn))},token:n,providedIn:"root"}),n}(),L2=new de("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Dy=function(){function n(t,e,i){this._ngZone=e,this._document=i,this._liveElement=t||this._createLiveElement()}return n.prototype.announce=function(t){for(var e,i,r=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return o.length===1&&typeof o[0]=="number"?i=o[0]:(e=o[0],i=o[1]),this.clear(),clearTimeout(this._previousTimeout),this._liveElement.setAttribute("aria-live",e||"polite"),this._ngZone.runOutsideAngular(function(){return new Promise(function(f){clearTimeout(r._previousTimeout),r._previousTimeout=setTimeout(function(){r._liveElement.textContent=t,f(),typeof i=="number"&&(r._previousTimeout=setTimeout(function(){return r.clear()},i))},100)})})},n.prototype.clear=function(){this._liveElement&&(this._liveElement.textContent="")},n.prototype.ngOnDestroy=function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)},n.prototype._createLiveElement=function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e},n.ngInjectableDef=Ce({factory:function(){return new n(re(L2,8),re(xe),re(jn))},token:n,providedIn:"root"}),n}(),N2=650,Os=Ss({passive:!0,capture:!0}),ne=function(){function n(t,e){var i=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(r){i._touchTimeoutId!=null&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=r.target,i._touchTimeoutId=setTimeout(function(){return i._lastTouchTarget=null},N2)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout(function(){return i._windowFocused=!1})}}return n.prototype.monitor=function(t,e){var i=this;if(e===void 0&&(e=!1),!this._platform.isBrowser)return $n(null);var r=za(t);if(this._elementInfo.has(r)){var o=this._elementInfo.get(r);return o.checkChildren=e,o.subject.asObservable()}var s={unlisten:function(){},checkChildren:e,subject:new x};this._elementInfo.set(r,s),this._incrementMonitoredElementCount();var f=function(S){return i._onFocus(S,r)},_=function(S){return i._onBlur(S,r)};return this._ngZone.runOutsideAngular(function(){r.addEventListener("focus",f,!0),r.addEventListener("blur",_,!0)}),s.unlisten=function(){r.removeEventListener("focus",f,!0),r.removeEventListener("blur",_,!0)},s.subject.asObservable()},n.prototype.stopMonitoring=function(t){var e=za(t),i=this._elementInfo.get(e);i&&(i.unlisten(),i.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},n.prototype.focusVia=function(t,e,i){var r=za(t);this._setOriginForCurrentEventQueue(e),typeof r.focus=="function"&&r.focus(i)},n.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach(function(e,i){return t.stopMonitoring(i)})},n.prototype._toggleClass=function(t,e,i){i?t.classList.add(e):t.classList.remove(e)},n.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused",e==="touch"),this._toggleClass(t,"cdk-keyboard-focused",e==="keyboard"),this._toggleClass(t,"cdk-mouse-focused",e==="mouse"),this._toggleClass(t,"cdk-program-focused",e==="program"))},n.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,e._originTimeoutId=setTimeout(function(){return e._origin=null},1)})},n.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},n.prototype._onFocus=function(t,e){var i=this._elementInfo.get(e);if(i&&(i.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}},n.prototype._onBlur=function(t,e){var i=this._elementInfo.get(e);!i||i.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(i.subject,null))},n.prototype._emitOrigin=function(t,e){this._ngZone.run(function(){return t.next(e)})},n.prototype._incrementMonitoredElementCount=function(){var t=this;++this._monitoredElementCount==1&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t._documentKeydownListener,Os),document.addEventListener("mousedown",t._documentMousedownListener,Os),document.addEventListener("touchstart",t._documentTouchstartListener,Os),window.addEventListener("focus",t._windowFocusListener)})},n.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Os),document.removeEventListener("mousedown",this._documentMousedownListener,Os),document.removeEventListener("touchstart",this._documentTouchstartListener,Os),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},n.ngInjectableDef=Ce({factory:function(){return new n(re(xe),re(he))},token:n,providedIn:"root"}),n}();function Ry(n){return n.buttons===0}var jy=function(){return function(){}}(),Yp=function(){function n(t,e){var i=this;this._overlayRef=e,this._afterDismissed=new x,this._afterOpened=new x,this._onAction=new x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(function(){return i.dismiss()}),t._onExit.subscribe(function(){return i._finishDismiss()})}return n.prototype.dismiss=function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)},n.prototype.dismissWithAction=function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())},n.prototype.closeWithAction=function(){this.dismissWithAction()},n.prototype._dismissAfter=function(t){var e=this;this._durationTimeoutId=setTimeout(function(){return e.dismiss()},t)},n.prototype._open=function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())},n.prototype._finishDismiss=function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1},n.prototype.afterDismissed=function(){return this._afterDismissed.asObservable()},n.prototype.afterOpened=function(){return this.containerInstance._onEnter},n.prototype.onAction=function(){return this._onAction.asObservable()},n}(),Fy=new de("MatSnackBarData"),Tu=function(){return function(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}(),Gp=function(){function n(t,e){this.snackBarRef=t,this.data=e}return n.prototype.action=function(){this.snackBarRef.dismissWithAction()},Object.defineProperty(n.prototype,"hasAction",{get:function(){return!!this.data.action},enumerable:!0,configurable:!0}),n}(),qp=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s._ngZone=e,s._elementRef=i,s._changeDetectorRef=r,s.snackBarConfig=o,s._destroyed=!1,s._onExit=new x,s._onEnter=new x,s._animationState="void",s._role=o.politeness!=="assertive"||o.announcementMessage?o.politeness==="off"?null:"status":"alert",s}return k(t,n),t.prototype.attachComponentPortal=function(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)},t.prototype.onAnimationEnd=function(e){var i=e.toState;if((i==="void"&&e.fromState!=="void"||i==="hidden")&&this._completeExit(),i==="visible"){var r=this._onEnter;this._ngZone.run(function(){r.next(),r.complete()})}},t.prototype.enter=function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())},t.prototype.exit=function(){return this._animationState="hidden",this._onExit},t.prototype.ngOnDestroy=function(){this._destroyed=!0,this._completeExit()},t.prototype._completeExit=function(){var e=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(Xn(1)).subscribe(function(){e._onExit.next(),e._onExit.complete()})},t.prototype._applySnackBarClasses=function(){var e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(function(r){return e.classList.add(r)}):e.classList.add(i)),this.snackBarConfig.horizontalPosition==="center"&&e.classList.add("mat-snack-bar-center"),this.snackBarConfig.verticalPosition==="top"&&e.classList.add("mat-snack-bar-top")},t.prototype._assertNotAttached=function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")},t}(Su),Kp=function(){return function(){}}(),B2=new de("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Tu}}),My=function(){function n(t,e,i,r,o,s){this._overlay=t,this._live=e,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}return Object.defineProperty(n.prototype,"_openedSnackBarRef",{get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t},enumerable:!0,configurable:!0}),n.prototype.openFromComponent=function(t,e){return this._attach(t,e)},n.prototype.openFromTemplate=function(t,e){return this._attach(t,e)},n.prototype.open=function(t,e,i){e===void 0&&(e="");var r=j({},this._defaultConfig,i);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(Gp,r)},n.prototype.dismiss=function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()},n.prototype.ngOnDestroy=function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()},n.prototype._attachSnackBarContainer=function(t,e){var i=new Xa(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Tu,e]])),r=new Bo(qp,e.viewContainerRef,i),o=t.attach(r);return o.instance.snackBarConfig=e,o.instance},n.prototype._attach=function(t,e){var i=j({},new Tu,this._defaultConfig,e),r=this._createOverlay(i),o=this._attachSnackBarContainer(r,i),s=new Yp(o,r);if(t instanceof Lt){var f=new Wa(t,null,{$implicit:i.data,snackBarRef:s});s.instance=o.attachTemplatePortal(f)}else{var _=this._createInjector(i,s),S=(f=new Bo(t,void 0,_),o.attachComponentPortal(f));s.instance=S.instance}return this._breakpointObserver.observe(Cu.Handset).pipe(Zn(r.detachments().pipe(Xn(1)))).subscribe(function(T){T.matches?r.overlayElement.classList.add("mat-snack-bar-handset"):r.overlayElement.classList.remove("mat-snack-bar-handset")}),this._animateSnackBar(s,i),this._openedSnackBarRef=s,this._openedSnackBarRef},n.prototype._animateSnackBar=function(t,e){var i=this;t.afterDismissed().subscribe(function(){i._openedSnackBarRef==t&&(i._openedSnackBarRef=null),e.announcementMessage&&i._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(function(){t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(function(){return t._dismissAfter(e.duration)}),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)},n.prototype._createOverlay=function(t){var e=new qa;e.direction=t.direction;var i=this._overlay.position().global(),r=t.direction==="rtl",o=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!r||t.horizontalPosition==="end"&&r,s=!o&&t.horizontalPosition!=="center";return o?i.left("0"):s?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),e.positionStrategy=i,this._overlay.create(e)},n.prototype._createInjector=function(t,e){return new Xa(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Yp,e],[Fy,t.data]]))},n.ngInjectableDef=Ce({factory:function(){return new n(re(On),re(Dy),re(Pr),re(zp),re(n,12),re(B2))},token:n,providedIn:Kp}),n}(),Cr=function(){function n(t,e,i){this.settings=t,this.i18n=e,this.snackbar=i}return n.prototype.open=function(t,e){return e===void 0&&(e={}),e.duration||e.duration===0||(e.duration=this.settings.get("toast.default_timeout",3e3)),this.snackbar.open(this.i18n.t(t),this.i18n.t(e.action),{duration:e.duration})},n.prototype.openComponent=function(t,e){return this.snackbar.openFromComponent(t,e)},n.ngInjectableDef=Ce({factory:function(){return new n(re(Bt),re(te),re(My))},token:n,providedIn:"root"}),n}(),Zp=function(){function n(t){this.params=t}return n.type="[Editor.Resize] Set Resize Dimensions",n}(),Ly=function(){return(Ly=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},Jp={dirty:!1,resized:!1,width:null,height:null,usePercentages:!1},Za=function(n){function t(e,i,r,o,s){var f=n.call(this)||this;return f.store=e,f.history=i,f.actions$=r,f.resizeTool=o,f.toast=s,f.toolName=Be.RESIZE,f}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.setResizeDimensions=function(e,i){e.patchState(Ly({},i.params,{dirty:!0}))},t.prototype.applyChanges=function(e){var i=e.getState(),r=i.width,o=i.height,s=i.usePercentages;this.store.dispatch(new zn),this.resizeTool.apply(r,o,s),this.toast.open("Photo resized."),e.getState().dirty&&this.history.add(si.RESIZE),e.patchState(Jp)},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.patchState(Jp)},A([wn(Zp),E("design:type",Function),E("design:paramtypes",[Object,Zp]),E("design:returntype",void 0)],t.prototype,"setResizeDimensions",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"resize",defaults:Jp})],t)}(tr),Iu=function(){function n(t,e,i){this.canvas=t,this.mergeTool=e,this.cropZone=i}return n.prototype.apply=function(t){var e=this;return this.cropZone.remove(),this.mergeTool.apply().then(function(){e.canvas.resize(t.width,t.height);var i=e.canvas.getMainImage();i.cropX=t.left,i.cropY=t.top,i.width=t.width,i.height=t.height,e.canvas.render()})},n}(),Ny=function(){return(Ny=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},po=function(){function n(t,e,i){this.canvas=t,this.canvasState=e,this.config=i,this.initiated=!1,this.gridColor="rgba(244,244,244,.4)",this.aspectRatio="16:9",this.resize$=new x}return n.prototype.draw=function(){this.drawMainZone(),this.drawOverlay(),this.drawGrid(),this.attachEvents(),this.canvas.render(),this.initiated=!0},n.prototype.remove=function(){this.initiated&&(this.rect.off(),this.canvas.fabric().discardActiveObject(),this.canvas.fabric().remove(this.rect,this.grid,this.overlay),this.canvas.render(),this.initiated=!1)},n.prototype.constrainWithinCanvas=function(t){var e=t.left,i=t.top,r=t.getScaledWidth(),o=t.getScaledHeight(),s=this.canvasState.original.width-r,f=this.canvasState.original.height-o;e<0&&(t.left=0),i<0&&(t.top=0),e>s&&(t.left=s),i>f&&(t.top=f)},n.prototype.constrainWithinCanvasOnScaling=function(t){var e=Math.floor(t.left),i=Math.floor(t.top),r=e+t.getScaledWidth()-1,o=i+t.getScaledHeight()-1;(e<0||r>this.canvasState.original.width)&&(t.scaleX=this.lastScaleX||1),e<0&&(t.left=0),(i<0||o>this.canvasState.original.height)&&(t.scaleY=this.lastScaleY||1),i<0&&(t.top=0),this.lastScaleX=t.scaleX,this.lastScaleY=t.scaleY},n.prototype.attachEvents=function(){var t=this;this.rect.on("moving",function(){t.constrainWithinCanvas(t.rect),t.drawOverlay(),t.drawGrid(),t.resize$.next()}),this.rect.on("scaling",function(){t.constrainWithinCanvasOnScaling(t.rect),t.drawOverlay(),t.drawGrid(),t.resize$.next()})},n.prototype.gcd=function(t,e){return e==0?t:this.gcd(e,t%e)},n.prototype.getAdjustedSize=function(t,e,i){t===void 0&&(t="16:9");var r=e,o=i,s=t.split(":"),f=parseInt(s[0])/parseInt(s[1]);return i*f>e?o=e/f:r=i*f,{width:r,height:o}},n.prototype.drawMainZone=function(t){var e=this;if(!this.initiated){var i={fill:"transparent",borderColor:this.gridColor,borderScaleFactor:2,hasRotatingPoint:!1,name:"crop.zone",lockScalingFlip:!0,minScaleLimit:0,hasControls:!this.config.get("pixie.tools.crop.hideCustomControls")};this.rect=new De.fabric.Rect(Ny({},i,this.config.get("pixie.tools.crop.cropzone",{}))),this.rect.on("deselected",function(){e.canvas.fabric().setActiveObject(e.rect)}),this.canvas.fabric().add(this.rect),this.rect.moveTo(3),this.canvas.fabric().setActiveObject(this.rect)}var r=this.getAdjustedSize(t,this.canvasState.original.width,this.canvasState.original.height);this.rect.set({width:r.width,height:r.height,lockUniScaling:!!t}),this.rect.viewportCenter(),this.rect.setCoords()},n.prototype.drawGrid=function(){if(!this.initiated){var t={stroke:this.gridColor,strokeWidth:4,selectable:!1,evented:!1},e=[new De.fabric.Line([],t),new De.fabric.Line([],t),new De.fabric.Line([],t),new De.fabric.Line([],t)];this.grid=new De.fabric.Group(e,{name:"crop.grid",selectable:!1,evented:!1}),this.canvas.fabric().add(this.grid),this.grid.moveTo(10)}this.grid.width=this.rect.getScaledWidth(),this.grid.height=this.rect.getScaledHeight(),this.grid.left=this.rect.left,this.grid.top=this.rect.top;var i=this.grid.width/2,r=this.grid.width/3,o=this.grid.height/2,s=this.grid.height/3,f=this.grid.getObjects();f[0].set({x1:-(i-r),y1:-o,x2:-(i-r),y2:o}),f[1].set({x1:i-r,y1:-o,x2:i-r,y2:o}),f[2].set({x1:-i,y1:-(o-s),x2:i,y2:-(o-s)}),f[3].set({x1:-i,y1:o-s,x2:i,y2:o-s})},n.prototype.drawOverlay=function(){if(!this.initiated){var t=new De.fabric.Rect({fill:"rgba(0,0,0,0.6)",selectable:!0,evented:!1}),e=new De.fabric.Rect({fill:"rgba(0,0,0,0.6)",selectable:!0,evented:!1}),i=new De.fabric.Rect({fill:"rgba(0,0,0,0.6)",selectable:!0,evented:!1}),r=new De.fabric.Rect({fill:"rgba(0,0,0,0.6)",selectable:!0,evented:!1});this.overlay=new De.fabric.Group([t,e,i,r],{width:this.canvasState.original.width,height:this.canvasState.original.height,selectable:!1,evented:!1,name:"crop.overlay"}),this.canvas.fabric().add(this.overlay),this.overlay.moveTo(1)}var o=-this.overlay.width/2,s=-this.overlay.height/2,f=this.overlay.getObjects();f[0].set({left:o,top:s,width:this.overlay.width,height:this.rect.getScaledHeight()<0?this.rect.top-Math.abs(this.rect.getScaledHeight()):this.rect.top}),f[1].set({left:(this.rect.getScaledWidth()<0?this.rect.left:this.rect.left+this.rect.getScaledWidth())+o,top:this.rect.top+s,width:this.rect.getScaledWidth()<0?this.canvasState.original.width-(this.rect.left+this.rect.getScaledWidth())-Math.abs(this.rect.getScaledWidth()):this.canvasState.original.width-(this.rect.left+this.rect.getScaledWidth()),height:this.rect.getScaledHeight()}),f[2].set({left:o,top:(this.rect.getScaledHeight()<0?this.rect.top:this.rect.top+this.rect.getScaledHeight())+s,width:this.canvasState.original.width,height:this.rect.getScaledHeight()<0?this.canvasState.original.height-this.rect.top:this.canvasState.original.height-(this.rect.top+this.rect.getScaledHeight())}),f[3].set({left:o,top:this.rect.top+s,width:this.rect.getScaledWidth()>0?this.rect.left:this.rect.left-Math.abs(this.rect.getScaledWidth()),height:this.rect.getScaledHeight()})},n.prototype.changeAspectRatio=function(t){this.aspectRatio=t,this.drawMainZone(t),this.drawOverlay(),this.drawGrid(),this.canvas.render()},n.prototype.getSize=function(){return{width:this.rect.getScaledWidth(),height:this.rect.getScaledHeight(),left:this.rect.left,top:this.rect.top}},n.prototype.resize=function(t,e){this.aspectRatio=null,this.rect.width=t,this.rect.height=e,this.rect.lockUniScaling=!1,this.rect.setCoords(),this.drawOverlay(),this.drawGrid(),this.canvas.render()},n}(),Qp={dirty:!0},Au=function(n){function t(e,i,r,o,s){var f=n.call(this)||this;return f.store=e,f.history=i,f.actions$=r,f.cropTool=o,f.cropZone=s,f.toolName=Be.CROP,f}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.applyChanges=function(e){var i=this;this.store.dispatch(new zn),this.cropTool.apply(this.cropZone.getSize()).then(function(){i.history.add(si.CROP),e.patchState(Qp)})},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.patchState(Qp)},A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"crop",defaults:Qp})],t)}(tr),Ja=function(){function n(t,e){this.canvas=t,this.config=e}return n.prototype.getShapeByName=function(t){return this.config.get("pixie.tools.shapes.items").find(function(e){return e.name===t})},n.prototype.addBasicShape=function(t){typeof t=="string"&&(t=this.getShapeByName(t));var e,i=t,r=this.canvas.fabric().getWidth(),o=i.options||{},s=r/2;i.name==="circle"?o.radius=s:i.name==="ellipse"?(o.rx=s,o.ry=s/2):(o.width=s,o.height=s),e=i.type==="Path"?new De.fabric[i.type](o.path,o):new De.fabric[i.type](o),this.addAndPositionSticker(e)},n.prototype.addSticker=function(t,e){var i=this;return new Promise(function(r){i.addStickerResolve=r,t.type==="svg"?i.addSvgSticker(t,e):i.addRegularSticker(t,e)})},n.prototype.addRegularSticker=function(t,e){var i=this;De.fabric.util.loadImage(this.getStickerUrl(t,e),function(r){var o=new De.fabric.Image(r);i.addAndPositionSticker(o,oi.sticker)},null,this.config.get("pixie.crossOrigin"))},n.prototype.addAndPositionSticker=function(t,e){e===void 0&&(e=oi.shape),t.name=e.name,this.canvas.fabric().add(t),this.canvas.fabric().setActiveObject(t),t.scaleToWidth(this.canvas.fabric().getWidth()/4),t.viewportCenter(),t.setCoords(),this.canvas.render(),this.addStickerResolve&&this.addStickerResolve()},n.prototype.getStickerUrl=function(t,e){return this.config.getAssetUrl("images/stickers/"+t.name+"/"+e+"."+t.type)},n.prototype.getStickerCategoryUrl=function(t){return t.thumbnailUrl?this.config.getAssetUrl(t.thumbnailUrl):this.getStickerUrl(t,1)},n.prototype.addSvgSticker=function(t,e){var i=this;De.fabric.loadSVGFromURL(this.getStickerUrl(t,e),function(r,o){var s=De.fabric.util.groupSVGElements(r,o);i.addAndPositionSticker(s,oi.sticker)})},n}(),$p=function(){function n(t){this.shape=t}return n.type="[Editor.Shapes] Add Shape",n}(),Qa=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.store=e,s.shapesTool=i,s.history=r,s.actions$=o,s.toolName=Be.SHAPES,s}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.applyChanges=function(e){this.store.dispatch(new yr(Be.OBJECT_SETTINGS)),e.getState().dirty&&this.history.add(si.SHAPES),e.patchState({dirty:!1})},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState({dirty:!1})},t.prototype.addShape=function(e,i){e.patchState({dirty:!0}),this.shapesTool.addBasicShape(i.shape)},A([wn($p),E("design:type",Function),E("design:paramtypes",[Object,$p]),E("design:returntype",void 0)],t.prototype,"addShape",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"shapes",defaults:{dirty:!1}})],t)}(tr),By=function(){function n(){}return n.type="[Editor.Transform] Mark as Dirty",n}(),td={dirty:!1},Pu=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.history=i,o.actions$=r,o.toolName=Be.TRANSFORM,o}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.TRANSFORM),e.patchState(td)},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.patchState(td)},A([wn(By),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"transform",defaults:td})],t)}(tr),Vy=function(){function n(){}return n.type="[Editor.Frame] Mark as Dirty",n}(),zy=function(){function n(){}return n.type="[Editor.Frame] Open Frame Controls",n}(),ed={dirty:!1,controlsOpen:!1},$a=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.history=i,o.actions$=r,o.toolName=Be.FRAME,o}return k(t,n),t.dirty=function(e){return e.dirty},t.controlsOpen=function(e){return e.controlsOpen},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.openFrameControls=function(e){e.patchState({controlsOpen:!0})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.FRAME),e.patchState(ed)},t.prototype.cancelChanges=function(e){e.getState().dirty&&this.history.reload(),e.getState().controlsOpen?e.patchState({controlsOpen:!1}):(this.store.dispatch(new zn),e.patchState(ed))},A([wn(Vy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([wn(zy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"openFrameControls",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"controlsOpen",null),A([Di({name:"frame",defaults:ed})],t)}(tr),Hy=function(){function n(){}return n.type="[Editor.Draw] Mark as Dirty",n}(),Uy=function(){function n(){}return n.type="[Editor.Draw] Mark as UnDirty",n}(),Wy=function(){function n(){}return n.type="[Editor.Draw] Open Brush Controls",n}(),Xy=function(){function n(){}return n.type="[Editor.Draw] Close Brush Controls",n}(),nd={dirty:!1,brushControlsOpen:!1},tl=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.history=i,o.actions$=r,o.toolName=Be.DRAW,o}return k(t,n),t.dirty=function(e){return e.dirty},t.brushControlsOpen=function(e){return e.brushControlsOpen},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.markAsUnDirty=function(e){e.patchState({dirty:!1})},t.prototype.openBrushControls=function(e){e.patchState({brushControlsOpen:!0})},t.prototype.closeBrushControls=function(e){e.patchState({brushControlsOpen:!1})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.DRAW),e.patchState(nd)},t.prototype.cancelChanges=function(e){e.getState().brushControlsOpen||this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState(nd)},A([wn(Hy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([wn(Uy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsUnDirty",null),A([wn(Wy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"openBrushControls",null),A([wn(Xy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"closeBrushControls",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"brushControlsOpen",null),A([Di({name:"draw",defaults:nd})],t)}(tr),id=function(){function n(t){this.category=t}return n.type="[Editor.Stickers] Open Sticker Category",n}(),Yy=function(){function n(){}return n.type="[Editor.Stickers] Mark as Dirty",n}(),rd={dirty:!1,activeCategory:null},el=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.history=i,o.actions$=r,o.toolName=Be.STICKERS,o}return k(t,n),t.dirty=function(e){return e.dirty},t.activeCategory=function(e){return e.activeCategory},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.openStickerCategory=function(e,i){e.patchState({activeCategory:i.category})},t.prototype.applyChanges=function(e){this.store.dispatch(new yr(Be.OBJECT_SETTINGS)),e.getState().dirty&&this.history.add(si.STICKERS),e.patchState(rd)},t.prototype.cancelChanges=function(e){e.getState().activeCategory||this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState(rd)},A([wn(Yy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([wn(id),E("design:type",Function),E("design:paramtypes",[Object,id]),E("design:returntype",void 0)],t.prototype,"openStickerCategory",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"activeCategory",null),A([Di({name:"stickers",defaults:rd})],t)}(tr),nl=function(){function n(t,e,i,r){this.activeObject=t,this.canvas=e,this.state=i,this.saveTool=r}return n.prototype.apply=function(t){var e=this;this.updatePreview(t),this.state.fabric.remove(this.previewRect),this.state.fabric.clipTo=function(r){e.state.fabric.getRetinaScaling(),e.previewRect.set({width:e.previewRect.width,height:e.previewRect.height,rx:e.previewRect.rx,ry:e.previewRect.ry,stroke:null}),e.previewRect.render(r),e.state.fabric.clipTo=null};var i=this.saveTool.getDataUrl();return this.state.fabric.clear(),this.hidePreview(),this.canvas.loadMainImage(i)},n.prototype.getPreviewRadius=function(){return this.previewRect.rx},n.prototype.updatePreview=function(t){this.previewRect.set({rx:t,ry:t}),this.canvas.render()},n.prototype.showPreview=function(){this.previewRect=new De.fabric.Rect({width:this.state.original.width,height:this.state.original.height,rx:50,ry:50,objectCaching:!1,fill:"transparent",name:"round.rect",stroke:"rgba(255,255,255,0.8)",strokeWidth:3,strokeDashArray:[4,4],selectable:!1,evented:!1}),this.state.fabric.add(this.previewRect),this.previewRect.moveTo(99),this.previewRect.viewportCenter(),this.canvas.render()},n.prototype.hidePreview=function(){this.previewRect&&(this.state.fabric.remove(this.previewRect),this.canvas.render(),this.previewRect=null)},n}(),od={dirty:!0},Du=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.store=e,s.actions$=i,s.history=r,s.roundTool=o,s.toolName=Be.CORNERS,s}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.applyChanges=function(e){var i=this;this.store.dispatch(new zn),this.roundTool.apply(this.roundTool.getPreviewRadius()).then(function(){i.history.add(si.CORNERS)}),e.patchState(od)},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.patchState(od)},A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"corners",defaults:od})],t)}(tr),Gy=function(){function n(){}return n.type="[Editor.Background] Mark as Dirty",n}(),sd={dirty:!0},Ru=function(n){function t(e,i,r){var o=n.call(this)||this;return o.store=e,o.actions$=i,o.history=r,o.toolName=Be.BACKGROUND,o}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.markAsDirty=function(e){e.patchState({dirty:!0})},t.prototype.applyChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.add(si.BACKGROUND),e.patchState(sd)},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState(sd)},A([wn(Gy),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t.prototype,"markAsDirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"background",defaults:sd})],t)}(tr),ad=function(){function n(t){this.text=t}return n.type="[Text] Add",n}(),qy=function(){return(qy=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},il=function(){function n(t,e,i,r,o){this.canvas=t,this.activeObject=e,this.objects=i,this.config=r,this.fontsPaginator=o,this.minWidth=250}return n.prototype.add=function(t,e){t===void 0&&(t=null),e===void 0&&(e={}),t=t||this.config.get("pixie.tools.text.defaultText");var i=qy({},Gh(this.activeObject.form.value),e,{name:oi.text.name}),r=new De.fabric.IText(t,i);this.canvas.fabric().add(r),this.autoPositionText(r),this.canvas.fabric().setActiveObject(r),this.canvas.render()},n.prototype.autoPositionText=function(t){var e=this,i=this.canvas.fabric().getWidth(),r=this.canvas.fabric().getHeight(),o=Math.min(this.canvas.fabric().getWidth(),this.minWidth);t.scaleToWidth(Math.max(i/3,o)),t.getScaledHeight()>r&&t.scaleToHeight(r-t.getScaledHeight()-20),t.viewportCenter(),this.canvas.fabric().getObjects("i-text").forEach(function(s){if(s!==t&&s.intersectsWithObject(t)){var f=s.top-t.top+s.getScaledHeight(),_=t.top+f;_>e.canvas.state.original.height-s.getScaledHeight()&&(_=0),t.set("top",_),t.setCoords()}})},n.prototype.getUsedFonts=function(){var t=this;return this.objects.getAll().filter(function(e){return e.type==="i-text"}).map(function(e){var i=e.fontFamily;return t.fontsPaginator.original.find(function(r){return r.family===i})}).filter(function(e){return e&&e.type!=="basic"})},n}(),ld={dirty:!1},ju=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.textTool=e,s.store=i,s.history=r,s.actions$=o,s.toolName=Be.TEXT,s}return k(t,n),t.dirty=function(e){return e.dirty},t.prototype.add=function(e,i){this.textTool.add(i.text),e.setState({dirty:!0})},t.prototype.applyChanges=function(e){this.store.dispatch(new yr(Be.OBJECT_SETTINGS)),e.getState().dirty&&this.history.add(si.TEXT),e.patchState(ld)},t.prototype.cancelChanges=function(e){this.store.dispatch(new zn),e.getState().dirty&&this.history.reload(),e.patchState(ld)},A([wn(ad),E("design:type",Function),E("design:paramtypes",[Object,ad]),E("design:returntype",void 0)],t.prototype,"add",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],t,"dirty",null),A([Di({name:"text",defaults:ld})],t)}(tr),gn=function(){function n(t,e,i){this.config=t,this.breakpoints=e,this.activeObject=i}return n.visible=function(t){return t.visible},n.mode=function(t){return t.mode},n.theme=function(t){return t.theme},n.controlsPosition=function(t){return t.controlsPosition},n.toolbarHidden=function(t){return t.hideToolbar},n.activePanel=function(t){return t.activePanel},n.contentLoaded=function(t){return t.contentLoaded},n.dirty=function(t){return t[t.activePanel].dirty},n.zoom=function(t){return t.zoom},n.activeObjIsText=function(t){return t.activeObjIsText},n.activeObjIsShape=function(t){return t.activeObjIsShape},n.activeObjId=function(t){return t.activeObjId},n.prototype.ngxsOnInit=function(t){this.listenToConfigChange(t),this.listenToBreakpointChange(t)},n.prototype.openEditor=function(t){t.patchState({visible:!0}),this.executeCallback("onOpen")},n.prototype.closeEditor=function(t,e){var i=e.executeCallback,r=this.config.get("pixie.ui.allowEditorClose");i&&(r=this.executeCallback("onClose")!==!1),r&&t.patchState({visible:!1})},n.prototype.openPanel=function(t,e){t.patchState({activePanel:e.panel})},n.prototype.closeForePanel=function(t){t.patchState({activePanel:Be.NAVIGATION})},n.prototype.objectSelected=function(t,e){var i=this.getActiveObjState();e.fromUserAction&&t.getState().activePanel===Be.NAVIGATION&&(i.activePanel=Be.OBJECT_SETTINGS),t.patchState(i),this.activeObject.syncForm()},n.prototype.objectDeselected=function(t){var e=this.getActiveObjState();t.getState().activePanel!==Be.OBJECT_SETTINGS||t.getState().objectSettings.dirty||(e.activePanel=Be.NAVIGATION),t.patchState(e),this.activeObject.syncForm()},n.prototype.contentLoaded=function(t){t.patchState({contentLoaded:!0})},n.prototype.setZoom=function(t,e){t.patchState({zoom:e.zoom})},n.prototype.executeCallback=function(t){var e=this.config.get("pixie."+t);return e&&e()},n.prototype.listenToBreakpointChange=function(t){var e=this;this.breakpoints.isMobile$.subscribe(function(i){var r=e.config.get("pixie.ui.nav.position",bs.TOP);t.patchState({controlsPosition:i?bs.BOTTOM:r})})},n.prototype.listenToConfigChange=function(t){var e=this;this.config.onChange.subscribe(function(){var i=e.config.get("pixie");t.patchState({mode:i.ui.mode,theme:i.ui.theme,hideToolbar:i.ui.toolbar.hide,visible:i.ui.visible})})},n.prototype.getActiveObjState=function(){var t=this.activeObject.get(),e={activeObjId:null,activeObjIsText:!1,activeObjIsShape:!1};return t&&(e.activeObjId=t.data.id,e.activeObjIsText=t.type==="i-text",e.activeObjIsShape=t.name===oi.shape.name),e},A([wn(bm),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n.prototype,"openEditor",null),A([wn(Ca),E("design:type",Function),E("design:paramtypes",[Object,Ca]),E("design:returntype",void 0)],n.prototype,"closeEditor",null),A([wn(yr),E("design:type",Function),E("design:paramtypes",[Object,yr]),E("design:returntype",void 0)],n.prototype,"openPanel",null),A([wn(zn),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n.prototype,"closeForePanel",null),A([wn(Xh),E("design:type",Function),E("design:paramtypes",[Object,Xh]),E("design:returntype",void 0)],n.prototype,"objectSelected",null),A([wn(_m),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n.prototype,"objectDeselected",null),A([wn(Ql),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n.prototype,"contentLoaded",null),A([wn(Yh),E("design:type",Function),E("design:paramtypes",[Object,Yh]),E("design:returntype",void 0)],n.prototype,"setZoom",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"visible",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"mode",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"theme",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"controlsPosition",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"toolbarHidden",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"activePanel",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"contentLoaded",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"dirty",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"zoom",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"activeObjIsText",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"activeObjIsShape",null),A([hn(),E("design:type",Function),E("design:paramtypes",[Object]),E("design:returntype",void 0)],n,"activeObjId",null),A([Di({name:"imageEditor",defaults:{visible:!0,mode:vs.INLINE,theme:ys.LIGHT,hideToolbar:!1,activePanel:Be.NAVIGATION,controlsPosition:bs.TOP,contentLoaded:!1,activeObjIsText:!1,activeObjIsShape:!1,activeObjId:null,zoom:100},children:[Mr,Za,Au,Pu,tl,ju,Qa,el,$a,Du,Ru,Ba]})],n)}(),Ei=function(){function n(t){this.config=t,this.original={width:0,height:0},this.loading=!1,this.loaded=new Vv(1)}return n.prototype.isEmpty=function(){return!(this.config.get("pixie.image")||this.config.get("pixie.blankCanvasSize")||this.fabric&&this.fabric.getObjects().length!==0)},n.prototype.calcWrapperSize=function(){var t=this.wrapperEl.getBoundingClientRect();return{width:t.width,height:t.height}},n}(),zo=function(){function n(t){this.overlayRef=t,this.value=new x}return n.prototype.isOpen=function(){return this.overlayRef&&this.overlayRef.hasAttached()},n.prototype.close=function(){this.overlayRef&&this.overlayRef.dispose()},n.prototype.emitValue=function(t){this.value.next(t)},n.prototype.valueChanged=function(){return this.value.asObservable()},n.prototype.getPanelEl=function(){return this.overlayRef.overlayElement},n.prototype.updatePosition=function(){return this.overlayRef.updatePosition()},n.prototype.afterClosed=function(){return this.overlayRef.detachments().pipe(Xn(1))},n}(),Ky=new de("OVERLAY_PANEL_DATA"),V2=function(){function n(){}return n.prototype.attach=function(){},n.prototype.enable=function(){document.documentElement.classList.add("be-fullscreen-overlay-scrollblock")},n.prototype.disable=function(){document.documentElement.classList.remove("be-fullscreen-overlay-scrollblock")},n}(),z2={hasBackdrop:!0,closeOnBackdropClick:!0,panelClass:"overlay-panel"},ji=function(){function n(t,e,i){this.overlay=t,this.breakpoints=e,this.injector=i}return n.prototype.open=function(t,e){var i=Object.assign({},z2,e),r=this.overlay.create({positionStrategy:this.getPositionStrategy(i),hasBackdrop:i.hasBackdrop,panelClass:i.panelClass,backdropClass:i.backdropClass,scrollStrategy:i.fullScreen?new V2:null}),o=new zo(r),s=new Bo(t,null,this.createInjector(i,o));return r.attach(s),i.closeOnBackdropClick&&(r.backdropClick().subscribe(function(){return o.close()}),r.keydownEvents().pipe(Hn(function(f){return f.keyCode===Ya})).subscribe(function(){return o.close()})),o},n.prototype.createInjector=function(t,e){var i=new WeakMap;return i.set(zo,e),i.set(Ky,t.data||null),new Xa(this.injector,i)},n.prototype.getPositionStrategy=function(t){return t.positionStrategy?t.positionStrategy:t.origin==="global"?this.getGlobalPositionStrategy(t):this.getConnectedPositionStrategy(t)},n.prototype.getGlobalPositionStrategy=function(t){var e=this.getPositionOption(t);if(e==="center")return this.overlay.position().global().centerHorizontally().centerVertically();var i=this.overlay.position().global();return Object.keys(e).forEach(function(r){i[r](e[r])}),i},n.prototype.getConnectedPositionStrategy=function(t){return this.overlay.position().flexibleConnectedTo(t.origin).withPositions(this.getPositionOption(t))},n.prototype.getPositionOption=function(t){return t.mobilePosition&&this.breakpoints.isMobile$.value?t.mobilePosition:t.position},n.ngInjectableDef=Ce({factory:function(){return new n(re(On),re(Wi),re(Pr))},token:n,providedIn:"root"}),n}(),ud=function(){function n(t,e,i,r){this.canvasState=t,this.config=e,this.overlayPanel=i,this.store=r}return n.prototype.open=function(){if(this.shouldShowOpenImageDialog()){var t=this.overlayPanel.overlay.position().flexibleConnectedTo(new lt(this.canvasState.wrapperEl)).withPositions([{overlayX:"center",overlayY:"center",originX:"center",originY:"center"}]);this.sampleImagePanelRef=this.overlayPanel.open(xp,{hasBackdrop:!0,closeOnBackdropClick:!1,positionStrategy:t,panelClass:["floating-panel","sample-image-panel"]})}},n.prototype.reposition=function(){this.sampleImagePanelRef&&this.sampleImagePanelRef.updatePosition()},n.prototype.shouldShowOpenImageDialog=function(){return this.store.selectSnapshot(gn.visible)&&this.canvasState.isEmpty()&&this.config.get("pixie.ui.openImageDialog.show")&&!this.sampleImagePanelRef},n.ngInjectableDef=Ce({factory:function(){return new n(re(Ei),re(Bt),re(ji),re(Ge))},token:n,providedIn:"root"}),n}(),hr=function(){function n(t){this.store=t}return n.prototype.openPanel=function(t){this.store.dispatch(new yr(t))},n.prototype.closeCurrentPanel=function(){this.store.dispatch(new zn)},n}();function Zy(n){return/(?:\.([^.]+))?$/.exec(n)[1]}var cd,H2=function(){function n(t,e){this.url=null,this.name=t.name,this.size=t.size,this.mime=function(i){var r={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml"},o=i.name?Zy(i.name):null;return i.type?i.type:o&&r[o]?r[o]:null}(t),this.extension=Zy(t.name),this.native=t,this.path=e||t.webkitRelativePath||null}return n.prototype.getData=function(){var t=this;return new Promise(function(e){var i=new FileReader;i.addEventListener("load",function(){e(i.result)}),t.extension==="json"?i.readAsText(t.native):i.readAsDataURL(t.native)})},n}();function Jy(n){return n===void 0&&(n={}),new Promise(function(t){var e=function(i){i===void 0&&(i={});var r=(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("#hidden-file-upload-input");r&&r.remove();var o=document.createElement("input");o.type="file",o.multiple=i.multiple,o.classList.add("hidden"),o.style.display="none",o.style.visibility="hidden",o.id="hidden-file-upload-input";var s=[];return i.extensions&&s.push(i.extensions.join(",")),i.types&&s.push(i.types.join("|")),s.length&&(o.accept=s.join("|")),i.directory&&(o.webkitdirectory=!0),document.body.appendChild(o),o}(n);e.onchange=function(i){var r=Array.from(i.target.files).map(function(o){return new H2(o)});t(r),e.remove()},document.body.appendChild(e),e.click()})}(function(n){n.image="image/*",n.audio="audio/*",n.video="video/*"})(cd||(cd={}));var Ho=function(){function n(t,e,i,r,o,s,f){this.history=t,this.canvas=e,this.toast=i,this.config=r,this.frame=o,this.cropzone=s,this.validator=f}return n.prototype.openUploadDialog=function(t){var e=this;t===void 0&&(t={type:"image"});var i=this.getUploadAcceptString(t.type);return new Promise(function(r){Jy({extensions:i}).then(function(o){e.validateAndGetData(o[0]).then(function(s){e.executeOnFileOpenCallback(o[0]),t.backgroundImage&&s.extension!=="json"?e.openBackgroundImage(s.data).then(function(f){return r(f)}):e.openFile(s.data,s.extension).then(function(f){return r(f)})},function(){})})})},n.prototype.importAndGetData=function(){var t=this;return new Promise(function(e){Jy({types:[cd.image]}).then(function(i){t.validateAndGetData(i[0]).then(function(r){return e(r.data)})})})},n.prototype.validateAndGetData=function(t){var e=this,i=this.validator.validate(t),r=t.extension;return new Promise(function(o,s){if(i.failed)return s();e.readFile(t,r).then(function(f){return o({data:f,extension:r})})})},n.prototype.openStateFile=function(t){var e=this;return this.resetEditor().then(function(){return e.history.addFromJson(t)})},n.prototype.resetEditor=function(t){return t===void 0&&(t={}),this.canvas.fabric().clear(),this.frame.remove(),this.cropzone.remove(),t.preserveHistory||this.history.clear(),this.config.merge({pixie:{image:null,blankCanvasSize:null}}),new Promise(function(e){return setTimeout(function(){return e()})})},n.prototype.openFile=function(t,e){return e===void 0&&(e="png"),t instanceof HTMLImageElement&&(t=t.src),e==="json"?this.openStateFile(t):this.canvas.openImage(t)},n.prototype.openBackgroundImage=function(t){var e=this;return this.resetEditor({preserveHistory:!0}).then(function(){return t instanceof HTMLImageElement&&(t=t.src),e.canvas.loadMainImage(t)})},n.prototype.readFile=function(t,e){var i=new FileReader;return new Promise(function(r){i.addEventListener("load",function(){r(i.result)}),e==="json"?i.readAsText(t.native):i.readAsDataURL(t.native)})},n.prototype.getUploadAcceptString=function(t){switch(t===void 0&&(t="all"),t){case"image":return["image/*"];case"state":return[".json","application/json"];case"all":default:return["image/*",".json","application/json"]}},n.prototype.executeOnFileOpenCallback=function(t){var e=this.config.get("pixie.onFileOpen");e&&e(t)},n}();function Fu(n,t){t===void 0&&(t=xu);var e,i=(e=n)instanceof Date&&!isNaN(+e)?+n-t.now():Math.abs(n);return function(r){return r.lift(new U2(i,t))}}var U2=function(){function n(t,e){this.delay=t,this.scheduler=e}return n.prototype.call=function(t,e){return e.subscribe(new W2(t,this.delay,this.scheduler))},n}(),W2=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return k(t,n),t.dispatch=function(e){for(var i=e.source,r=i.queue,o=e.scheduler,s=e.destination;r.length>0&&r[0].time-o.now()<=0;)r.shift().notification.observe(s);if(r.length>0){var f=Math.max(0,r[0].time-o.now());this.schedule(e,f)}else this.unsubscribe(),i.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var i=this.scheduler,r=new X2(i.now()+this.delay,e);this.queue.push(r),this.active===!1&&this._schedule(i)}},t.prototype._next=function(e){this.scheduleNotification(Pa.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(Pa.createComplete())},t}(u),X2=function(){return function(n,t){this.time=n,this.notification=t}}(),hd=function(){function n(t,e,i,r){this.el=t,this.store=e,this.config=i,this.filterTool=r}return Object.defineProperty(n.prototype,"display",{get:function(){return this.store.selectSnapshot(gn.visible)?"block":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"darkTheme",{get:function(){return this.store.selectSnapshot(gn.theme)===ys.DARK},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lightTheme",{get:function(){return this.store.selectSnapshot(gn.theme)===ys.LIGHT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlayMode",{get:function(){return this.store.selectSnapshot(gn.mode)===vs.OVERLAY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inlineMode",{get:function(){return this.store.selectSnapshot(gn.mode)===vs.INLINE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.config.get("pixie.ui.width")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.config.get("pixie.ui.height")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"compact",{get:function(){return this.config.get("pixie.ui.compact")},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.bindToOverlayClick(this.overlay),this.config.set("i18n.enable",!0)},n.prototype.bindToOverlayClick=function(t){var e=this;t.nativeElement.addEventListener("click",function(){e.filterTool.resetStateFilters(),e.store.dispatch(new Ca)})},n}(),Qy=y("NlKi"),Y2=["Uncaught (in promise): [object Object]","Uncaught (in promise): [object Undefined]","[object Object]",`{"isTrusted"
 true}`,'The animation trigger "transform" has failed to build due to the following errors',"Cannot call method 'split' of undefined","Cannot call method 'trim' of undefined","undefined is not a function","has no method 'closest'","Object doesn't support property or method 'closest'","Object doesn't support property or method 'setPrototypeOf'","requestAnimationFrame is not defined","Object [object DOMWindow] has no method 'cancelAnimationFrame'","'block' member of ScrollIntoViewOptions 'center' is not a valid value for enumeration ScrollLogicalPosition."],G2=function(n){function t(e){var i=n.call(this)||this;return i.settings=e,i.installed=!1,i}return k(t,n),t.prototype.handleError=function(e,i){e&&(n.prototype.handleError.call(this,e),this.installSentry()&&Qy.captureException(e.originalError||e,i))},t.prototype.installSentry=function(){return!!this.installed||!!this.settings.has("logging.sentry_public")&&(Qy.config(this.settings.get("logging.sentry_public"),{release:this.settings.get("version"),ignoreErrors:Y2}).install(),this.installed=!0)},t}(hs),q2=function(n){return new G2(n)},pd=function(){function n(t){this.injector=t}return n.prototype.ngDoBootstrap=function(t){var e=this.injector.get(Hh).selector;t.bootstrap(hd,e)},n}(),fo=function(){var n={HEX:0,RGBA:1,HSLA:2};return n[n.HEX]="HEX",n[n.RGBA]="RGBA",n[n.HSLA]="HSLA",n}(),$y=function(){return function(n,t,e,i){this.c=n,this.m=t,this.y=e,this.k=i}}(),Uo=function(){return function(n,t,e,i){this.h=n,this.s=t,this.l=e,this.a=i}}(),Mu=function(){return function(n,t,e,i){this.h=n,this.s=t,this.v=e,this.a=i}}(),go=function(){return function(n,t,e,i){this.r=n,this.g=t,this.b=e,this.a=i}}(),er=function(){function n(){this.newValue=new le}return n.prototype.inputChange=function(t){var e=t.target.value;if(this.rg===void 0)this.newValue.emit(e);else{var i=parseFloat(e);!isNaN(i)&&i>=0&&i<=this.rg&&this.newValue.emit({v:i,rg:this.rg})}},n}(),Lu=function(){function n(t){var e=this;this.elRef=t,this.dragEnd=new le,this.dragStart=new le,this.newValue=new le,this.listenerMove=function(i){return e.move(i)},this.listenerStop=function(){return e.stop()}}return n.prototype.mouseDown=function(t){this.start(t)},n.prototype.touchStart=function(t){this.start(t)},n.prototype.move=function(t){t.preventDefault(),this.setCursor(t)},n.prototype.start=function(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},n.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},n.prototype.getX=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(t.pageX!==void 0?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset},n.prototype.getY=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(t.pageY!==void 0?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset},n.prototype.setCursor=function(t){var e=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(t),e)),o=Math.max(0,Math.min(this.getY(t),i));this.rgX!==void 0&&this.rgY!==void 0?this.newValue.emit({s:r/e,v:1-o/i,rgX:this.rgX,rgY:this.rgY}):this.rgX===void 0&&this.rgY!==void 0?this.newValue.emit({v:o/i,rgY:this.rgY}):this.rgX!==void 0&&this.rgY===void 0&&this.newValue.emit({v:r/e,rgX:this.rgX})},n}(),t0=function(){return function(n,t,e,i){this.h=n,this.s=t,this.v=e,this.a=i}}(),e0=function(){return function(n,t,e,i){this.h=n,this.s=t,this.v=e,this.a=i}}(),Nu=function(){function n(){this.active=null}return n.prototype.setActive=function(t){this.active&&this.active!==t&&this.active.cpDialogDisplay!=="inline"&&this.active.closeDialog(),this.active=t},n.prototype.hsva2hsla=function(t){var e=t.h,i=t.s,r=t.v,o=t.a;if(r===0)return new Uo(e,0,0,o);if(i===0&&r===1)return new Uo(e,1,1,o);var s=r*(2-i)/2;return new Uo(e,r*i/(1-Math.abs(2*s-1)),s,o)},n.prototype.hsla2hsva=function(t){var e=Math.min(t.h,1),i=Math.min(t.s,1),r=Math.min(t.l,1),o=Math.min(t.a,1);if(r===0)return new Mu(e,0,0,o);var s=r+i*(1-Math.abs(2*r-1))/2;return new Mu(e,2*(s-r)/s,s,o)},n.prototype.hsvaToRgba=function(t){var e,i,r,o=t.h,s=t.s,f=t.v,_=t.a,S=Math.floor(6*o),T=6*o-S,F=f*(1-s),U=f*(1-T*s),J=f*(1-(1-T)*s);switch(S%6){case 0:e=f,i=J,r=F;break;case 1:e=U,i=f,r=F;break;case 2:e=F,i=f,r=J;break;case 3:e=F,i=U,r=f;break;case 4:e=J,i=F,r=f;break;case 5:e=f,i=F,r=U;break;default:e=0,i=0,r=0}return new go(e,i,r,_)},n.prototype.rgbaToCmyk=function(t){var e=1-Math.max(t.r,t.g,t.b);return e===1?new $y(0,0,0,1):new $y((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e)},n.prototype.rgbaToHsva=function(t){var e,i,r=Math.min(t.r,1),o=Math.min(t.g,1),s=Math.min(t.b,1),f=Math.min(t.a,1),_=Math.max(r,o,s),S=Math.min(r,o,s),T=_,F=_-S;if(i=_===0?0:F/_,_===S)e=0;else{switch(_){case r:e=(o-s)/F+(o<s?6:0);break;case o:e=(s-r)/F+2;break;case s:e=(r-o)/F+4;break;default:e=0}e/=6}return new Mu(e,i,T,f)},n.prototype.rgbaToHex=function(t,e){var i="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(i+=(256|Math.round(255*t.a)).toString(16).substr(1)),i},n.prototype.denormalizeRGBA=function(t){return new go(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)},n.prototype.stringToHsva=function(t,e){t===void 0&&(t=""),e===void 0&&(e=!1);var i=null;t=(t||"").toLowerCase();var r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(S){return new go(parseInt(S[2],10)/255,parseInt(S[3],10)/255,parseInt(S[4],10)/255,isNaN(parseFloat(S[5]))?1:parseFloat(S[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(S){return new Uo(parseInt(S[2],10)/360,parseInt(S[3],10)/100,parseInt(S[4],10)/100,isNaN(parseFloat(S[5]))?1:parseFloat(S[5]))}}];for(var o in r.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(S){return new go(parseInt(S[1],16)/255,parseInt(S[2],16)/255,parseInt(S[3],16)/255,parseInt(S[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(S){return new go(parseInt(S[1],16)/255,parseInt(S[2],16)/255,parseInt(S[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(S){return new go(parseInt(S[1]+S[1],16)/255,parseInt(S[2]+S[2],16)/255,parseInt(S[3]+S[3],16)/255,1)}}),r)if(r.hasOwnProperty(o)){var s=r[o],f=s.re.exec(t),_=f&&s.parse(f);if(_)return _ instanceof go?i=this.rgbaToHsva(_):_ instanceof Uo&&(i=this.hsla2hsva(_)),i}return i},n.prototype.outputFormat=function(t,e,i){switch(e==="auto"&&(e=t.a<1?"rgba":"hex"),e){case"hsla":var r=this.hsva2hsla(t),o=new Uo(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100);return t.a<1||i==="always"?"hsla("+o.h+","+o.s+"%,"+o.l+"%,"+o.a+")":"hsl("+o.h+","+o.s+"%,"+o.l+"%)";case"rgba":var s=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||i==="always"?"rgba("+s.r+","+s.g+","+s.b+","+Math.round(100*s.a)/100+")":"rgb("+s.r+","+s.g+","+s.b+")";default:var f=i==="always"||i==="forced";return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),f)}},n}(),dd=function(){function n(t,e,i){this.elRef=t,this.cdRef=e,this.service=i,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[fo.HEX,fo.RGBA,fo.HSLA],this.useRootViewContainer=!1}return n.prototype.handleEsc=function(t){this.show&&this.cpDialogDisplay==="popup"&&this.onCancelColor(t)},n.prototype.handleEnter=function(t){this.show&&this.cpDialogDisplay==="popup"&&this.onAcceptColor(t)},n.prototype.ngOnInit=function(){var t=this;this.slider=new t0(0,0,0,0),this.sliderDimMax=new e0(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpOutputFormat==="rgba"?fo.RGBA:this.cpOutputFormat==="hsla"?fo.HSLA:fo.HEX,this.listenerMouseDown=function(e){t.onMouseDown(e)},this.listenerResize=function(){t.onResize()},this.openDialog(this.initialColor,!1)},n.prototype.ngOnDestroy=function(){this.closeDialog()},n.prototype.ngAfterViewInit=function(){this.cpWidth===230&&this.cpDialogDisplay!=="inline"||(this.sliderDimMax=new e0(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())},n.prototype.openDialog=function(t,e){e===void 0&&(e=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()},n.prototype.closeDialog=function(){this.closeColorPicker()},n.prototype.setupDialog=function(t,e,i,r,o,s,f,_,S,T,F,U,J,ct,st,xt,yt,Dt,Pt,At,qt,Zt,ie,ce,Yt,Wt,Le,Ke,dn,an,mn,en){this.setInitialColor(i),this.setColorMode(_),this.isIE10=function(){var ln="";typeof navigator<"u"&&(ln=navigator.userAgent.toLowerCase());var Sn=ln.indexOf("msie ");return Sn>0&&parseInt(ln.substring(Sn+5,ln.indexOf(".",Sn)),10)}()===10,this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=F,this.cpAlphaChannel=S,this.cpOutputFormat=T,this.cpDialogDisplay=s,this.cpIgnoredElements=U,this.cpSaveClickOutside=J,this.useRootViewContainer=ct,this.width=this.cpWidth=parseInt(r,10),this.height=this.cpHeight=parseInt(o,10),this.cpPosition=st,this.cpPositionOffset=parseInt(xt,10),this.cpOKButton=ie,this.cpOKButtonText=Yt,this.cpOKButtonClass=ce,this.cpCancelButton=Wt,this.cpCancelButtonText=Ke,this.cpCancelButtonClass=Le,this.fallbackColor=f||"#fff",this.setPresetConfig(Dt,Pt),this.cpMaxPresetColorsLength=At,this.cpPresetEmptyMessage=qt,this.cpPresetEmptyMessageClass=Zt,this.cpAddColorButton=dn,this.cpAddColorButtonText=mn,this.cpAddColorButtonClass=an,this.cpRemoveColorButtonClass=en,yt||(this.dialogArrowOffset=0),s==="inline"&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),T==="hex"&&S!=="always"&&S!=="forced"&&(this.cpAlphaChannel="disabled")},n.prototype.setColorMode=function(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}},n.prototype.setInitialColor=function(t){this.initialColor=t},n.prototype.setPresetConfig=function(t,e){this.cpPresetLabel=t,this.cpPresetColors=e},n.prototype.setColorFromString=function(t,e,i){var r;e===void 0&&(e=!0),i===void 0&&(i=!0),(this.cpAlphaChannel==="always"||this.cpAlphaChannel==="forced")&&((r=this.service.stringToHsva(t,!0))||this.hsva)||(r=this.service.stringToHsva(t,!1)),r||this.hsva||(r=this.service.stringToHsva(this.fallbackColor,!1)),r&&(this.hsva=r,this.sliderH=this.hsva.h,this.updateColorPicker(e,i))},n.prototype.onResize=function(){this.position==="fixed"?this.setDialogPosition():this.cpDialogDisplay!=="inline"&&this.closeColorPicker()},n.prototype.onDragEnd=function(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})},n.prototype.onDragStart=function(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})},n.prototype.onMouseDown=function(t){this.isIE10||this.cpDialogDisplay!=="popup"||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||this.cpIgnoredElements.filter(function(e){return e===t.target}).length!==0||(this.cpSaveClickOutside||(this.setColorFromString(this.initialColor,!1),this.directiveInstance.colorChanged(this.initialColor)),this.closeColorPicker())},n.prototype.onAcceptColor=function(t){t.stopPropagation(),this.cpDialogDisplay==="popup"&&this.closeColorPicker(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor)},n.prototype.onCancelColor=function(t){t.stopPropagation(),this.setColorFromString(this.initialColor,!0),this.cpDialogDisplay==="popup"&&(this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},n.prototype.onFormatToggle=function(t){var e=this.dialogInputFields.length,i=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[i]},n.prototype.onColorChange=function(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},n.prototype.onHueChange=function(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},n.prototype.onValueChange=function(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})},n.prototype.onAlphaChange=function(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},n.prototype.onHexInput=function(t){if(t===null)this.updateColorPicker();else{t&&t[0]!=="#"&&(t="#"+t);var e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;this.cpAlphaChannel==="always"&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);var i=e.test(t);i&&(t.length<5&&(t="#"+t.substring(1).split("").map(function(r){return r+r}).join("")),this.cpAlphaChannel==="forced"&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",value:t,valid:i,color:this.outputColor})}},n.prototype.onRedInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"red",value:e.r,color:this.outputColor})},n.prototype.onBlueInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"blue",value:e.b,color:this.outputColor})},n.prototype.onGreenInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"green",value:e.g,color:this.outputColor})},n.prototype.onHueInput=function(t){this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"hue",value:this.hsva.h,color:this.outputColor})},n.prototype.onValueInput=function(t){this.hsva.v=t.v/t.rg,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"value",value:this.hsva.v,color:this.outputColor})},n.prototype.onAlphaInput=function(t){this.hsva.a=t.v/t.rg,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"alpha",value:this.hsva.a,color:this.outputColor})},n.prototype.onLightnessInput=function(t){var e=this.service.hsva2hsla(this.hsva);e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"lightness",value:e.l,color:this.outputColor})},n.prototype.onSaturationInput=function(t){var e=this.service.hsva2hsla(this.hsva);e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"saturation",value:e.s,color:this.outputColor})},n.prototype.onAddPresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors.filter(function(i){return i===e}).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},n.prototype.onRemovePresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(function(i){return i!==e}),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},n.prototype.openColorPicker=function(){var t=this;this.show||(this.show=!0,this.hidden=!0,setTimeout(function(){t.hidden=!1,t.setDialogPosition(),t.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||document.addEventListener("mousedown",this.listenerMouseDown),window.addEventListener("resize",this.listenerResize))},n.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||document.removeEventListener("mousedown",this.listenerMouseDown),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},n.prototype.updateColorPicker=function(t,e){if(t===void 0&&(t=!0),e===void 0&&(e=!0),this.sliderDimMax){this.cpColorMode===2&&(this.hsva.s=0);var i=this.outputColor,r=this.service.hsva2hsla(this.hsva),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),s=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Mu(this.sliderH||this.hsva.h,1,1,1)));e&&(this.hslaText=new Uo(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100),this.rgbaText=new go(o.r,o.g,o.b,Math.round(100*o.a)/100),this.hexText=this.service.rgbaToHex(o,this.cpAlphaChannel==="always"),this.hexAlpha=this.rgbaText.a),this.cpOutputFormat==="auto"&&this.hsva.a<1&&(this.format=this.hsva.a<1?fo.RGBA:fo.HEX),this.hueSliderColor="rgb("+s.r+","+s.g+","+s.b+")",this.alphaSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.slider=new t0((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&i!==this.outputColor&&this.directiveInstance.colorChanged(this.outputColor)}},n.prototype.setDialogPosition=function(){if(this.cpDialogDisplay==="inline")this.position="relative";else{for(var t="static",e="",i=void 0,r=null,o=null,s=this.directiveElementRef.nativeElement.parentNode,f=this.dialogElement.nativeElement.offsetHeight;s!==null&&s.tagName!=="HTML";){if((t=(i=window.getComputedStyle(s)).getPropertyValue("position"))!=="static"&&r===null&&(r=s),(e=i.getPropertyValue("transform"))&&e!=="none"&&o===null&&(o=s),t==="fixed"){r=o;break}s=s.parentNode}var _=this.createDialogBox(this.directiveElementRef.nativeElement,t!=="fixed");if(this.useRootViewContainer||t==="fixed"&&(!r||r instanceof HTMLUnknownElement))this.top=_.top,this.left=_.left;else{r===null&&(r=s);var S=this.createDialogBox(r,t!=="fixed");this.top=_.top-S.top,this.left=_.left-S.left}t==="fixed"&&(this.position="fixed"),this.cpPosition==="left"?(this.top+=_.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):this.cpPosition==="top"?(this.arrowTop=f-1,this.top-=f+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*_.width-this.dialogArrowOffset):this.cpPosition==="bottom"?(this.top+=_.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*_.width-this.dialogArrowOffset):(this.top+=_.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=_.width+this.dialogArrowSize-2)}},n.prototype.isDescendant=function(t,e){for(var i=e.parentNode;i!==null;){if(i===t)return!0;i=i.parentNode}return!1},n.prototype.createDialogBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},n}(),K2=function(){function n(t,e,i,r,o,s){this.injector=t,this.cfr=e,this.appRef=i,this.vcRef=r,this.elRef=o,this._service=s,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="right",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new le(!0),this.cpToggleChange=new le(!0),this.cpSliderChange=new le(!0),this.cpSliderDragEnd=new le(!0),this.cpSliderDragStart=new le(!0),this.colorPickerOpen=new le(!0),this.colorPickerClose=new le(!0),this.colorPickerCancel=new le(!0),this.colorPickerSelect=new le(!0),this.colorPickerChange=new le(!1),this.cpPresetColorsChange=new le(!0)}return n.prototype.handleClick=function(){this.inputFocus()},n.prototype.handleFocus=function(){this.inputFocus()},n.prototype.handleInput=function(t){this.inputChange(t)},n.prototype.ngOnDestroy=function(){this.cmpRef!==void 0&&this.cmpRef.destroy()},n.prototype.ngOnChanges=function(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&(this.cpDialogDisplay==="inline"&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&this.cpDialogDisplay!=="inline"&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},n.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var t=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&this.cpDialogDisplay!=="inline"){var e=this.injector.get(this.appRef.componentTypes[0]);(t=e.vcRef||e.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var i=this.cfr.resolveComponentFactory(dd),r=ih.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(i,0,r,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}},n.prototype.closeDialog=function(){this.dialog&&this.cpDialogDisplay==="popup"&&this.dialog.closeDialog()},n.prototype.stateChanged=function(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},n.prototype.colorChanged=function(t,e){e===void 0&&(e=!0),this.ignoreChanges=e,this.colorPickerChange.emit(t)},n.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},n.prototype.colorSelected=function(t){this.colorPickerSelect.emit(t)},n.prototype.inputFocus=function(){var t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter(function(i){return i===t});this.cpDisabled||e.length||(typeof document<"u"&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())},n.prototype.inputChange=function(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))},n.prototype.inputChanged=function(t){this.cpInputChange.emit(t)},n.prototype.sliderChanged=function(t){this.cpSliderChange.emit(t)},n.prototype.sliderDragEnd=function(t){this.cpSliderDragEnd.emit(t)},n.prototype.sliderDragStart=function(t){this.cpSliderDragStart.emit(t)},n.prototype.presetColorsChanged=function(t){this.cpPresetColorsChange.emit(t)},n}(),n0=function(){return function(){}}(),Z2=Pe({encapsulation:2,styles:[`.color-picker {
  position: absolute;
  z-index: 100000;

  width: 230px;
  height: auto;
  border: #777 solid 1px;

  cursor: default;

  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;

  user-select: none;
  background-color: #fff;
}

.color-picker * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;

  box-sizing: border-box;
  margin: 0;

  font-size: 11px;
}

.color-picker input {
  width: 0;
  height: 26px;
  min-width: 0;

  font-size: 13px;
  text-align: center;
  color: #000;
}

.color-picker input:invalid,
.color-picker input:-moz-ui-invalid,
.color-picker input:-moz-submit-invalid {
  box-shadow: none;
}

.color-picker input::-webkit-inner-spin-button,
.color-picker input::-webkit-outer-spin-button {
  margin: 0;

  -webkit-appearance: none;
}

.color-picker .arrow {
  position: absolute;
  z-index: 999999;

  width: 0;
  height: 0;
  border-style: solid;
}

.color-picker .arrow.arrow-top {
  left: 8px;

  border-width: 10px 5px;
  border-color: #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);
}

.color-picker .arrow.arrow-left {
  top: 8px;
  left: 100%;

  border-width: 5px 10px;
  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;
}

.color-picker .arrow.arrow-right {
  top: 8px;
  left: -20px;

  border-width: 5px 10px;
  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);
}

.color-picker .arrow.arrow-bottom {
  top: -20px;
  left: 8px;

  border-width: 10px 5px;
  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0);
}

.color-picker .cursor {
  position: relative;

  width: 16px;
  height: 16px;
  border: #222 solid 2px;
  border-radius: 50%;

  cursor: default;
}

.color-picker .box {
  display: flex;
  padding: 4px 8px;
}

.color-picker .left {
  position: relative;

  padding: 16px 8px;
}

.color-picker .right {
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;

  flex: 1 1 auto;

  padding: 12px 8px;
}

.color-picker .button-area {
  padding: 0 16px 16px;

  text-align: right;
}

.color-picker .preset-area {
  padding: 4px 15px;
}

.color-picker .preset-area .preset-label {
  overflow: hidden;
  width: 100%;
  padding: 4px;

  font-size: 11px;
  white-space: nowrap;
  text-align: left;
  text-overflow: ellipsis;
  color: #555;
}

.color-picker .preset-area .preset-color {
  position: relative;

  display: inline-block;
  width: 18px;
  height: 18px;
  margin: 4px 6px 8px;
  border: #a9a9a9 solid 1px;
  border-radius: 25%;

  cursor: pointer;
}

.color-picker .preset-area .preset-empty-message {
  min-height: 18px;
  margin-top: 4px;
  margin-bottom: 8px;

  font-style: italic;
  text-align: center;
}

.color-picker .hex-text {
  width: 100%;
  padding: 4px 8px;

  font-size: 11px;
}

.color-picker .hex-text .box {
  padding: 0 24px 8px 8px;
}

.color-picker .hex-text .box div {
  float: left;

  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;

  flex: 1 1 auto;

  text-align: center;
  color: #555;
  clear: left;
}

.color-picker .hex-text .box input {
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;

  flex: 1 1 auto;
  padding: 1px;
  border: #a9a9a9 solid 1px;
}

.color-picker .hex-alpha .box div:first-child,
.color-picker .hex-alpha .box input:first-child {
  flex-grow: 3;
  margin-right: 8px;
}

.color-picker .hsla-text,
.color-picker .rgba-text,
.color-picker .value-text {
  width: 100%;
  padding: 4px 8px;

  font-size: 11px;
}

.color-picker .hsla-text .box,
.color-picker .rgba-text .box {
  padding: 0 24px 8px 8px;
}

.color-picker .value-text .box {
  padding: 0 8px 8px;
}

.color-picker .hsla-text .box div,
.color-picker .rgba-text .box div,
.color-picker .value-text .box div {
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;

  flex: 1 1 auto;
  margin-right: 8px;

  text-align: center;
  color: #555;
}

.color-picker .hsla-text .box div:last-child,
.color-picker .rgba-text .box div:last-child,
.color-picker .value-text .box div:last-child {
  margin-right: 0;
}

.color-picker .hsla-text .box input,
.color-picker .rgba-text .box input,
.color-picker .value-text .box input {
  float: left;

  -webkit-flex: 1;
  -ms-flex: 1;

  flex: 1;
  padding: 1px;
  margin: 0 8px 0 0;
  border: #a9a9a9 solid 1px;
}

.color-picker .hsla-text .box input:last-child,
.color-picker .rgba-text .box input:last-child,
.color-picker .value-text .box input:last-child {
  margin-right: 0;
}

.color-picker .hue-alpha {
  align-items: center;
  margin-bottom: 3px;
}

.color-picker .hue {
  direction: ltr;

  width: 100%;
  height: 16px;
  margin-bottom: 16px;
  border: none;

  cursor: pointer;
  background-size: 100% 100%;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC');
}

.color-picker .value {
  direction: rtl;

  width: 100%;
  height: 16px;
  margin-bottom: 16px;
  border: none;

  cursor: pointer;
  background-size: 100% 100%;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=');
}

.color-picker .alpha {
  direction: ltr;

  width: 100%;
  height: 16px;
  border: none;

  cursor: pointer;
  background-size: 100% 100%;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==');
}

.color-picker .type-policy {
  position: absolute;
  top: 218px;
  right: 12px;

  width: 16px;
  height: 24px;

  background-size: 8px 16px;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==');
  background-repeat: no-repeat;
  background-position: center;
}

.color-picker .type-policy .type-policy-arrow {
  display: block;

  width: 100%;
  height: 50%;
}

.color-picker .selected-color {
  position: absolute;
  top: 16px;
  left: 8px;

  width: 40px;
  height: 40px;
  border: 1px solid #a9a9a9;
  border-radius: 50%;
}

.color-picker .selected-color-background {
  width: 40px;
  height: 40px;
  border-radius: 50%;

  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC');
}

.color-picker .saturation-lightness {
  direction: ltr;

  width: 100%;
  height: 130px;
  border: none;

  cursor: pointer;
  background-size: 100% 100%;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==');
}

.color-picker .cp-add-color-button-class {
  position: absolute;

  display: inline;
  padding: 0;
  margin: 3px -3px;
  border: 0;

  cursor: pointer;
  background: transparent;
}

.color-picker .cp-add-color-button-class:hover {
  text-decoration: underline;
}

.color-picker .cp-add-color-button-class:disabled {
  cursor: not-allowed;
  color: #999;
}

.color-picker .cp-add-color-button-class:disabled:hover {
  text-decoration: none;
}

.color-picker .cp-remove-color-button-class {
  position: absolute;
  top: -5px;
  right: -5px;

  display: block;
  width: 10px;
  height: 10px;
  border-radius: 50%;

  cursor: pointer;
  text-align: center;
  background: #fff;

  box-shadow: 1px 1px 5px #333;
}

.color-picker .cp-remove-color-button-class::before {
  content: 'x';

  position: relative;
  bottom: 3.5px;

  display: inline-block;

  font-size: 10px;
}
`],data:{}});function J2(n){return wt(0,[(n()(),P(0,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,$r(1,"arrow arrow-",i.cpPosition,""),i.arrowTop)})}function Q2(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[["class","saturation-lightness"]],[[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,i){var r=!0,o=t.component;return e==="mousedown"&&(r=d(t,1).mouseDown(i)!==!1&&r),e==="touchstart"&&(r=d(t,1).touchStart(i)!==!1&&r),e==="newValue"&&(r=o.onColorChange(i)!==!1&&r),e==="dragStart"&&(r=o.onDragStart("saturation-lightness")!==!1&&r),e==="dragEnd"&&(r=o.onDragEnd("saturation-lightness")!==!1&&r),r},null,null)),D(1,16384,null,0,Lu,[lt],{rgX:[0,"rgX"],rgY:[1,"rgY"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(n()(),P(2,0,null,null,0,"div",[["class","cursor"]],[[4,"top","px"],[4,"left","px"]],null,null,null,null))],function(t,e){t(e,1,0,1,1)},function(t,e){var i=e.component;t(e,0,0,i.hueSliderColor),t(e,2,0,i.slider==null?null:i.slider.v,i.slider==null?null:i.slider.s)})}function $2(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],function(t,e,i){var r=!0,o=t.component;return e==="click"&&(r=o.onAddPresetColor(i,o.selectedColor)!==!1&&r),r},null,null)),(n()(),Gt(1,null,[" "," "]))],null,function(t,e){var i=e.component;t(e,0,0,$r(1,"",i.cpAddColorButtonClass,""),i.cpPresetColors&&i.cpPresetColors.length>=i.cpMaxPresetColorsLength),t(e,1,0,i.cpAddColorButtonText)})}function tS(n){return wt(0,[(n()(),P(0,0,null,null,0,"div",[["style","height: 16px;"]],null,null,null,null,null))],null,null)}function eS(n){return wt(0,[(n()(),P(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,1).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onAlphaInput(i)!==!1&&r),r},null,null)),D(1,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var i=e.component;t(e,0,0,i.hslaText==null?null:i.hslaText.a)})}function nS(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["A"]))],null,null)}function iS(n){return wt(0,[(n()(),P(0,0,null,null,18,"div",[["class","hsla-text"]],[[4,"display",null]],null,null,null,null)),(n()(),P(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(2,0,null,null,1,"input",[["max","360"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,3).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onHueInput(i)!==!1&&r),r},null,null)),D(3,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),P(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,5).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onSaturationInput(i)!==!1&&r),r},null,null)),D(5,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),P(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,7).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onLightnessInput(i)!==!1&&r),r},null,null)),D(7,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),Rt(16777216,null,null,1,null,eS)),D(9,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(11,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["H"])),(n()(),P(13,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["S"])),(n()(),P(15,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["L"])),(n()(),Rt(16777216,null,null,1,null,nS)),D(18,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,3,0,360),t(e,5,0,100),t(e,7,0,100),t(e,9,0,i.cpAlphaChannel!=="disabled"),t(e,18,0,i.cpAlphaChannel!=="disabled")},function(t,e){var i=e.component;t(e,0,0,i.format!==2?"none":"block"),t(e,2,0,i.hslaText==null?null:i.hslaText.h),t(e,4,0,i.hslaText==null?null:i.hslaText.s),t(e,6,0,i.hslaText==null?null:i.hslaText.l)})}function rS(n){return wt(0,[(n()(),P(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,1).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onAlphaInput(i)!==!1&&r),r},null,null)),D(1,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var i=e.component;t(e,0,0,i.rgbaText==null?null:i.rgbaText.a)})}function oS(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["A"]))],null,null)}function sS(n){return wt(0,[(n()(),P(0,0,null,null,18,"div",[["class","rgba-text"]],[[4,"display",null]],null,null,null,null)),(n()(),P(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(2,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,3).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onRedInput(i)!==!1&&r),r},null,null)),D(3,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),P(4,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,5).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onGreenInput(i)!==!1&&r),r},null,null)),D(5,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),P(6,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,7).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onBlueInput(i)!==!1&&r),r},null,null)),D(7,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),Rt(16777216,null,null,1,null,rS)),D(9,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(11,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["R"])),(n()(),P(13,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["G"])),(n()(),P(15,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["B"])),(n()(),Rt(16777216,null,null,1,null,oS)),D(18,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,3,0,255),t(e,5,0,255),t(e,7,0,255),t(e,9,0,i.cpAlphaChannel!=="disabled"),t(e,18,0,i.cpAlphaChannel!=="disabled")},function(t,e){var i=e.component;t(e,0,0,i.format!==1?"none":"block"),t(e,2,0,i.rgbaText==null?null:i.rgbaText.r),t(e,4,0,i.rgbaText==null?null:i.rgbaText.g),t(e,6,0,i.rgbaText==null?null:i.rgbaText.b)})}function aS(n){return wt(0,[(n()(),P(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,1).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onAlphaInput(i)!==!1&&r),r},null,null)),D(1,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){t(e,0,0,e.component.hexAlpha)})}function lS(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["A"]))],null,null)}function uS(n){return wt(0,[(n()(),P(0,0,null,null,10,"div",[["class","hex-text"]],[[2,"hex-alpha",null],[4,"display",null]],null,null,null,null)),(n()(),P(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(2,0,null,null,1,"input",[],[[8,"value",0]],[[null,"blur"],[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,3).inputChange(i)!==!1&&r),e==="blur"&&(r=o.onHexInput(null)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onHexInput(i)!==!1&&r),r},null,null)),D(3,16384,null,0,er,[],null,{newValue:"newValue"}),(n()(),Rt(16777216,null,null,1,null,aS)),D(5,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(7,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["Hex"])),(n()(),Rt(16777216,null,null,1,null,lS)),D(10,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,5,0,i.cpAlphaChannel==="forced"),t(e,10,0,i.cpAlphaChannel==="forced")},function(t,e){var i=e.component;t(e,0,0,i.cpAlphaChannel==="forced",i.format!==0?"none":"block"),t(e,2,0,i.hexText)})}function cS(n){return wt(0,[(n()(),P(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,1).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onAlphaInput(i)!==!1&&r),r},null,null)),D(1,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var i=e.component;t(e,0,0,i.hslaText==null?null:i.hslaText.a)})}function hS(n){return wt(0,[(n()(),P(0,0,null,null,10,"div",[["class","value-text"]],null,null,null,null,null)),(n()(),P(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,3).inputChange(i)!==!1&&r),e==="keyup.enter"&&(r=o.onAcceptColor(i)!==!1&&r),e==="newValue"&&(r=o.onValueInput(i)!==!1&&r),r},null,null)),D(3,16384,null,0,er,[],{rg:[0,"rg"]},{newValue:"newValue"}),(n()(),Rt(16777216,null,null,1,null,cS)),D(5,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(n()(),P(7,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["V"])),(n()(),P(9,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(-1,null,["A"]))],function(t,e){var i=e.component;t(e,3,0,100),t(e,5,0,i.cpAlphaChannel!=="disabled")},function(t,e){var i=e.component;t(e,2,0,i.hslaText==null?null:i.hslaText.l)})}function pS(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[["class","type-policy"]],null,null,null,null,null)),(n()(),P(1,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.onFormatToggle(1)!==!1&&r),r},null,null)),(n()(),P(2,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.onFormatToggle(-1)!==!1&&r),r},null,null))],null,null)}function dS(n){return wt(0,[(n()(),P(0,0,null,null,0,"span",[],[[8,"className",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.onRemovePresetColor(i,t.parent.context.$implicit)!==!1&&r),r},null,null))],null,function(t,e){t(e,0,0,$r(1,"",e.component.cpRemoveColorButtonClass,""))})}function fS(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[["class","preset-color"]],[[4,"backgroundColor",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.setColorFromString(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),Rt(16777216,null,null,1,null,dS)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.cpAddColorButton)},function(t,e){t(e,0,0,e.context.$implicit)})}function gS(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,fS)),D(2,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.cpPresetColors)},null)}function mS(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){var i=e.component;t(e,0,0,$r(1,"",i.cpPresetEmptyMessageClass,"")),t(e,1,0,i.cpPresetEmptyMessage)})}function vS(n){return wt(0,[(n()(),P(0,0,null,null,7,"div",[["class","preset-area"]],null,null,null,null,null)),(n()(),P(1,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),P(2,0,null,null,1,"div",[["class","preset-label"]],null,null,null,null,null)),(n()(),Gt(3,null,["",""])),(n()(),Rt(16777216,null,null,1,null,gS)),D(5,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,mS)),D(7,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,5,0,i.cpPresetColors==null?null:i.cpPresetColors.length),t(e,7,0,!(i.cpPresetColors!=null&&i.cpPresetColors.length)&&i.cpAddColorButton)},function(t,e){t(e,3,0,e.component.cpPresetLabel)})}function yS(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.onCancelColor(i)!==!1&&r),r},null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){var i=e.component;t(e,0,0,$r(1,"",i.cpCancelButtonClass,"")),t(e,1,0,i.cpCancelButtonText)})}function bS(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.onAcceptColor(i)!==!1&&r),r},null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){var i=e.component;t(e,0,0,$r(1,"",i.cpOKButtonClass,"")),t(e,1,0,i.cpOKButtonText)})}function _S(n){return wt(0,[(n()(),P(0,0,null,null,4,"div",[["class","button-area"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,yS)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,bS)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,2,0,i.cpCancelButton),t(e,4,0,i.cpOKButton)},null)}function wS(n){return wt(0,[Me(402653184,1,{dialogElement:0}),Me(402653184,2,{hueSlider:0}),Me(402653184,3,{alphaSlider:0}),(n()(),P(3,0,[[1,0],["dialogPopup",1]],null,36,"div",[["class","color-picker"]],[[4,"visibility",null],[4,"top","px"],[4,"left","px"],[4,"position",null],[4,"height","px"],[4,"width","px"]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=i.stopPropagation()!==!1&&r),r},null,null)),(n()(),Rt(16777216,null,null,1,null,J2)),D(5,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,Q2)),D(7,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(8,0,null,null,17,"div",[["class","hue-alpha box"]],null,null,null,null,null)),(n()(),P(9,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(n()(),P(10,0,null,null,0,"div",[["class","selected-color-background"]],null,null,null,null,null)),(n()(),P(11,0,null,null,0,"div",[["class","selected-color"]],[[4,"background-color",null]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,$2)),D(13,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(14,0,null,null,11,"div",[["class","right"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,tS)),D(16,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(17,0,[[2,0],["hueSlider",1]],null,2,"div",[["class","hue"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,i){var r=!0,o=t.component;return e==="mousedown"&&(r=d(t,18).mouseDown(i)!==!1&&r),e==="touchstart"&&(r=d(t,18).touchStart(i)!==!1&&r),e==="newValue"&&(r=o.onHueChange(i)!==!1&&r),e==="dragStart"&&(r=o.onDragStart("hue")!==!1&&r),e==="dragEnd"&&(r=o.onDragEnd("hue")!==!1&&r),r},null,null)),D(18,16384,null,0,Lu,[lt],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(n()(),P(19,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(n()(),P(20,0,[["valueSlider",1]],null,2,"div",[["class","value"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,i){var r=!0,o=t.component;return e==="mousedown"&&(r=d(t,21).mouseDown(i)!==!1&&r),e==="touchstart"&&(r=d(t,21).touchStart(i)!==!1&&r),e==="newValue"&&(r=o.onValueChange(i)!==!1&&r),e==="dragStart"&&(r=o.onDragStart("value")!==!1&&r),e==="dragEnd"&&(r=o.onDragEnd("value")!==!1&&r),r},null,null)),D(21,16384,null,0,Lu,[lt],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(n()(),P(22,0,null,null,0,"div",[["class","cursor"]],[[4,"right","px"]],null,null,null,null)),(n()(),P(23,0,[[3,0],["alphaSlider",1]],null,2,"div",[["class","alpha"]],[[4,"display",null],[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,i){var r=!0,o=t.component;return e==="mousedown"&&(r=d(t,24).mouseDown(i)!==!1&&r),e==="touchstart"&&(r=d(t,24).touchStart(i)!==!1&&r),e==="newValue"&&(r=o.onAlphaChange(i)!==!1&&r),e==="dragStart"&&(r=o.onDragStart("alpha")!==!1&&r),e==="dragEnd"&&(r=o.onDragEnd("alpha")!==!1&&r),r},null,null)),D(24,16384,null,0,Lu,[lt],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(n()(),P(25,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,iS)),D(27,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,sS)),D(29,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,uS)),D(31,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,hS)),D(33,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,pS)),D(35,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,vS)),D(37,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,_S)),D(39,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,5,0,i.cpDialogDisplay=="popup"),t(e,7,0,(i.cpColorMode||1)===1),t(e,13,0,i.cpAddColorButton),t(e,16,0,i.cpAlphaChannel==="disabled"),t(e,18,0,1),t(e,21,0,1),t(e,24,0,1),t(e,27,0,!i.cpDisableInput&&(i.cpColorMode||1)===1),t(e,29,0,!i.cpDisableInput&&(i.cpColorMode||1)===1),t(e,31,0,!i.cpDisableInput&&(i.cpColorMode||1)===1),t(e,33,0,!i.cpDisableInput&&(i.cpColorMode||1)===2),t(e,35,0,!i.cpDisableInput&&(i.cpColorMode||1)===1),t(e,37,0,(i.cpPresetColors==null?null:i.cpPresetColors.length)||i.cpAddColorButton),t(e,39,0,i.cpOKButton||i.cpCancelButton)},function(t,e){var i=e.component;t(e,3,0,i.hidden||!i.show?"hidden":"visible",i.top,i.left,i.position,i.cpHeight,i.cpWidth),t(e,11,0,i.selectedColor),t(e,17,0,(i.cpColorMode||1)===1?"block":"none"),t(e,19,0,i.slider==null?null:i.slider.h),t(e,20,0,(i.cpColorMode||1)===2?"block":"none"),t(e,22,0,i.slider==null?null:i.slider.v),t(e,23,0,i.cpAlphaChannel==="disabled"?"none":"block",i.alphaSliderColor),t(e,25,0,i.slider==null?null:i.slider.a)})}function xS(n){return wt(0,[(n()(),P(0,0,null,null,1,"color-picker",[],null,[["document","keyup.esc"],["document","keyup.enter"]],function(t,e,i){var r=!0;return e==="document:keyup.esc"&&(r=d(t,1).handleEsc(i)!==!1&&r),e==="document:keyup.enter"&&(r=d(t,1).handleEnter(i)!==!1&&r),r},wS,Z2)),D(1,4440064,null,0,dd,[lt,ee,Nu],null,null)],function(t,e){t(e,1,0)},null)}var CS=$i("color-picker",dd,xS,{},{},[]),SS=new RegExp("[^#a-f\\d]","gi"),kS=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i"),Bu=function(){function n(t,e){this.data=t,this.overlayPanelRef=e}return n.prototype.ngOnInit=function(){var t=this;this.color=this.getInitialColor(),setTimeout(function(){t.trigger.nativeElement.click()})},n.prototype.emitSelectedEvent=function(t){this.color=t;var e="rgba("+function(i){if(typeof i!="string"||SS.test(i)||!kS.test(i))throw new TypeError("Expected a valid hex string");var r=255;(i=i.replace(/^#/,"")).length===8&&(r=parseInt(i.slice(6,8),16)/255,i=i.substring(0,6)),i.length===4&&(r=parseInt(i.slice(3,4).repeat(2),16)/255,i=i.substring(0,3)),i.length===3&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);var o=parseInt(i,16);return[o>>16,o>>8&255,255&o,r]}(t).join(",")+")";this.overlayPanelRef.emitValue(e)},n.prototype.getInitialColor=function(){var t=this.data&&this.data.color||null;return t&&t.replace(/ /g,"")==="rgba(0,0,0,0)"&&(t=void 0),t},n}(),ES=Pe({encapsulation:2,styles:[["colorpicker-panel{display:block;width:230px;height:277px}colorpicker-panel>.trigger{display:block}"]],data:{}});function OS(n){return wt(0,[Me(402653184,1,{trigger:0}),(n()(),P(1,16777216,[[1,0],["trigger",1]],null,1,"div",[["class","trigger"]],null,[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,e,i){var r=!0,o=t.component;return e==="click"&&(r=d(t,2).handleClick()!==!1&&r),e==="focus"&&(r=d(t,2).handleFocus()!==!1&&r),e==="input"&&(r=d(t,2).handleInput(i)!==!1&&r),e==="colorPickerChange"&&(r=o.emitSelectedEvent(i)!==!1&&r),r},null,null)),D(2,671744,null,0,K2,[In,or,Jr,jt,lt,Nu],{colorPicker:[0,"colorPicker"],cpToggle:[1,"cpToggle"],cpOutputFormat:[2,"cpOutputFormat"],cpAlphaChannel:[3,"cpAlphaChannel"],cpDialogDisplay:[4,"cpDialogDisplay"]},{colorPickerChange:"colorPickerChange"})],function(t,e){t(e,2,0,e.component.color,!1,"hex","always","inline")},null)}function TS(n){return wt(0,[(n()(),P(0,0,null,null,1,"colorpicker-panel",[],null,null,null,OS,ES)),D(1,114688,null,0,Bu,[[2,Ky],zo],null,null)],function(t,e){t(e,1,0)},null)}var IS=$i("colorpicker-panel",Bu,TS,{},{},[]),AS=20;function i0(n){return Error('Tooltip position "'+n+'" is invalid.')}var Oi=new de("mat-tooltip-scroll-strategy");function PS(n){return function(){return n.scrollStrategies.reposition({scrollThrottle:AS})}}var Fi=new de("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Mi=function(){function n(t,e,i,r,o,s,f,_,S,T,F,U){var J=this;this._overlay=t,this._elementRef=e,this._scrollDispatcher=i,this._viewContainerRef=r,this._ngZone=o,this._ariaDescriber=f,this._focusMonitor=_,this._dir=T,this._defaultOptions=F,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new x,this._scrollStrategy=S;var ct=e.nativeElement,st=ct.style,xt=typeof window>"u"||window.Hammer||U;s.IOS||s.ANDROID?xt||this._manualListeners.set("touchstart",function(){return J.show()}):this._manualListeners.set("mouseenter",function(){return J.show()}).set("mouseleave",function(){return J.hide()}),this._manualListeners.forEach(function(yt,Dt){return ct.addEventListener(Dt,yt)}),ct.nodeName!=="INPUT"&&ct.nodeName!=="TEXTAREA"||(st.webkitUserSelect=st.userSelect=st.msUserSelect=""),ct.draggable&&st.webkitUserDrag==="none"&&(st.webkitUserDrag=""),_.monitor(e).pipe(Zn(this._destroyed)).subscribe(function(yt){yt?yt==="keyboard"&&o.run(function(){return J.show()}):o.run(function(){return J.hide(0)})})}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=rn(t),this._disabled&&this.hide(0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this._message},set:function(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=t!=null?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){var t=this;this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach(function(e,i){t._elementRef.nativeElement.removeEventListener(i,e)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)},n.prototype.show=function(t){var e=this;if(t===void 0&&(t=this.showDelay),!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var i=this._createOverlay();this._detach(),this._portal=this._portal||new Bo(fd,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Zn(this._destroyed)).subscribe(function(){return e._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}},n.prototype.hide=function(t){t===void 0&&(t=this.hideDelay),this._tooltipInstance&&this._tooltipInstance.hide(t)},n.prototype.toggle=function(){this._isTooltipVisible()?this.hide():this.show()},n.prototype._isTooltipVisible=function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()},n.prototype._handleKeydown=function(t){this._isTooltipVisible()&&t.keyCode===Ya&&(t.stopPropagation(),this.hide(0))},n.prototype._handleTouchend=function(){this.hide(this._defaultOptions.touchendHideDelay)},n.prototype._createOverlay=function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8),i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);return e.withScrollableContainers(i),e.positionChanges.pipe(Zn(this._destroyed)).subscribe(function(r){t._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run(function(){return t.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Zn(this._destroyed)).subscribe(function(){return t._detach()}),this._overlayRef},n.prototype._detach=function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null},n.prototype._updatePosition=function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),i=this._getOverlayPosition();t.withPositions([j({},e.main,i.main),j({},e.fallback,i.fallback)])},n.prototype._getOrigin=function(){var t,e=!this._dir||this._dir.value=="ltr",i=this.position;if(i=="above"||i=="below")t={originX:"center",originY:i=="above"?"top":"bottom"};else if(i=="before"||i=="left"&&e||i=="right"&&!e)t={originX:"start",originY:"center"};else{if(!(i=="after"||i=="right"&&e||i=="left"&&!e))throw i0(i);t={originX:"end",originY:"center"}}var r=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:r.x,originY:r.y}}},n.prototype._getOverlayPosition=function(){var t,e=!this._dir||this._dir.value=="ltr",i=this.position;if(i=="above")t={overlayX:"center",overlayY:"bottom"};else if(i=="below")t={overlayX:"center",overlayY:"top"};else if(i=="before"||i=="left"&&e||i=="right"&&!e)t={overlayX:"end",overlayY:"center"};else{if(!(i=="after"||i=="right"&&e||i=="left"&&!e))throw i0(i);t={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:r.x,overlayY:r.y}}},n.prototype._updateTooltipMessage=function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Xn(1),Zn(this._destroyed)).subscribe(function(){t._tooltipInstance&&t._overlayRef.updatePosition()}))},n.prototype._setTooltipClass=function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())},n.prototype._invertPosition=function(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}},n}(),fd=function(){function n(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new x,this._isHandset=this._breakpointObserver.observe(Cu.Handset)}return n.prototype.show=function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()},t)},n.prototype.hide=function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()},t)},n.prototype.afterHidden=function(){return this._onHide.asObservable()},n.prototype.isVisible=function(){return this._visibility==="visible"},n.prototype._animationStart=function(){this._closeOnInteraction=!1},n.prototype._animationDone=function(t){var e=t.toState;e!=="hidden"||this.isVisible()||this._onHide.next(),e!=="visible"&&e!=="hidden"||(this._closeOnInteraction=!0)},n.prototype._handleBodyInteraction=function(){this._closeOnInteraction&&this.hide(0)},n.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},n}(),r0=function(){return function(){}}(),Wo=function(){function n(){}return n.prototype.create=function(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)},n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}(),o0=function(){function n(t){this._mutationObserverFactory=t,this._observedElements=new Map}return n.prototype.ngOnDestroy=function(){var t=this;this._observedElements.forEach(function(e,i){return t._cleanupObserver(i)})},n.prototype.observe=function(t){var e=this,i=za(t);return c.create(function(r){var o=e._observeElement(i).subscribe(r);return function(){o.unsubscribe(),e._unobserveElement(i)}})},n.prototype._observeElement=function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new x,i=this._mutationObserverFactory.create(function(r){return e.next(r)});i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:e,count:1})}return this._observedElements.get(t).stream},n.prototype._unobserveElement=function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))},n.prototype._cleanupObserver=function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),i=e.observer,r=e.stream;i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}},n.ngInjectableDef=Ce({factory:function(){return new n(re(Wo))},token:n,providedIn:"root"}),n}(),s0=function(){function n(t,e,i){this._contentObserver=t,this._elementRef=e,this._ngZone=i,this.event=new le,this._disabled=!1,this._currentSubscription=null}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=rn(t),this._disabled?this._unsubscribe():this._subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"debounce",{get:function(){return this._debounce},set:function(t){this._debounce=xr(t),this._subscribe()},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){this._currentSubscription||this.disabled||this._subscribe()},n.prototype.ngOnDestroy=function(){this._unsubscribe()},n.prototype._subscribe=function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(No(t.debounce)):e).subscribe(t.event)})},n.prototype._unsubscribe=function(){this._currentSubscription&&this._currentSubscription.unsubscribe()},n}(),a0=function(){return function(){}}(),DS=new de("cdk-dir-doc",{providedIn:"root",factory:function(){return re(jn)}}),pn=function(){function n(t){if(this.value="ltr",this.change=new le,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value=e==="ltr"||e==="rtl"?e:"ltr"}}return n.prototype.ngOnDestroy=function(){this.change.complete()},n.ngInjectableDef=Ce({factory:function(){return new n(re(DS,8))},token:n,providedIn:"root"}),n}(),l0=function(){return function(){}}(),RS=new de("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),gd=function(){function n(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document=typeof document=="object"&&document?document:null,this._window=typeof window=="object"&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return n.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Hi()&&!this._isTestEnv()},n.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},n.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},n.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&typeof getComputedStyle=="function"){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&e.display!=="none"&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},n.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},n}();function Xo(n){return function(t){function e(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=t.apply(this,i)||this;return o._disabled=!1,o}return k(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(i){this._disabled=rn(i)},enumerable:!0,configurable:!0}),e}(n)}function Ts(n,t){return function(e){function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=e.apply(this,r)||this;return s.color=t,s}return k(i,e),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(r){var o=r||t;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),o&&this._elementRef.nativeElement.classList.add("mat-"+o),this._color=o)},enumerable:!0,configurable:!0}),i}(n)}function Is(n){return function(t){function e(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=t.apply(this,i)||this;return o._disableRipple=!1,o}return k(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(i){this._disableRipple=rn(i)},enumerable:!0,configurable:!0}),e}(n)}function Vu(n,t){return t===void 0&&(t=0),function(e){function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=e.apply(this,r)||this;return s._tabIndex=t,s}return k(i,e),Object.defineProperty(i.prototype,"tabIndex",{get:function(){return this.disabled?-1:this._tabIndex},set:function(r){this._tabIndex=r??t},enumerable:!0,configurable:!0}),i}(n)}function jS(n){return function(t){function e(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=t.apply(this,i)||this;return o.errorState=!1,o.stateChanges=new x,o}return k(e,t),e.prototype.updateErrorState=function(){var i=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==i&&(this.errorState=r,this.stateChanges.next())},e}(n)}function FS(n){return function(t){function e(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=t.apply(this,i)||this;return o._isInitialized=!1,o._pendingSubscribers=[],o.initialized=new c(function(s){o._isInitialized?o._notifySubscriber(s):o._pendingSubscribers.push(s)}),o}return k(e,t),e.prototype._markInitialized=function(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null},e.prototype._notifySubscriber=function(i){i.next(),i.complete()},e}(n)}var MS=function(){function n(){}return n.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}(),LS=new de("MAT_HAMMER_OPTIONS"),NS=["longpress","slide","slidestart","slideend","slideright","slideleft"],BS={on:function(){},off:function(){}},VS=function(n){function t(e,i){var r=n.call(this)||this;return r._hammerOptions=e,r.events=NS,i&&i._checkHammerIsAvailable(),r}return k(t,n),t.prototype.buildHammer=function(e){var i=typeof window<"u"?window.Hammer:null;if(!i)return BS;var r=new i(e,this._hammerOptions||void 0),o=new i.Pan,s=new i.Swipe,f=new i.Press,_=this._createRecognizer(o,{event:"slide",threshold:0},s),S=this._createRecognizer(f,{event:"longpress",time:500});return o.recognizeWith(s),S.recognizeWith(_),r.add([s,f,o,_,S]),r},t.prototype._createRecognizer=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=new e.constructor(i);return r.push(e),r.forEach(function(f){return s.recognizeWith(f)}),s},t}(aC),Yo=function(){var n={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return n[n.FADING_IN]="FADING_IN",n[n.VISIBLE]="VISIBLE",n[n.FADING_OUT]="FADING_OUT",n[n.HIDDEN]="HIDDEN",n}(),zS=function(){function n(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=Yo.HIDDEN}return n.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},n}(),u0={enterDuration:450,exitDuration:400},HS=800,c0=Ss({passive:!0}),US=function(){function n(t,e,i,r){var o=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this.onMousedown=function(s){var f=Ry(s),_=o._lastTouchStartEvent&&Date.now()<o._lastTouchStartEvent+HS;o._target.rippleDisabled||f||_||(o._isPointerDown=!0,o.fadeInRipple(s.clientX,s.clientY,o._target.rippleConfig))},this.onTouchStart=function(s){if(!o._target.rippleDisabled){o._lastTouchStartEvent=Date.now(),o._isPointerDown=!0;for(var f=s.changedTouches,_=0;_<f.length;_++)o.fadeInRipple(f[_].clientX,f[_].clientY,o._target.rippleConfig)}},this.onPointerUp=function(){o._isPointerDown&&(o._isPointerDown=!1,o._activeRipples.forEach(function(s){!s.config.persistent&&(s.state===Yo.VISIBLE||s.config.terminateOnPointerUp&&s.state===Yo.FADING_IN)&&s.fadeOut()}))},r.isBrowser&&(this._containerElement=i.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown).set("mouseup",this.onPointerUp).set("mouseleave",this.onPointerUp).set("touchstart",this.onTouchStart).set("touchend",this.onPointerUp).set("touchcancel",this.onPointerUp))}return n.prototype.fadeInRipple=function(t,e,i){var r=this;i===void 0&&(i={});var o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=j({},u0,i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);var f=i.radius||function(J,ct,st){var xt=Math.max(Math.abs(J-st.left),Math.abs(J-st.right)),yt=Math.max(Math.abs(ct-st.top),Math.abs(ct-st.bottom));return Math.sqrt(xt*xt+yt*yt)}(t,e,o),_=t-o.left,S=e-o.top,T=s.enterDuration,F=document.createElement("div");F.classList.add("mat-ripple-element"),F.style.left=_-f+"px",F.style.top=S-f+"px",F.style.height=2*f+"px",F.style.width=2*f+"px",F.style.backgroundColor=i.color||null,F.style.transitionDuration=T+"ms",this._containerElement.appendChild(F),window.getComputedStyle(F).getPropertyValue("opacity"),F.style.transform="scale(1)";var U=new zS(this,F,i);return U.state=Yo.FADING_IN,this._activeRipples.add(U),i.persistent||(this._mostRecentTransientRipple=U),this.runTimeoutOutsideZone(function(){var J=U===r._mostRecentTransientRipple;U.state=Yo.VISIBLE,i.persistent||J&&r._isPointerDown||U.fadeOut()},T),U},n.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var i=t.element,r=j({},u0,t.config.animation);i.style.transitionDuration=r.exitDuration+"ms",i.style.opacity="0",t.state=Yo.FADING_OUT,this.runTimeoutOutsideZone(function(){t.state=Yo.HIDDEN,i.parentNode.removeChild(i)},r.exitDuration)}},n.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(t){return t.fadeOut()})},n.prototype.setupTriggerEvents=function(t){var e=this;t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){e._triggerEvents.forEach(function(i,r){t.addEventListener(r,i,c0)})}),this._triggerElement=t)},n.prototype.runTimeoutOutsideZone=function(t,e){e===void 0&&(e=0),this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})},n.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach(function(e,i){t._triggerElement.removeEventListener(i,e,c0)})},n}(),As=new de("mat-ripple-global-options"),Ps=function(){function n(t,e,i,r,o){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new US(this,e,t,i),o==="NoopAnimations"&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},n.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},n.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(n.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),n.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},n.prototype.launch=function(t,e,i){return e===void 0&&(e=0),typeof t=="number"?this._rippleRenderer.fadeInRipple(t,e,j({},this.rippleConfig,i)):this._rippleRenderer.fadeInRipple(0,0,j({},this.rippleConfig,t))},n}(),h0=function(){return function(){}}(),WS=function(){return function(n){this._animationMode=n,this.state="unchecked",this.disabled=!1}}(),p0=function(){return function(){}}(),XS=0,YS=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._labelId="mat-optgroup-label-"+XS++,e}return k(t,n),t}(Xo(function(){return function(){}}())),GS=0,qS=function(){return function(n,t){t===void 0&&(t=!1),this.source=n,this.isUserInput=t}}(),d0=new de("MAT_OPTION_PARENT_COMPONENT"),KS=function(){function n(t,e,i,r){this._element=t,this._changeDetectorRef=e,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+GS++,this.onSelectionChange=new le,this._stateChanges=new x}return Object.defineProperty(n.prototype,"multiple",{get:function(){return this._parent&&this._parent.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disableRipple",{get:function(){return this._parent&&this._parent.disableRipple},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewValue",{get:function(){return(this._getHostElement().textContent||"").trim()},enumerable:!0,configurable:!0}),n.prototype.select=function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())},n.prototype.deselect=function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())},n.prototype.focus=function(){var t=this._getHostElement();typeof t.focus=="function"&&t.focus()},n.prototype.setActiveStyles=function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())},n.prototype.setInactiveStyles=function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())},n.prototype.getLabel=function(){return this.viewValue},n.prototype._handleKeydown=function(t){t.keyCode!==13&&t.keyCode!==32||Ga(t)||(this._selectViaInteraction(),t.preventDefault())},n.prototype._selectViaInteraction=function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))},n.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},n.prototype._getHostElement=function(){return this._element.nativeElement},n.prototype.ngAfterViewChecked=function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}},n.prototype.ngOnDestroy=function(){this._stateChanges.complete()},n.prototype._emitSelectionChangeEvent=function(t){t===void 0&&(t=!1),this.onSelectionChange.emit(new qS(this,t))},n}();function f0(n,t,e){if(e.length){for(var i=t.toArray(),r=e.toArray(),o=0,s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}var g0=function(){return function(){}}(),ZS=new de("mat-label-global-options"),JS=Pe({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function QS(n){return wt(2,[(n()(),P(0,0,null,null,3,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],function(t,e,i){var r=!0,o=t.component;return e==="@state.start"&&(r=o._animationStart()!==!1&&r),e==="@state.done"&&(r=o._animationDone(i)!==!1&&r),r},null,null)),D(1,278528,null,0,$l,[An,Pi,lt,un],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),je(131072,We,[ee]),(n()(),Gt(3,null,["",""]))],function(t,e){t(e,1,0,"mat-tooltip",e.component.tooltipClass)},function(t,e){var i,r=e.component;t(e,0,0,(i=fe(e,0,0,d(e,2).transform(r._isHandset)))==null?null:i.matches,r._visibility),t(e,3,0,r.message)})}function $S(n){return wt(0,[(n()(),P(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],function(t,e,i){var r=!0;return e==="body:click"&&(r=d(t,1)._handleBodyInteraction()!==!1&&r),r},QS,JS)),D(1,49152,null,0,fd,[ee,zp],null,null)],null,function(t,e){t(e,0,0,d(e,1)._visibility==="visible"?1:null)})}var tk=$i("mat-tooltip-component",fd,$S,{},{},[]),ue=function(){function n(t,e,i){this.el=t,this.i18n=e,this.settings=i,this.subscriptions=[]}return n.prototype.ngAfterViewInit=function(){var t=this;if(this.settings.get("i18n.enable")){var e=this.i18n.localizationChange.subscribe(function(){return t.translate()});this.translate(),this.subscriptions.push(e)}},n.prototype.translate=function(){var t=this.el.nativeElement;if(t.getAttribute("placeholder")){var e=t.getAttribute("placeholder");t.setAttribute("placeholder",this.i18n.t(e))}else t.getAttribute("title")?(e=t.getAttribute("title"),t.setAttribute("title",this.i18n.t(e))):t.getAttribute("translate-key")?(e=t.getAttribute("translate-key"),t.textContent=this.i18n.t(e)):this.translateTextContent(t)},n.prototype.translateTextContent=function(t){var e=Array.from(t.childNodes);e.sort(function(o,s){return o.nodeType===Node.TEXT_NODE?-1:1});for(var i=0;i<e.length;i++){var r=e[i];if(r.nodeType===Node.TEXT_NODE)return r.nodeValue=this.i18n.t(r.textContent);if(this.translateTextContent(r))return}},n.prototype.ngOnDestroy=function(){this.subscriptions.filter(function(t){return!!t}).forEach(function(t){return t.unsubscribe()}),this.subscriptions=[]},n}(),ek=function(){function n(t){this.callback=t}return n.prototype.call=function(t,e){return e.subscribe(new nk(t,this.callback))},n}(),nk=function(n){function t(e,i){var r=n.call(this,e)||this;return r.add(new et(i)),r}return k(t,n),t}(u);function m0(n){return Error('Unable to find icon with the name "'+n+'"')}function v0(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "`+n+'".')}function y0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "`+n+'".')}var rl=function(){return function(n){n.nodeName?this.svgElement=n:this.url=n}}(),Se=function(){function n(t,e,i){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return n.prototype.addSvgIcon=function(t,e){return this.addSvgIconInNamespace("",t,e)},n.prototype.addSvgIconLiteral=function(t,e){return this.addSvgIconLiteralInNamespace("",t,e)},n.prototype.addSvgIconInNamespace=function(t,e,i){return this._addSvgIconConfig(t,e,new rl(i))},n.prototype.addSvgIconLiteralInNamespace=function(t,e,i){var r=this._sanitizer.sanitize(Zi.HTML,i);if(!r)throw y0(i);var o=this._createSvgElementForSingleIcon(r);return this._addSvgIconConfig(t,e,new rl(o))},n.prototype.addSvgIconSet=function(t){return this.addSvgIconSetInNamespace("",t)},n.prototype.addSvgIconSetLiteral=function(t){return this.addSvgIconSetLiteralInNamespace("",t)},n.prototype.addSvgIconSetInNamespace=function(t,e){return this._addSvgIconSetConfig(t,new rl(e))},n.prototype.addSvgIconSetLiteralInNamespace=function(t,e){var i=this._sanitizer.sanitize(Zi.HTML,e);if(!i)throw y0(e);var r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new rl(r))},n.prototype.registerFontClassAlias=function(t,e){return e===void 0&&(e=t),this._fontCssClassesByAlias.set(t,e),this},n.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},n.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},n.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},n.prototype.getSvgIconFromUrl=function(t){var e=this,i=this._sanitizer.sanitize(Zi.RESOURCE_URL,t);if(!i)throw v0(t);var r=this._cachedIconsByUrl.get(i);return r?$n(zu(r)):this._loadSvgIconFromConfig(new rl(t)).pipe(Xp(function(o){return e._cachedIconsByUrl.set(i,o)}),Ct(function(o){return zu(o)}))},n.prototype.getNamedSvgIcon=function(t,e){e===void 0&&(e="");var i=b0(e,t),r=this._svgIconConfigs.get(i);if(r)return this._getSvgFromConfig(r);var o=this._iconSetConfigs.get(e);return o?this._getSvgFromIconSetConfigs(t,o):Aa(m0(i))},n.prototype._getSvgFromConfig=function(t){return t.svgElement?$n(zu(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Xp(function(e){return t.svgElement=e}),Ct(function(e){return zu(e)}))},n.prototype._getSvgFromIconSetConfigs=function(t,e){var i=this,r=this._extractIconWithNameFromAnySet(t,e);return r?$n(r):Ea(e.filter(function(o){return!o.svgElement}).map(function(o){return i._loadSvgIconSetFromConfig(o).pipe(co(function(s){var f=i._sanitizer.sanitize(Zi.RESOURCE_URL,o.url);return console.error("Loading icon set URL: "+f+" failed: "+s.message),$n(null)}))})).pipe(Ct(function(){var o=i._extractIconWithNameFromAnySet(t,e);if(!o)throw m0(t);return o}))},n.prototype._extractIconWithNameFromAnySet=function(t,e){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.svgElement){var o=this._extractSvgIconFromSet(r.svgElement,t);if(o)return o}}return null},n.prototype._loadSvgIconFromConfig=function(t){var e=this;return this._fetchUrl(t.url).pipe(Ct(function(i){return e._createSvgElementForSingleIcon(i)}))},n.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return t.svgElement?$n(t.svgElement):this._fetchUrl(t.url).pipe(Ct(function(i){return t.svgElement||(t.svgElement=e._svgElementFromString(i)),t.svgElement}))},n.prototype._createSvgElementForSingleIcon=function(t){var e=this._svgElementFromString(t);return this._setSvgAttributes(e),e},n.prototype._extractSvgIconFromSet=function(t,e){var i=t.querySelector("#"+e);if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r));var o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o)},n.prototype._svgElementFromString=function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var i=e.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i},n.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e},n.prototype._setSvgAttributes=function(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t},n.prototype._fetchUrl=function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(t==null)throw Error('Cannot fetch icon from URL "'+t+'".');var i=this._sanitizer.sanitize(Zi.RESOURCE_URL,t);if(!i)throw v0(t);var r=this._inProgressUrlFetches.get(i);if(r)return r;var o,s=this._httpClient.get(i,{responseType:"text"}).pipe((o=function(){return e._inProgressUrlFetches.delete(i)},function(f){return f.lift(new ek(o))}),be());return this._inProgressUrlFetches.set(i,s),s},n.prototype._addSvgIconConfig=function(t,e,i){return this._svgIconConfigs.set(b0(t,e),i),this},n.prototype._addSvgIconSetConfig=function(t,e){var i=this._iconSetConfigs.get(t);return i?i.push(e):this._iconSetConfigs.set(t,[e]),this},n.ngInjectableDef=Ce({factory:function(){return new n(re(Lo,8),re(Rr),re(jn,8))},token:n,providedIn:"root"}),n}();function zu(n){return n.cloneNode(!0)}function b0(n,t){return n+":"+t}var ik=Ts(function(){return function(n){this._elementRef=n}}()),Ee=new de("mat-icon-location",{providedIn:"root",factory:function(){var n=re(jn),t=n?n.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}}),_0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],rk=_0.map(function(n){return"["+n+"]"}).join(", "),ok=/^url\(['"]?#(.*?)['"]?\)$/,Oe=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s._iconRegistry=i,s._location=o,s._inline=!1,r||e.nativeElement.setAttribute("aria-hidden","true"),s}return k(t,n),Object.defineProperty(t.prototype,"inline",{get:function(){return this._inline},set:function(e){this._inline=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSet",{get:function(){return this._fontSet},set:function(e){this._fontSet=this._cleanupFontValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(e){this._fontIcon=this._cleanupFontValue(e)},enumerable:!0,configurable:!0}),t.prototype._splitIconName=function(e){if(!e)return["",""];var i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error('Invalid icon name: "'+e+'"')}},t.prototype.ngOnChanges=function(e){var i=this;if(e.svgIcon)if(this.svgIcon){var r=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(r[1],r[0]).pipe(Xn(1)).subscribe(function(o){return i._setSvgElement(o)},function(o){return console.log("Error retrieving icon: "+o.message)})}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},t.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},t.prototype.ngAfterViewChecked=function(){var e=this._elementsWithExternalReferences;if(e&&this._location&&e.size){var i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}},t.prototype.ngOnDestroy=function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()},t.prototype._usingFontIcon=function(){return!this.svgIcon},t.prototype._setSvgElement=function(e){this._clearSvgElement();for(var i=e.querySelectorAll("style"),r=0;r<i.length;r++)i[r].textContent+=" ";if(this._location){var o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o)}this._elementRef.nativeElement.appendChild(e)},t.prototype._clearSvgElement=function(){var e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){var r=e.childNodes[i];r.nodeType===1&&r.nodeName.toLowerCase()!=="svg"||e.removeChild(r)}},t.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},t.prototype._cleanupFontValue=function(e){return typeof e=="string"?e.trim().split(" ")[0]:e},t.prototype._prependPathToReferences=function(e){var i=this._elementsWithExternalReferences;i&&i.forEach(function(r,o){r.forEach(function(s){o.setAttribute(s.name,"url('"+e+"#"+s.value+"')")})})},t.prototype._cacheChildrenWithExternalReferences=function(e){for(var i=e.querySelectorAll(rk),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,o=function(f){_0.forEach(function(_){var S=i[f],T=S.getAttribute(_),F=T?T.match(ok):null;if(F){var U=r.get(S);U||r.set(S,U=[]),U.push({name:_,value:F[1]})}})},s=0;s<i.length;s++)o(s)},t}(ik),w0=function(){return function(){}}(),Te=Pe({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function Ie(n){return wt(2,[Gn(null,0)],null,null)}var Hu=function(){function n(){this.changes=new x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(t,e,i){if(i==0||e==0)return"0 of "+i;var r=t*e;return r+1+" - "+(r<(i=Math.max(i,0))?Math.min(r+e,i):r+e)+" of "+i}}return n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}();function sk(n){return n||new Hu}var ak=function(n){function t(e,i){var r=n.call(this)||this;return r._intl=e,r._changeDetectorRef=i,r._pageIndex=0,r._length=0,r._pageSizeOptions=[],r._hidePageSize=!1,r._showFirstLastButtons=!1,r.page=new le,r._intlChanges=e.changes.subscribe(function(){return r._changeDetectorRef.markForCheck()}),r}return k(t,n),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(e){this._pageIndex=Math.max(xr(e),0),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){this._length=xr(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=Math.max(xr(e),0),this._updateDisplayedPageSizeOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map(function(i){return xr(i)}),this._updateDisplayedPageSizeOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidePageSize",{get:function(){return this._hidePageSize},set:function(e){this._hidePageSize=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFirstLastButtons",{get:function(){return this._showFirstLastButtons},set:function(e){this._showFirstLastButtons=rn(e)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()},t.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe()},t.prototype.nextPage=function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}},t.prototype.previousPage=function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}},t.prototype.firstPage=function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}},t.prototype.lastPage=function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}},t.prototype.hasPreviousPage=function(){return this.pageIndex>=1&&this.pageSize!=0},t.prototype.hasNextPage=function(){var e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0},t.prototype.getNumberOfPages=function(){return this.pageSize?Math.ceil(this.length/this.pageSize):0},t.prototype._changePageSize=function(e){var i=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(i)},t.prototype._nextButtonsDisabled=function(){return this.disabled||!this.hasNextPage()},t.prototype._previousButtonsDisabled=function(){return this.disabled||!this.hasPreviousPage()},t.prototype._updateDisplayedPageSizeOptions=function(){this._initialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(function(e,i){return e-i}),this._changeDetectorRef.markForCheck())},t.prototype._emitPageEvent=function(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})},t}(Xo(FS(function(){return function(){}}()))),x0=function(){return function(){}}();function C0(n){return new c(function(t){var e;try{e=n()}catch(i){return void t.error(i)}return(e?Kt(e):_s()).subscribe(t)})}var lk=0,Uu=0,S0=new de("mat-select-scroll-strategy");function uk(n){return function(){return n.scrollStrategies.reposition()}}var ck=function(){return function(n,t){this.source=n,this.value=t}}(),md=function(n){function t(e,i,r,o,s,f,_,S,T,F,U,J,ct){var st=n.call(this,s,o,_,S,F)||this;return st._viewportRuler=e,st._changeDetectorRef=i,st._ngZone=r,st._dir=f,st._parentFormField=T,st.ngControl=F,st._liveAnnouncer=ct,st._panelOpen=!1,st._required=!1,st._scrollTop=0,st._multiple=!1,st._compareWith=function(xt,yt){return xt===yt},st._uid="mat-select-"+lk++,st._destroy=new x,st._triggerFontSize=0,st._onChange=function(){},st._onTouched=function(){},st._optionIds="",st._transformOrigin="top",st._panelDoneAnimatingStream=new x,st._offsetY=0,st._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],st._disableOptionCentering=!1,st._focused=!1,st.controlType="mat-select",st.ariaLabel="",st.optionSelectionChanges=C0(function(){return st.options?ht.apply(void 0,st.options.map(function(xt){return xt.onSelectionChange})):st._ngZone.onStable.asObservable().pipe(Xn(1),ku(function(){return st.optionSelectionChanges}))}),st.openedChange=new le,st._openedStream=st.openedChange.pipe(Hn(function(xt){return xt}),Ct(function(){})),st._closedStream=st.openedChange.pipe(Hn(function(xt){return!xt}),Ct(function(){})),st.selectionChange=new le,st.valueChange=new le,st.ngControl&&(st.ngControl.valueAccessor=st),st._scrollStrategyFactory=J,st._scrollStrategy=st._scrollStrategyFactory(),st.tabIndex=parseInt(U)||0,st.id=st.id,st}return k(t,n),Object.defineProperty(t.prototype,"focused",{get:function(){return this._focused||this._panelOpen},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=rn(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableOptionCentering",{get:function(){return this._disableOptionCentering},set:function(e){this._disableOptionCentering=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){if(typeof e!="function")throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this._value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._selectionModel=new by(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(gu(),Zn(this._destroy)).subscribe(function(){e.panelOpen?(e._scrollTop=0,e.openedChange.emit(!0)):(e.openedChange.emit(!1),e.overlayDir.offsetX=0,e._changeDetectorRef.markForCheck())})},t.prototype.ngAfterContentInit=function(){var e=this;this._initKeyManager(),this._selectionModel.onChange.pipe(Zn(this._destroy)).subscribe(function(i){i.added.forEach(function(r){return r.select()}),i.removed.forEach(function(r){return r.deselect()})}),this.options.changes.pipe(ho(null),Zn(this._destroy)).subscribe(function(){e._resetOptions(),e._initializeSelection()})},t.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},t.prototype.ngOnChanges=function(e){e.disabled&&this.stateChanges.next()},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()},t.prototype.toggle=function(){this.panelOpen?this.close():this.open()},t.prototype.open=function(){var e=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Xn(1)).subscribe(function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e._triggerFontSize+"px")}))},t.prototype.close=function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())},t.prototype.writeValue=function(e){this.options&&this._setSelectionByValue(e)},t.prototype.registerOnChange=function(e){this._onChange=e},t.prototype.registerOnTouched=function(e){this._onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(t.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerValue",{get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map(function(i){return i.viewValue});return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),t.prototype._isRtl=function(){return!!this._dir&&this._dir.value==="rtl"},t.prototype._handleKeydown=function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))},t.prototype._handleClosedKeydown=function(e){var i=e.keyCode,r=i===40||i===38||i===37||i===39,o=this._keyManager;if((i===13||i===32)&&!Ga(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){var s=this.selected;i===36||i===35?(i===36?o.setFirstItemActive():o.setLastItemActive(),e.preventDefault()):o.onKeydown(e),this._liveAnnouncer&&s!==this.selected&&this._liveAnnouncer.announce(this.selected.viewValue)}},t.prototype._handleOpenKeydown=function(e){var i=e.keyCode,r=i===40||i===38,o=this._keyManager;if(i===36||i===35)e.preventDefault(),i===36?o.setFirstItemActive():o.setLastItemActive();else if(r&&e.altKey)e.preventDefault(),this.close();else if(i!==13&&i!==32||!o.activeItem||Ga(e))if(this._multiple&&i===65&&e.ctrlKey){e.preventDefault();var s=this.options.some(function(_){return!_.disabled&&!_.selected});this.options.forEach(function(_){_.disabled||(s?_.select():_.deselect())})}else{var f=o.activeItemIndex;o.onKeydown(e),this._multiple&&r&&e.shiftKey&&o.activeItem&&o.activeItemIndex!==f&&o.activeItem._selectViaInteraction()}else e.preventDefault(),o.activeItem._selectViaInteraction()},t.prototype._onFocus=function(){this.disabled||(this._focused=!0,this.stateChanges.next())},t.prototype._onBlur=function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())},t.prototype._onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(Xn(1)).subscribe(function(){e._setPseudoCheckboxPaddingSize(),e._changeDetectorRef.detectChanges(),e._calculateOverlayOffsetX(),e.panel.nativeElement.scrollTop=e._scrollTop})},t.prototype._getPanelTheme=function(){return this._parentFormField?"mat-"+this._parentFormField.color:""},t.prototype._setPseudoCheckboxPaddingSize=function(){if(!Uu&&this.multiple){var e=this.panel.nativeElement.querySelector(".mat-pseudo-checkbox");e&&(Uu=24+e.offsetWidth)}},Object.defineProperty(t.prototype,"empty",{get:function(){return!this._selectionModel||this._selectionModel.isEmpty()},enumerable:!0,configurable:!0}),t.prototype._initializeSelection=function(){var e=this;Promise.resolve().then(function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value),e.stateChanges.next()})},t.prototype._setSelectionByValue=function(e){var i=this;if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),e.forEach(function(o){return i._selectValue(o)}),this._sortValues()}else{this._selectionModel.clear();var r=this._selectValue(e);r&&this._keyManager.setActiveItem(r)}this._changeDetectorRef.markForCheck()},t.prototype._selectValue=function(e){var i=this,r=this.options.find(function(o){try{return o.value!=null&&i._compareWith(o.value,e)}catch(s){return Hi()&&console.warn(s),!1}});return r&&this._selectionModel.select(r),r},t.prototype._initKeyManager=function(){var e=this;this._keyManager=new D2(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zn(this._destroy)).subscribe(function(){e.focus(),e.close()}),this._keyManager.change.pipe(Zn(this._destroy)).subscribe(function(){e._panelOpen&&e.panel?e._scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()})},t.prototype._resetOptions=function(){var e=this,i=ht(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zn(i)).subscribe(function(r){e._onSelect(r.source,r.isUserInput),r.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())}),ht.apply(void 0,this.options.map(function(r){return r._stateChanges})).pipe(Zn(i)).subscribe(function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()}),this._setOptionIds()},t.prototype._onSelect=function(e,i){var r=this._selectionModel.isSelected(e);e.value!=null||this._multiple?(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()},t.prototype._sortValues=function(){var e=this;if(this.multiple){var i=this.options.toArray();this._selectionModel.sort(function(r,o){return e.sortComparator?e.sortComparator(r,o,i):i.indexOf(r)-i.indexOf(o)}),this.stateChanges.next()}},t.prototype._propagateChanges=function(e){var i;i=this.multiple?this.selected.map(function(r){return r.value}):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(new ck(this,i)),this._changeDetectorRef.markForCheck()},t.prototype._setOptionIds=function(){this._optionIds=this.options.map(function(e){return e.id}).join(" ")},t.prototype._highlightCorrectOption=function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))},t.prototype._scrollActiveOptionIntoView=function(){var e,i,r,o=this._keyManager.activeItemIndex||0,s=f0(o,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=(r=(o+s)*(e=this._getItemHeight()))<(i=this.panel.nativeElement.scrollTop)?r:r+e>i+256?Math.max(0,r-256+e):i},t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.prototype._getOptionIndex=function(e){return this.options.reduce(function(i,r,o){return i===void 0?e===r?o:void 0:i},void 0)},t.prototype._calculateOverlayPosition=function(){var e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),o=i*e-r,s=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);s+=f0(s,this.options,this.optionGroups);var f=r/2;this._scrollTop=this._calculateOverlayScroll(s,f,o),this._offsetY=this._calculateOverlayOffsetY(s,f,o),this._checkOverlayWithinViewport(o)},t.prototype._calculateOverlayScroll=function(e,i,r){var o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)},t.prototype._getAriaLabel=function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder},t.prototype._getAriaLabelledby=function(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null},t.prototype._getAriaActiveDescendant=function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null},t.prototype._calculateOverlayOffsetX=function(){var e,i=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),o=this._isRtl(),s=this.multiple?Uu+16:32;if(this.multiple)e=Uu;else{var f=this._selectionModel.selected[0]||this.options.first;e=f&&f.group?32:16}o||(e*=-1);var _=0-(i.left+e-(o?s:0)),S=i.right+e-r.width+(o?0:s);_>0?e+=_+8:S>0&&(e-=S+8),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()},t.prototype._calculateOverlayOffsetY=function(e,i,r){var o,s=this._getItemHeight(),f=(s-this._triggerRect.height)/2,_=Math.floor(256/s);return this._disableOptionCentering?0:(o=this._scrollTop===0?e*s:this._scrollTop===r?(e-(this._getItemCount()-_))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*o-f))},t.prototype._checkOverlayWithinViewport=function(e){var i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,s=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;_>s?this._adjustPanelUp(_,s):f>o?this._adjustPanelDown(f,o,e):this._transformOrigin=this._getOriginBasedOnOption()},t.prototype._adjustPanelUp=function(e,i){var r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")},t.prototype._adjustPanelDown=function(e,i,r){var o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")},t.prototype._getOriginBasedOnOption=function(){var e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return"50% "+(Math.abs(this._offsetY)-i+e/2)+"px 0px"},t.prototype._getItemCount=function(){return this.options.length+this.optionGroups.length},t.prototype._getItemHeight=function(){return 3*this._triggerFontSize},t.prototype.setDescribedByIds=function(e){this._ariaDescribedby=e.join(" ")},t.prototype.onContainerClick=function(){this.focus(),this.open()},Object.defineProperty(t.prototype,"shouldLabelFloat",{get:function(){return this._panelOpen||!this.empty},enumerable:!0,configurable:!0}),t}(Is(Vu(Xo(jS(function(){return function(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}}()))))),k0=function(){return function(){}}(),hk="accent",pk=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Qe=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;s._focusMonitor=r,s._animationMode=o,s.isRoundButton=s._hasHostAttributes("mat-fab","mat-mini-fab"),s.isIconButton=s._hasHostAttributes("mat-icon-button");for(var f=0,_=pk;f<_.length;f++){var S=_[f];s._hasHostAttributes(S)&&e.nativeElement.classList.add(S)}return s._focusMonitor.monitor(s._elementRef,!0),s.isRoundButton&&(s.color=hk),s}return k(t,n),t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},t.prototype.focus=function(){this._getHostElement().focus()},t.prototype._getHostElement=function(){return this._elementRef.nativeElement},t.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},t.prototype._hasHostAttributes=function(){for(var e=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.some(function(o){return e._getHostElement().hasAttribute(o)})},t}(Ts(Xo(Is(function(){return function(n){this._elementRef=n}}())))),E0=function(){return function(){}}(),dk=function(){return function(){}}();function O0(n){return Error(`A hint was already declared for 'align="`+n+`"'.`)}var T0=0,fk=Ts(function(){return function(n){this._elementRef=n}}(),"primary"),gk=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS"),I0=function(n){function t(e,i,r,o,s,f,_,S){var T=n.call(this,e)||this;return T._elementRef=e,T._changeDetectorRef=i,T._dir=o,T._defaults=s,T._platform=f,T._ngZone=_,T._outlineGapCalculationNeededImmediately=!1,T._outlineGapCalculationNeededOnStable=!1,T._destroyed=new x,T._showAlwaysAnimate=!1,T._subscriptAnimationState="",T._hintLabel="",T._hintLabelId="mat-hint-"+T0++,T._labelId="mat-form-field-label-"+T0++,T._labelOptions=r||{},T.floatLabel=T._labelOptions.float||"auto",T._animationsEnabled=S!=="NoopAnimations",T.appearance=s&&s.appearance?s.appearance:"legacy",T}return k(t,n),Object.defineProperty(t.prototype,"appearance",{get:function(){return this._appearance},set:function(e){var i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy",this._appearance==="outline"&&i!==e&&this._updateOutlineGapOnStable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideRequiredMarker",{get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_shouldAlwaysFloat",{get:function(){return this.floatLabel==="always"&&!this._showAlwaysAnimate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_canLabelFloat",{get:function(){return this.floatLabel!=="never"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hintLabel",{get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatLabel",{get:function(){return this.appearance!=="legacy"&&this._floatLabel==="never"?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),t.prototype.getConnectedOverlayOrigin=function(){return this._connectionContainerRef||this._elementRef},t.prototype.ngAfterContentInit=function(){var e=this;this._validateControlChild();var i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+i.controlType),i.stateChanges.pipe(ho(null)).subscribe(function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Zn(this._destroyed)).subscribe(function(){return e._changeDetectorRef.markForCheck()}),this._ngZone&&this._ngZone.onStable.asObservable().pipe(Zn(this._destroyed)).subscribe(function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()}),ht(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){e._updateOutlineGapOnStable(),e._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ho(null)).subscribe(function(){e._processHints(),e._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ho(null)).subscribe(function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zn(this._destroyed)).subscribe(function(){return e.updateOutlineGap()})},t.prototype.ngAfterContentChecked=function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()},t.prototype.ngAfterViewInit=function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},t.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},t.prototype._shouldForward=function(e){var i=this._control?this._control.ngControl:null;return i&&i[e]},t.prototype._hasPlaceholder=function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)},t.prototype._hasLabel=function(){return!!this._labelChild},t.prototype._shouldLabelFloat=function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)},t.prototype._hideControlPlaceholder=function(){return this.appearance==="legacy"&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()},t.prototype._hasFloatingLabel=function(){return this._hasLabel()||this.appearance==="legacy"&&this._hasPlaceholder()},t.prototype._getDisplayedMessages=function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"},t.prototype._animateAndLockLabel=function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Es(this._label.nativeElement,"transitionend").pipe(Xn(1)).subscribe(function(){e._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())},t.prototype._validatePlaceholders=function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")},t.prototype._processHints=function(){this._validateHints(),this._syncDescribedByIds()},t.prototype._validateHints=function(){var e,i,r=this;this._hintChildren&&this._hintChildren.forEach(function(o){if(o.align==="start"){if(e||r.hintLabel)throw O0("start");e=o}else if(o.align==="end"){if(i)throw O0("end");i=o}})},t.prototype._syncDescribedByIds=function(){if(this._control){var e=[];if(this._getDisplayedMessages()==="hint"){var i=this._hintChildren?this._hintChildren.find(function(o){return o.align==="start"}):null,r=this._hintChildren?this._hintChildren.find(function(o){return o.align==="end"}):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&(e=this._errorChildren.map(function(o){return o.id}));this._control.setDescribedByIds(e)}},t.prototype._validateControlChild=function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")},t.prototype.updateOutlineGap=function(){var e=this._label?this._label.nativeElement:null;if(this.appearance==="outline"&&e&&e.children.length&&e.textContent.trim()&&(!this._platform||this._platform.isBrowser))if(document.documentElement.contains(this._elementRef.nativeElement)){var i=0,r=0,o=this._connectionContainerRef.nativeElement,s=o.querySelectorAll(".mat-form-field-outline-start"),f=o.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var _=o.getBoundingClientRect();if(_.width===0&&_.height===0)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var S=this._getStartEnd(_),T=this._getStartEnd(e.children[0].getBoundingClientRect()),F=0,U=0,J=e.children;U<J.length;U++)F+=J[U].offsetWidth;i=T-S-5,r=F>0?.75*F+10:0}for(var ct=0;ct<s.length;ct++)s.item(ct).style.width=i+"px";for(ct=0;ct<f.length;ct++)f.item(ct).style.width=r+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0},t.prototype._getStartEnd=function(e){return this._dir&&this._dir.value==="rtl"?e.right:e.left},t.prototype._updateOutlineGapOnStable=function(){var e=this;this._ngZone?this._outlineGapCalculationNeededOnStable=!0:Promise.resolve().then(function(){return e.updateOutlineGap()})},t}(fk),A0=function(){return function(){}}();function vd(){return typeof process<"u"}function mo(n){switch(n.length){case 0:return new ks;case 1:return n[0];default:return new py(n)}}function P0(n,t,e,i,r,o){r===void 0&&(r={}),o===void 0&&(o={});var s=[],f=[],_=-1,S=null;if(i.forEach(function(T){var F=T.offset,U=F==_,J=U&&S||{};Object.keys(T).forEach(function(ct){var st=ct,xt=T[ct];if(ct!=="offset")switch(st=t.normalizePropertyName(st,s),xt){case Hp:xt=r[ct];break;case Lr:xt=o[ct];break;default:xt=t.normalizeStyleValue(ct,st,xt,s)}J[st]=xt}),U||f.push(J),S=J,_=F}),s.length)throw new Error(`Unable to animate due to the following errors:
 - `+s.join(`
 - `));return f}function yd(n,t,e,i){switch(t){case"start":n.onStart(function(){return i(e&&bd(e,"start",n))});break;case"done":n.onDone(function(){return i(e&&bd(e,"done",n))});break;case"destroy":n.onDestroy(function(){return i(e&&bd(e,"destroy",n))})}}function bd(n,t,e){var i=e.totalTime,r=_d(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,!!e.disabled),o=n._data;return o!=null&&(r._data=o),r}function _d(n,t,e,i,r,o,s){return r===void 0&&(r=""),o===void 0&&(o=0),{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Xi(n,t,e){var i;return n instanceof Map?(i=n.get(t))||n.set(t,i=e):(i=n[t])||(i=n[t]=e),i}function D0(n){var t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}var R0=function(n,t){return!1},wd=function(n,t){return!1},j0=function(n,t,e){return[]},F0=vd();if(F0||typeof Element<"u"){if(R0=function(n,t){return n.contains(t)},F0||Element.prototype.matches)wd=function(n,t){return n.matches(t)};else{var ol=Element.prototype,M0=ol.matchesSelector||ol.mozMatchesSelector||ol.msMatchesSelector||ol.oMatchesSelector||ol.webkitMatchesSelector;M0&&(wd=function(n,t){return M0.apply(n,[t])})}j0=function(n,t,e){var i=[];if(e)i.push.apply(i,N(n.querySelectorAll(t)));else{var r=n.querySelector(t);r&&i.push(r)}return i}}var Go=null,L0=!1;function xd(n){Go||(Go=(typeof document<"u"?document.body:null)||{},L0=!!Go.style&&"WebkitAppearance"in Go.style);var t=!0;return Go.style&&!function(e){return e.substring(1,6)=="ebkit"}(n)&&!(t=n in Go.style)&&L0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Go.style),t}var Cd=wd,Sd=R0,kd=j0;function N0(n){var t={};return Object.keys(n).forEach(function(e){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}var mk=function(){function n(){}return n.prototype.validateStyleProperty=function(t){return xd(t)},n.prototype.matchesElement=function(t,e){return Cd(t,e)},n.prototype.containsElement=function(t,e){return Sd(t,e)},n.prototype.query=function(t,e,i){return kd(t,e,i)},n.prototype.computeStyle=function(t,e,i){return i||""},n.prototype.animate=function(t,e,i,r,o,s,f){return s===void 0&&(s=[]),new ks(i,r)},n}(),B0=function(){function n(){}return n.NOOP=new mk,n}(),vk=1e3;function qo(n){if(typeof n=="number")return n;var t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ed(parseFloat(t[1]),t[2])}function Ed(n,t){switch(t){case"s":return n*vk;default:return n}}function Wu(n,t,e){return n.hasOwnProperty("duration")?n:function(i,r,o){var s,f=0,_="";if(typeof i=="string"){var S=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(S===null)return r.push('The provided timing value "'+i+'" is invalid.'),{duration:0,delay:0,easing:""};s=Ed(parseFloat(S[1]),S[2]);var T=S[3];T!=null&&(f=Ed(parseFloat(T),S[4]));var F=S[5];F&&(_=F)}else s=i;if(!o){var U=!1,J=r.length;s<0&&(r.push("Duration values below 0 are not allowed for this animation step."),U=!0),f<0&&(r.push("Delay values below 0 are not allowed for this animation step."),U=!0),U&&r.splice(J,0,'The provided timing value "'+i+'" is invalid.')}return{duration:s,delay:f,easing:_}}(n,t,e)}function Ds(n,t){return t===void 0&&(t={}),Object.keys(n).forEach(function(e){t[e]=n[e]}),t}function Rs(n,t,e){if(e===void 0&&(e={}),t)for(var i in n)e[i]=n[i];else Ds(n,e);return e}function V0(n,t,e){return e?t+":"+e+";":""}function z0(n){for(var t="",e=0;e<n.style.length;e++)t+=V0(0,i=n.style.item(e),n.style.getPropertyValue(i));for(var i in n.style)n.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=V0(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n.style[i]));n.setAttribute("style",t)}function js(n,t){n.style&&(Object.keys(t).forEach(function(e){var i=Td(e);n.style[i]=t[e]}),vd()&&z0(n))}function sl(n,t){n.style&&(Object.keys(t).forEach(function(e){var i=Td(e);n.style[i]=""}),vd()&&z0(n))}function al(n){return Array.isArray(n)?n.length==1?n[0]:uy(n):n}var Od=new RegExp("{{\\s*(.+?)\\s*}}","g");function H0(n){var t=[];if(typeof n=="string"){for(var e=n.toString(),i=void 0;i=Od.exec(e);)t.push(i[1]);Od.lastIndex=0}return t}function Xu(n,t,e){var i=n.toString(),r=i.replace(Od,function(o,s){var f=t[s];return t.hasOwnProperty(s)||(e.push("Please provide a value for the animation param "+s),f=""),f.toString()});return r==i?n:r}function Yu(n){for(var t=[],e=n.next();!e.done;)t.push(e.value),e=n.next();return t}var yk=/-+([a-z0-9])/g;function Td(n){return n.replace(yk,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function U0(n,t){return n===0||t===0}function W0(n,t,e){var i=Object.keys(e);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach(function(_){r.hasOwnProperty(_)||o.push(_),r[_]=e[_]}),o.length)for(var s=function(){var _=t[f];o.forEach(function(S){_[S]=Id(n,S)})},f=1;f<t.length;f++)s()}return t}function Yi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Id(n,t){return window.getComputedStyle(n)[t]}var Gu="*",qu=new Set(["true","1"]),Ku=new Set(["false","0"]);function X0(n,t){var e=qu.has(n)||Ku.has(n),i=qu.has(t)||Ku.has(t);return function(r,o){var s=n==Gu||n==r,f=t==Gu||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?qu.has(n):Ku.has(n)),!f&&i&&typeof o=="boolean"&&(f=o?qu.has(t):Ku.has(t)),s&&f}}var bk=new RegExp("s*:selfs*,?","g");function Y0(n,t,e){return new _k(n).build(t,e)}var _k=function(){function n(t){this._driver=t}return n.prototype.build=function(t,e){var i=new wk(e);return this._resetContextStyleTimingState(i),Yi(this,al(t),i)},n.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},n.prototype.visitTrigger=function(t,e){var i=this,r=e.queryCount=0,o=e.depCount=0,s=[],f=[];return t.name.charAt(0)=="@"&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(_){if(i._resetContextStyleTimingState(e),_.type==0){var S=_,T=S.name;T.toString().split(/\s*,\s*/).forEach(function(U){S.name=U,s.push(i.visitState(S,e))}),S.name=T}else if(_.type==1){var F=i.visitTransition(_,e);r+=F.queryCount,o+=F.depCount,f.push(F)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:f,queryCount:r,depCount:o,options:null}},n.prototype.visitState=function(t,e){var i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){var o=new Set,s=r||{};if(i.styles.forEach(function(_){if(Zu(_)){var S=_;Object.keys(S).forEach(function(T){H0(S[T]).forEach(function(F){s.hasOwnProperty(F)||o.add(F)})})}}),o.size){var f=Yu(o.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+f.join(", "))}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}},n.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var i,r,o,s=Yi(this,al(t.animation),e);return{type:1,matchers:(i=t.expr,r=e.errors,o=[],typeof i=="string"?i.split(/\s*,\s*/).forEach(function(f){return function(_,S,T){if(_[0]==":"){var F=function(xt,yt){switch(xt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(Dt,Pt){return parseFloat(Pt)>parseFloat(Dt)};case":decrement":return function(Dt,Pt){return parseFloat(Pt)<parseFloat(Dt)};default:return yt.push('The transition alias value "'+xt+'" is not supported'),"* => *"}}(_,T);if(typeof F=="function")return void S.push(F);_=F}var U=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(U==null||U.length<4)return T.push('The provided transition expression "'+_+'" is not supported'),S;var J=U[1],ct=U[2],st=U[3];S.push(X0(J,st)),ct[0]!="<"||J==Gu&&st==Gu||S.push(X0(st,J))}(f,o,r)}):o.push(i),o),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:Ko(t.options)}},n.prototype.visitSequence=function(t,e){var i=this;return{type:2,steps:t.steps.map(function(r){return Yi(i,r,e)}),options:Ko(t.options)}},n.prototype.visitGroup=function(t,e){var i=this,r=e.currentTime,o=0,s=t.steps.map(function(f){e.currentTime=r;var _=Yi(i,f,e);return o=Math.max(o,e.currentTime),_});return e.currentTime=o,{type:3,steps:s,options:Ko(t.options)}},n.prototype.visitAnimate=function(t,e){var i,r=function(T,F){var U=null;if(T.hasOwnProperty("duration"))U=T;else if(typeof T=="number")return Ad(Wu(T,F).duration,0,"");var J=T;if(J.split(/\s+/).some(function(st){return st.charAt(0)=="{"&&st.charAt(1)=="{"})){var ct=Ad(0,0,"");return ct.dynamic=!0,ct.strValue=J,ct}return Ad((U=U||Wu(J,F)).duration,U.delay,U.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var o=t.styles?t.styles:cy({});if(o.type==5)i=this.visitKeyframes(o,e);else{var s=t.styles,f=!1;if(!s){f=!0;var _={};r.easing&&(_.easing=r.easing),s=cy(_)}e.currentTime+=r.duration+r.delay;var S=this.visitStyle(s,e);S.isEmptyStep=f,i=S}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}},n.prototype.visitStyle=function(t,e){var i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i},n.prototype._makeStyleAst=function(t,e){var i=[];Array.isArray(t.styles)?t.styles.forEach(function(s){typeof s=="string"?s==Lr?i.push(s):e.errors.push("The provided style string value "+s+" is not allowed."):i.push(s)}):i.push(t.styles);var r=!1,o=null;return i.forEach(function(s){if(Zu(s)){var f=s,_=f.easing;if(_&&(o=_,delete f.easing),!r){for(var S in f)if(f[S].toString().indexOf("{{")>=0){r=!0;break}}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}},n.prototype._validateStyleAst=function(t,e){var i=this,r=e.currentAnimateTimings,o=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(function(f){typeof f!="string"&&Object.keys(f).forEach(function(_){if(i._driver.validateStyleProperty(_)){var S,T,F,U=e.collectedStyles[e.currentQuerySelector],J=U[_],ct=!0;J&&(s!=o&&s>=J.startTime&&o<=J.endTime&&(e.errors.push('The CSS property "'+_+'" that exists between the times of "'+J.startTime+'ms" and "'+J.endTime+'ms" is also being animated in a parallel animation between the times of "'+s+'ms" and "'+o+'ms"'),ct=!1),s=J.startTime),ct&&(U[_]={startTime:s,endTime:o}),e.options&&(S=e.errors,T=e.options.params||{},(F=H0(f[_])).length&&F.forEach(function(st){T.hasOwnProperty(st)||S.push("Unable to resolve the local animation param "+st+" in the given list of values")}))}else e.errors.push('The provided animation property "'+_+'" is not a supported CSS property for animations')})})},n.prototype.visitKeyframes=function(t,e){var i=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var o=0,s=[],f=!1,_=!1,S=0,T=t.steps.map(function(yt){var Dt=i._makeStyleAst(yt,e),Pt=Dt.offset!=null?Dt.offset:function(qt){if(typeof qt=="string")return null;var Zt=null;if(Array.isArray(qt))qt.forEach(function(ce){if(Zu(ce)&&ce.hasOwnProperty("offset")){var Yt=ce;Zt=parseFloat(Yt.offset),delete Yt.offset}});else if(Zu(qt)&&qt.hasOwnProperty("offset")){var ie=qt;Zt=parseFloat(ie.offset),delete ie.offset}return Zt}(Dt.styles),At=0;return Pt!=null&&(o++,At=Dt.offset=Pt),_=_||At<0||At>1,f=f||At<S,S=At,s.push(At),Dt});_&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");var F=t.steps.length,U=0;o>0&&o<F?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):o==0&&(U=1/(F-1));var J=F-1,ct=e.currentTime,st=e.currentAnimateTimings,xt=st.duration;return T.forEach(function(yt,Dt){var Pt=U>0?Dt==J?1:U*Dt:s[Dt],At=Pt*xt;e.currentTime=ct+st.delay+At,st.duration=At,i._validateStyleAst(yt,e),yt.offset=Pt,r.styles.push(yt)}),r},n.prototype.visitReference=function(t,e){return{type:8,animation:Yi(this,al(t.animation),e),options:Ko(t.options)}},n.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:Ko(t.options)}},n.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ko(t.options)}},n.prototype.visitQuery=function(t,e){var i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var o=z(function(S){var T=!!S.split(/\s*,\s*/).find(function(F){return F==":self"});return T&&(S=S.replace(bk,"")),[S=S.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(F){return".ng-trigger-"+F.substr(1)}).replace(/:animating/g,".ng-animating"),T]}(t.selector),2),s=o[0],f=o[1];e.currentQuerySelector=i.length?i+" "+s:s,Xi(e.collectedStyles,e.currentQuerySelector,{});var _=Yi(this,al(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:Ko(t.options)}},n.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Wu(t.timings,e.errors,!0);return{type:12,animation:Yi(this,al(t.animation),e),timings:i,options:null}},n}(),wk=function(){return function(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function Zu(n){return!Array.isArray(n)&&typeof n=="object"}function Ko(n){var t;return n?(n=Ds(n)).params&&(n.params=(t=n.params)?Ds(t):null):n={},n}function Ad(n,t,e){return{duration:n,delay:t,easing:e}}function Pd(n,t,e,i,r,o,s,f){return s===void 0&&(s=null),f===void 0&&(f=!1),{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:f}}var Dd=function(){function n(){this._map=new Map}return n.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},n.prototype.append=function(t,e){var i=this._map.get(t);i||this._map.set(t,i=[]),i.push.apply(i,N(e))},n.prototype.has=function(t){return this._map.has(t)},n.prototype.clear=function(){this._map.clear()},n}(),xk=new RegExp(":enter","g"),Ck=new RegExp(":leave","g");function G0(n,t,e,i,r,o,s,f,_,S){return o===void 0&&(o={}),s===void 0&&(s={}),S===void 0&&(S=[]),new Sk().buildKeyframes(n,t,e,i,r,o,s,f,_,S)}var Sk=function(){function n(){}return n.prototype.buildKeyframes=function(t,e,i,r,o,s,f,_,S,T){T===void 0&&(T=[]),S=S||new Dd;var F=new kk(t,e,S,r,o,T,[]);F.options=_,F.currentTimeline.setStyles([s],null,F.errors,_),Yi(this,i,F);var U=F.timelines.filter(function(ct){return ct.containsAnimation()});if(U.length&&Object.keys(f).length){var J=U[U.length-1];J.allowOnlyTimelineStyles()||J.setStyles([f],null,F.errors,_)}return U.length?U.map(function(ct){return ct.buildKeyframes()}):[Pd(e,[],[],[],0,0,"",!1)]},n.prototype.visitTrigger=function(t,e){},n.prototype.visitState=function(t,e){},n.prototype.visitTransition=function(t,e){},n.prototype.visitAnimateChild=function(t,e){var i=e.subInstructions.consume(e.element);if(i){var r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t},n.prototype.visitAnimateRef=function(t,e){var i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t},n.prototype._visitSubInstructions=function(t,e,i){var r=e.currentTimeline.currentTime,o=i.duration!=null?qo(i.duration):null,s=i.delay!=null?qo(i.delay):null;return o!==0&&t.forEach(function(f){var _=e.appendInstructionToTimeline(f,o,s);r=Math.max(r,_.duration+_.delay)}),r},n.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Yi(this,t.animation,e),e.previousNode=t},n.prototype.visitSequence=function(t,e){var i=this,r=e.subContextCount,o=e,s=t.options;if(s&&(s.params||s.delay)&&((o=e.createSubContext(s)).transformIntoNewTimeline(),s.delay!=null)){o.previousNode.type==6&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ju);var f=qo(s.delay);o.delayNextStep(f)}t.steps.length&&(t.steps.forEach(function(_){return Yi(i,_,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t},n.prototype.visitGroup=function(t,e){var i=this,r=[],o=e.currentTimeline.currentTime,s=t.options&&t.options.delay?qo(t.options.delay):0;t.steps.forEach(function(f){var _=e.createSubContext(t.options);s&&_.delayNextStep(s),Yi(i,f,_),o=Math.max(o,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(function(f){return e.currentTimeline.mergeTimelineCollectedStyles(f)}),e.transformIntoNewTimeline(o),e.previousNode=t},n.prototype._visitTiming=function(t,e){if(t.dynamic){var i=t.strValue;return Wu(e.params?Xu(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},n.prototype.visitAnimate=function(t,e){var i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());var o=t.style;o.type==5?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},n.prototype.visitStyle=function(t,e){var i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t},n.prototype.visitKeyframes=function(t,e){var i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(function(f){s.forwardTime((f.offset||0)*o),s.setStyles(f.styles,f.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t},n.prototype.visitQuery=function(t,e){var i=this,r=e.currentTimeline.currentTime,o=t.options||{},s=o.delay?qo(o.delay):0;s&&(e.previousNode.type===6||r==0&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ju);var f=r,_=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=_.length;var S=null;_.forEach(function(T,F){e.currentQueryIndex=F;var U=e.createSubContext(t.options,T);s&&U.delayNextStep(s),T===e.element&&(S=U.currentTimeline),Yi(i,t.animation,U),U.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,U.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),S&&(e.currentTimeline.mergeTimelineCollectedStyles(S),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},n.prototype.visitStagger=function(t,e){var i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),f=s*(e.currentQueryTotal-1),_=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}var S=e.currentTimeline;_&&S.delayNextStep(_);var T=S.currentTime;Yi(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)},n}(),Ju={},kk=function(){function n(t,e,i,r,o,s,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ju,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new q0(this._driver,e,0),f.push(this.currentTimeline)}return Object.defineProperty(n.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),n.prototype.updateOptions=function(t,e){var i=this;if(t){var r=t,o=this.options;r.duration!=null&&(o.duration=qo(r.duration)),r.delay!=null&&(o.delay=qo(r.delay));var s=r.params;if(s){var f=o.params;f||(f=this.options.params={}),Object.keys(s).forEach(function(_){e&&f.hasOwnProperty(_)||(f[_]=Xu(s[_],f,i.errors))})}}},n.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var i=t.params={};Object.keys(e).forEach(function(r){i[r]=e[r]})}}return t},n.prototype.createSubContext=function(t,e,i){t===void 0&&(t=null);var r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},n.prototype.transformIntoNewTimeline=function(t){return this.previousNode=Ju,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},n.prototype.appendInstructionToTimeline=function(t,e,i){var r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Ek(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r},n.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},n.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},n.prototype.invokeQuery=function(t,e,i,r,o,s){var f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(xk,"."+this._enterClassName)).replace(Ck,"."+this._leaveClassName);var _=this._driver.query(this.element,t,i!=1);i!==0&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),f.push.apply(f,N(_))}return o||f.length!=0||s.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),f},n}(),q0=function(){function n(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return n.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},n.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(n.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),n.prototype.delayNextStep=function(t){var e=this._keyframes.size==1&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},n.prototype.fork=function(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)},n.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},n.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},n.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},n.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},n.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},n.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(i){e._backFill[i]=e._globalTimelineStyles[i]||Lr,e._currentKeyframe[i]=Lr}),this._currentEmptyStepKeyframe=this._currentKeyframe},n.prototype.setStyles=function(t,e,i,r){var o=this;e&&(this._previousKeyframe.easing=e);var s=r&&r.params||{},f=function(_,S){var T,F={};return _.forEach(function(U){U==="*"?(T=T||Object.keys(S)).forEach(function(J){F[J]=Lr}):Rs(U,!1,F)}),F}(t,this._globalTimelineStyles);Object.keys(f).forEach(function(_){var S=Xu(f[_],s,i);o._pendingStyles[_]=S,o._localTimelineStyles.hasOwnProperty(_)||(o._backFill[_]=o._globalTimelineStyles.hasOwnProperty(_)?o._globalTimelineStyles[_]:Lr),o._updateStyle(_,S)})},n.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,i=Object.keys(e);i.length!=0&&(this._pendingStyles={},i.forEach(function(r){t._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(function(r){t._currentKeyframe.hasOwnProperty(r)||(t._currentKeyframe[r]=t._localTimelineStyles[r])}))},n.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var i=t._localTimelineStyles[e];t._pendingStyles[e]=i,t._updateStyle(e,i)})},n.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(n.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),n.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(i){var r=e._styleSummary[i],o=t._styleSummary[i];(!r||o.time>r.time)&&e._updateStyle(i,o.value)})},n.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,i=new Set,r=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach(function(T,F){var U=Rs(T,!0);Object.keys(U).forEach(function(J){var ct=U[J];ct==Hp?e.add(J):ct==Lr&&i.add(J)}),r||(U.offset=F/t.duration),o.push(U)});var s=e.size?Yu(e.values()):[],f=i.size?Yu(i.values()):[];if(r){var _=o[0],S=Ds(_);_.offset=0,S.offset=1,o=[_,S]}return Pd(this.element,o,s,f,this.duration,this.startTime,this.easing,!1)},n}(),Ek=function(n){function t(e,i,r,o,s,f,_){_===void 0&&(_=!1);var S=n.call(this,e,i,f.delay)||this;return S.element=i,S.keyframes=r,S.preStyleProps=o,S.postStyleProps=s,S._stretchStartingKeyframe=_,S.timings={duration:f.duration,delay:f.delay,easing:f.easing},S}return k(t,n),t.prototype.containsAnimation=function(){return this.keyframes.length>1},t.prototype.buildKeyframes=function(){var e=this.keyframes,i=this.timings,r=i.delay,o=i.duration,s=i.easing;if(this._stretchStartingKeyframe&&r){var f=[],_=o+r,S=r/_,T=Rs(e[0],!1);T.offset=0,f.push(T);var F=Rs(e[0],!1);F.offset=K0(S),f.push(F);for(var U=e.length-1,J=1;J<=U;J++){var ct=Rs(e[J],!1);ct.offset=K0((r+ct.offset*o)/_),f.push(ct)}o=_,r=0,s="",e=f}return Pd(this.element,e,this.preStyleProps,this.postStyleProps,o,r,s,!0)},t}(q0);function K0(n,t){t===void 0&&(t=3);var e=Math.pow(10,t-1);return Math.round(n*e)/e}var Rd=function(){return function(){}}(),Ok=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype.normalizePropertyName=function(e,i){return Td(e)},t.prototype.normalizeStyleValue=function(e,i,r,o){var s="",f=r.toString().trim();if(Tk[i]&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{var _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&_[1].length==0&&o.push("Please provide a CSS unit value for "+e+":"+r)}return f+s},t}(Rd),Tk=Ik("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ik(n){var t={};return n.forEach(function(e){return t[e]=!0}),t}function Z0(n,t,e,i,r,o,s,f,_,S,T,F,U){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:f,queriedElements:_,preStyleProps:S,postStyleProps:T,totalTime:F,errors:U}}var jd={},J0=function(){function n(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}return n.prototype.match=function(t,e,i,r){return function(o,s,f,_,S){return o.some(function(T){return T(s,f,_,S)})}(this.ast.matchers,t,e,i,r)},n.prototype.buildStyles=function(t,e,i){var r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s},n.prototype.build=function(t,e,i,r,o,s,f,_,S,T){var F=[],U=this.ast.options&&this.ast.options.params||jd,J=this.buildStyles(i,f&&f.params||jd,F),ct=_&&_.params||jd,st=this.buildStyles(r,ct,F),xt=new Set,yt=new Map,Dt=new Map,Pt=r==="void",At={params:j({},U,ct)},qt=T?[]:G0(t,e,this.ast.animation,o,s,J,st,At,S,F),Zt=0;if(qt.forEach(function(ce){Zt=Math.max(ce.duration+ce.delay,Zt)}),F.length)return Z0(e,this._triggerName,i,r,Pt,J,st,[],[],yt,Dt,Zt,F);qt.forEach(function(ce){var Yt=ce.element,Wt=Xi(yt,Yt,{});ce.preStyleProps.forEach(function(Ke){return Wt[Ke]=!0});var Le=Xi(Dt,Yt,{});ce.postStyleProps.forEach(function(Ke){return Le[Ke]=!0}),Yt!==e&&xt.add(Yt)});var ie=Yu(xt.values());return Z0(e,this._triggerName,i,r,Pt,J,st,qt,ie,yt,Dt,Zt)},n}(),Ak=function(){function n(t,e){this.styles=t,this.defaultParams=e}return n.prototype.buildStyles=function(t,e){var i={},r=Ds(this.defaultParams);return Object.keys(t).forEach(function(o){var s=t[o];s!=null&&(r[o]=s)}),this.styles.styles.forEach(function(o){if(typeof o!="string"){var s=o;Object.keys(s).forEach(function(f){var _=s[f];_.length>1&&(_=Xu(_,r,e)),i[f]=_})}}),i},n}(),Pk=function(){function n(t,e){var i=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(r){i.states[r.name]=new Ak(r.style,r.options&&r.options.params||{})}),Q0(this.states,"true","1"),Q0(this.states,"false","0"),e.transitions.forEach(function(r){i.transitionFactories.push(new J0(t,r,i.states))}),this.fallbackTransition=new J0(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(r,o){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(n.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),n.prototype.matchTransition=function(t,e,i,r){return this.transitionFactories.find(function(o){return o.match(t,e,i,r)})||null},n.prototype.matchStyles=function(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)},n}();function Q0(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}var Dk=new Dd,Rk=function(){function n(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return n.prototype.register=function(t,e){var i=[],r=Y0(this._driver,e,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: "+i.join(`
`));this._animations[t]=r},n.prototype._buildPlayer=function(t,e,i){var r=t.element,o=P0(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)},n.prototype.create=function(t,e,i){var r=this;i===void 0&&(i={});var o,s=[],f=this._animations[t],_=new Map;if(f?(o=G0(this._driver,e,f,"ng-enter","ng-leave",{},{},i,Dk,s)).forEach(function(T){var F=Xi(_,T.element,{});T.postStyleProps.forEach(function(U){return F[U]=null})}):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join(`
`));_.forEach(function(T,F){Object.keys(T).forEach(function(U){T[U]=r._driver.computeStyle(F,U,Lr)})});var S=mo(o.map(function(T){var F=_.get(T.element);return r._buildPlayer(T,{},F)}));return this._playersById[t]=S,S.onDestroy(function(){return r.destroy(t)}),this.players.push(S),S},n.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)},n.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},n.prototype.listen=function(t,e,i,r){var o=_d(e,"","","");return yd(this._getPlayer(t),i,o,r),function(){}},n.prototype.command=function(t,e,i,r){if(i!="register")if(i!="create"){var o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},n}(),jk=[],Fk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pr="__ng_removed",Fd=function(){function n(t,e){e===void 0&&(e=""),this.namespaceId=e;var i=t&&t.hasOwnProperty("value");if(this.value=function(o){return o??null}(i?t.value:t),i){var r=Ds(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(n.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),n.prototype.absorbOptions=function(t){var e=t.params;if(e){var i=this.options.params;Object.keys(e).forEach(function(r){i[r]==null&&(i[r]=e[r])})}},n}(),Md=new Fd("void"),Lk=function(){function n(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,nr(e,this._hostClassName)}return n.prototype.listen=function(t,e,i,r){var o,s=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+i+'" because the animation trigger "'+e+`" doesn't exist!`);if(i==null||i.length==0)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if((o=i)!="start"&&o!="done")throw new Error('The provided animation trigger event "'+i+'" for the animation trigger "'+e+'" is not supported!');var f=Xi(this._elementListeners,t,[]),_={name:e,phase:i,callback:r};f.push(_);var S=Xi(this._engine.statesByElement,t,{});return S.hasOwnProperty(e)||(nr(t,"ng-trigger"),nr(t,"ng-trigger-"+e),S[e]=Md),function(){s._engine.afterFlush(function(){var T=f.indexOf(_);T>=0&&f.splice(T,1),s._triggers[e]||delete S[e]})}},n.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},n.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},n.prototype.trigger=function(t,e,i,r){var o=this;r===void 0&&(r=!0);var s=this._getTrigger(e),f=new Ld(this.id,e,t),_=this._engine.statesByElement.get(t);_||(nr(t,"ng-trigger"),nr(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,_={}));var S=_[e],T=new Fd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&S&&T.absorbOptions(S.options),_[e]=T,S||(S=Md),T.value==="void"||S.value!==T.value){var F=Xi(this._engine.playersByElement,t,[]);F.forEach(function(yt){yt.namespaceId==o.id&&yt.triggerName==e&&yt.queued&&yt.destroy()});var U=s.matchTransition(S.value,T.value,t,T.params),J=!1;if(!U){if(!r)return;U=s.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:U,fromState:S,toState:T,player:f,isFallbackTransition:J}),J||(nr(t,"ng-animate-queued"),f.onStart(function(){Fs(t,"ng-animate-queued")})),f.onDone(function(){var yt=o.players.indexOf(f);yt>=0&&o.players.splice(yt,1);var Dt=o._engine.playersByElement.get(t);if(Dt){var Pt=Dt.indexOf(f);Pt>=0&&Dt.splice(Pt,1)}}),this.players.push(f),F.push(f),f}if(!function(yt,Dt){var Pt=Object.keys(yt),At=Object.keys(Dt);if(Pt.length!=At.length)return!1;for(var qt=0;qt<Pt.length;qt++){var Zt=Pt[qt];if(!Dt.hasOwnProperty(Zt)||yt[Zt]!==Dt[Zt])return!1}return!0}(S.params,T.params)){var ct=[],st=s.matchStyles(S.value,S.params,ct),xt=s.matchStyles(T.value,T.params,ct);ct.length?this._engine.reportError(ct):this._engine.afterFlush(function(){sl(t,st),js(t,xt)})}},n.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(i,r){delete i[t]}),this._elementListeners.forEach(function(i,r){e._elementListeners.set(r,i.filter(function(o){return o.name!=t}))})},n.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(t))},n.prototype._signalRemovalForInnerTriggers=function(t,e,i){var r=this;i===void 0&&(i=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(o){if(!o[pr]){var s=r._engine.fetchNamespacesByElement(o);s.size?s.forEach(function(f){return f.triggerLeaveAnimation(o,e,!1,!0)}):r.clearElementCache(o)}})},n.prototype.triggerLeaveAnimation=function(t,e,i,r){var o=this,s=this._engine.statesByElement.get(t);if(s){var f=[];if(Object.keys(s).forEach(function(_){if(o._triggers[_]){var S=o.trigger(t,_,"void",r);S&&f.push(S)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&mo(f).onDone(function(){return o._engine.processLeaveNode(t)}),!0}return!1},n.prototype.prepareLeaveAnimationListeners=function(t){var e=this,i=this._elementListeners.get(t);if(i){var r=new Set;i.forEach(function(o){var s=o.name;if(!r.has(s)){r.add(s);var f=e._triggers[s].fallbackTransition,_=e._engine.statesByElement.get(t)[s]||Md,S=new Fd("void"),T=new Ld(e.id,s,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:s,transition:f,fromState:_,toState:S,player:T,isFallbackTransition:!0})}})}},n.prototype.removeNode=function(t,e){var i=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var o=!1;if(r.totalAnimations){var s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)o=!0;else for(var f=t;f=f.parentNode;)if(r.statesByElement.get(f)){o=!0;break}}this.prepareLeaveAnimationListeners(t),o?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return i.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},n.prototype.insertNode=function(t,e){nr(t,this._hostClassName)},n.prototype.drainQueuedTransitions=function(t){var e=this,i=[];return this._queue.forEach(function(r){var o=r.player;if(!o.destroyed){var s=r.element,f=e._elementListeners.get(s);f&&f.forEach(function(_){if(_.name==r.triggerName){var S=_d(s,r.triggerName,r.fromState.value,r.toState.value);S._data=t,yd(r.player,_.phase,S,_.callback)}}),o.markedForDestroy?e._engine.afterFlush(function(){o.destroy()}):i.push(r)}}),this._queue=[],i.sort(function(r,o){var s=r.transition.ast.depCount,f=o.transition.ast.depCount;return s==0||f==0?s-f:e._engine.driver.containsElement(r.element,o.element)?1:-1})},n.prototype.destroy=function(t){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},n.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(i){return i.element===t})||e},n}(),Nk=function(){function n(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(r,o){}}return n.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(n.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(i){i.queued&&t.push(i)})}),t},enumerable:!0,configurable:!0}),n.prototype.createNamespace=function(t,e){var i=new Lk(t,e,this);return e.parentNode?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i},n.prototype._balanceNamespaceList=function(t,e){var i=this._namespaceList.length-1;if(i>=0){for(var r=!1,o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},n.prototype.register=function(t,e){var i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i},n.prototype.registerTrigger=function(t,e,i){var r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++},n.prototype.destroy=function(t,e){var i=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){i.namespacesByHostElement.delete(r.hostElement),delete i._namespaceLookup[t];var o=i._namespaceList.indexOf(r);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},n.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},n.prototype.fetchNamespacesByElement=function(t){var e=new Set,i=this.statesByElement.get(t);if(i)for(var r=Object.keys(i),o=0;o<r.length;o++){var s=i[r[o]].namespaceId;if(s){var f=this._fetchNamespace(s);f&&e.add(f)}}return e},n.prototype.trigger=function(t,e,i,r){if(Qu(e)){var o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1},n.prototype.insertNode=function(t,e,i,r){if(Qu(e)){var o=e[pr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){var f=this._fetchNamespace(t);f&&f.insertNode(e,i)}r&&this.collectEnterElement(e)}},n.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},n.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),nr(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Fs(t,"ng-animate-disabled"))},n.prototype.removeNode=function(t,e,i){if(Qu(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i)}else this._onRemovalComplete(e,i)},n.prototype.markElementAsRemoved=function(t,e,i,r){this.collectedLeaveElements.push(e),e[pr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}},n.prototype.listen=function(t,e,i,r,o){return Qu(e)?this._fetchNamespace(t).listen(e,i,r,o):function(){}},n.prototype._buildInstruction=function(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)},n.prototype.destroyInnerAnimations=function(t){var e=this,i=this.driver.query(t,".ng-trigger",!0);i.forEach(function(r){return e.destroyActiveAnimationsForElement(r)}),this.playersByQueriedElement.size!=0&&(i=this.driver.query(t,".ng-animating",!0)).forEach(function(r){return e.finishActiveQueriedAnimationOnElement(r)})},n.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})},n.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(i){return i.finish()})},n.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return mo(t.players).onDone(function(){return e()});e()})},n.prototype.processLeaveNode=function(t){var e=this,i=t[pr];if(i&&i.setForRemoval){if(t[pr]=Fk,i.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(o){e.markElementAsDisabled(o,!1)})},n.prototype.flush=function(t){var e=this;t===void 0&&(t=-1);var i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(f,_){return e._balanceNamespaceList(f,_)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)nr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{i=this._flushAnimations(o,t)}finally{for(r=0;r<o.length;r++)o[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(f){return f()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],i.length?mo(i).onDone(function(){s.forEach(function(f){return f()})}):s.forEach(function(f){return f()})}},n.prototype.reportError=function(t){throw new Error(`Unable to process animations due to the following failed trigger transitions
 `+t.join(`
`))},n.prototype._flushAnimations=function(t,e){var i=this,r=new Dd,o=[],s=new Map,f=[],_=new Map,S=new Map,T=new Map,F=new Set;this.disabledNodes.forEach(function(ye){F.add(ye);for(var Ne=i.driver.query(ye,".ng-animate-queued",!0),qe=0;qe<Ne.length;qe++)F.add(Ne[qe])});var U=this.bodyNode,J=Array.from(this.statesByElement.keys()),ct=eb(J,this.collectedEnterElements),st=new Map,xt=0;ct.forEach(function(ye,Ne){var qe="ng-enter"+xt++;st.set(Ne,qe),ye.forEach(function(_i){return nr(_i,qe)})});for(var yt=[],Dt=new Set,Pt=new Set,At=0;At<this.collectedLeaveElements.length;At++)(_e=(vn=this.collectedLeaveElements[At])[pr])&&_e.setForRemoval&&(yt.push(vn),Dt.add(vn),_e.hasAnimation?this.driver.query(vn,".ng-star-inserted",!0).forEach(function(ye){return Dt.add(ye)}):Pt.add(vn));var qt=new Map,Zt=eb(J,Array.from(Dt));Zt.forEach(function(ye,Ne){var qe="ng-leave"+xt++;qt.set(Ne,qe),ye.forEach(function(_i){return nr(_i,qe)})}),t.push(function(){ct.forEach(function(ye,Ne){var qe=st.get(Ne);ye.forEach(function(_i){return Fs(_i,qe)})}),Zt.forEach(function(ye,Ne){var qe=qt.get(Ne);ye.forEach(function(_i){return Fs(_i,qe)})}),yt.forEach(function(ye){i.processLeaveNode(ye)})});for(var ie=[],ce=[],Yt=this._namespaceList.length-1;Yt>=0;Yt--)this._namespaceList[Yt].drainQueuedTransitions(e).forEach(function(ye){var Ne=ye.player,qe=ye.element;if(ie.push(Ne),i.collectedEnterElements.length){var _i=qe[pr];if(_i&&_i.setForMove)return void Ne.destroy()}var ts=!U||!i.driver.containsElement(U,qe),Us=qt.get(qe),yc=st.get(qe),wi=i._buildInstruction(ye,r,yc,Us,ts);if(wi.errors&&wi.errors.length)ce.push(wi);else{if(ts)return Ne.onStart(function(){return sl(qe,wi.fromStyles)}),Ne.onDestroy(function(){return js(qe,wi.toStyles)}),void o.push(Ne);if(ye.isFallbackTransition)return Ne.onStart(function(){return sl(qe,wi.fromStyles)}),Ne.onDestroy(function(){return js(qe,wi.toStyles)}),void o.push(Ne);wi.timelines.forEach(function(Vr){return Vr.stretchStartingKeyframe=!0}),r.append(qe,wi.timelines),f.push({instruction:wi,player:Ne,element:qe}),wi.queriedElements.forEach(function(Vr){return Xi(_,Vr,[]).push(Ne)}),wi.preStyleProps.forEach(function(Vr,zr){var Ws=Object.keys(Vr);if(Ws.length){var es=S.get(zr);es||S.set(zr,es=new Set),Ws.forEach(function(cf){return es.add(cf)})}}),wi.postStyleProps.forEach(function(Vr,zr){var Ws=Object.keys(Vr),es=T.get(zr);es||T.set(zr,es=new Set),Ws.forEach(function(cf){return es.add(cf)})})}});if(ce.length){var Wt=[];ce.forEach(function(ye){Wt.push("@"+ye.triggerName+` has failed due to:
`),ye.errors.forEach(function(Ne){return Wt.push("- "+Ne+`
`)})}),ie.forEach(function(ye){return ye.destroy()}),this.reportError(Wt)}var Le=new Map,Ke=new Map;f.forEach(function(ye){var Ne=ye.element;r.has(Ne)&&(Ke.set(Ne,Ne),i._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,Le))}),o.forEach(function(ye){var Ne=ye.element;i._getPreviousPlayers(Ne,!1,ye.namespaceId,ye.triggerName,null).forEach(function(qe){Xi(Le,Ne,[]).push(qe),qe.destroy()})});var dn=yt.filter(function(ye){return nb(ye,S,T)}),an=new Map;tb(an,this.driver,Pt,T,Lr).forEach(function(ye){nb(ye,S,T)&&dn.push(ye)});var mn=new Map;ct.forEach(function(ye,Ne){tb(mn,i.driver,new Set(ye),S,Hp)}),dn.forEach(function(ye){var Ne=an.get(ye),qe=mn.get(ye);an.set(ye,j({},Ne,qe))});var en=[],ln=[],Sn={};f.forEach(function(ye){var Ne=ye.element,qe=ye.player,_i=ye.instruction;if(r.has(Ne)){if(F.has(Ne))return qe.onDestroy(function(){return js(Ne,_i.toStyles)}),qe.disabled=!0,qe.overrideTotalTime(_i.totalTime),void o.push(qe);var ts=Sn;if(Ke.size>1){for(var Us=Ne,yc=[];Us=Us.parentNode;){var wi=Ke.get(Us);if(wi){ts=wi;break}yc.push(Us)}yc.forEach(function(Ws){return Ke.set(Ws,ts)})}var Vr=i._buildAnimation(qe.namespaceId,_i,Le,s,mn,an);if(qe.setRealPlayer(Vr),ts===Sn)en.push(qe);else{var zr=i.playersByElement.get(ts);zr&&zr.length&&(qe.parentPlayer=mo(zr)),o.push(qe)}}else sl(Ne,_i.fromStyles),qe.onDestroy(function(){return js(Ne,_i.toStyles)}),ln.push(qe),F.has(Ne)&&o.push(qe)}),ln.forEach(function(ye){var Ne=s.get(ye.element);if(Ne&&Ne.length){var qe=mo(Ne);ye.setRealPlayer(qe)}}),o.forEach(function(ye){ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(var Tn=0;Tn<yt.length;Tn++){var vn,_e=(vn=yt[Tn])[pr];if(Fs(vn,"ng-leave"),!_e||!_e.hasAnimation){var Ve=[];if(_.size){var pe=_.get(vn);pe&&pe.length&&Ve.push.apply(Ve,N(pe));for(var nn=this.driver.query(vn,".ng-animating",!0),Re=0;Re<nn.length;Re++){var Bi=_.get(nn[Re]);Bi&&Bi.length&&Ve.push.apply(Ve,N(Bi))}}var L_=Ve.filter(function(ye){return!ye.destroyed});L_.length?Bk(this,vn,L_):this.processLeaveNode(vn)}}return yt.length=0,en.forEach(function(ye){i.players.push(ye),ye.onDone(function(){ye.destroy();var Ne=i.players.indexOf(ye);i.players.splice(Ne,1)}),ye.play()}),en},n.prototype.elementContainsData=function(t,e){var i=!1,r=e[pr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i},n.prototype.afterFlush=function(t){this._flushFns.push(t)},n.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},n.prototype._getPreviousPlayers=function(t,e,i,r,o){var s=[];if(e){var f=this.playersByQueriedElement.get(t);f&&(s=f)}else{var _=this.playersByElement.get(t);if(_){var S=!o||o=="void";_.forEach(function(T){T.queued||(S||T.triggerName==r)&&s.push(T)})}}return(i||r)&&(s=s.filter(function(T){return!(i&&i!=T.namespaceId||r&&r!=T.triggerName)})),s},n.prototype._beforeAnimationBuild=function(t,e,i){var r,o,s=e.element,f=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName,S=function(J){var ct=J.element,st=ct!==s,xt=Xi(i,ct,[]);T._getPreviousPlayers(ct,st,f,_,e.toState).forEach(function(yt){var Dt=yt.getRealPlayer();Dt.beforeDestroy&&Dt.beforeDestroy(),yt.destroy(),xt.push(yt)})},T=this;try{for(var F=X(e.timelines),U=F.next();!U.done;U=F.next())S(U.value)}catch(J){r={error:J}}finally{try{U&&!U.done&&(o=F.return)&&o.call(F)}finally{if(r)throw r.error}}sl(s,e.fromStyles)},n.prototype._buildAnimation=function(t,e,i,r,o,s){var f=this,_=e.triggerName,S=e.element,T=[],F=new Set,U=new Set,J=e.timelines.map(function(st){var xt=st.element;F.add(xt);var yt=xt[pr];if(yt&&yt.removedBeforeQueried)return new ks(st.duration,st.delay);var Dt,Pt,At=xt!==S,qt=(Dt=(i.get(xt)||jk).map(function(Le){return Le.getRealPlayer()}),Pt=[],function Le(Ke,dn){for(var an=0;an<Ke.length;an++){var mn=Ke[an];mn instanceof py?Le(mn.players,dn):dn.push(mn)}}(Dt,Pt),Pt).filter(function(Le){return!!Le.element&&Le.element===xt}),Zt=o.get(xt),ie=s.get(xt),ce=P0(0,f._normalizer,0,st.keyframes,Zt,ie),Yt=f._buildPlayer(st,ce,qt);if(st.subTimeline&&r&&U.add(xt),At){var Wt=new Ld(t,_,xt);Wt.setRealPlayer(Yt),T.push(Wt)}return Yt});T.forEach(function(st){Xi(f.playersByQueriedElement,st.element,[]).push(st),st.onDone(function(){return function(xt,yt,Dt){var Pt;if(xt instanceof Map){if(Pt=xt.get(yt)){if(Pt.length){var At=Pt.indexOf(Dt);Pt.splice(At,1)}Pt.length==0&&xt.delete(yt)}}else(Pt=xt[yt])&&(Pt.length&&(At=Pt.indexOf(Dt),Pt.splice(At,1)),Pt.length==0&&delete xt[yt]);return Pt}(f.playersByQueriedElement,st.element,st)})}),F.forEach(function(st){return nr(st,"ng-animating")});var ct=mo(J);return ct.onDestroy(function(){F.forEach(function(st){return Fs(st,"ng-animating")}),js(S,e.toStyles)}),U.forEach(function(st){Xi(r,st,[]).push(ct)}),ct},n.prototype._buildPlayer=function(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ks(t.duration,t.delay)},n}(),Ld=function(){function n(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ks,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return n.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(i){e._queuedCallbacks[i].forEach(function(r){return yd(t,i,void 0,r)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},n.prototype.getRealPlayer=function(){return this._player},n.prototype.overrideTotalTime=function(t){this.totalTime=t},n.prototype.syncPlayerEvents=function(t){var e=this,i=this._player;i.triggerCallback&&t.onStart(function(){return i.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},n.prototype._queueEvent=function(t,e){Xi(this._queuedCallbacks,t,[]).push(e)},n.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},n.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},n.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},n.prototype.init=function(){this._player.init()},n.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},n.prototype.play=function(){!this.queued&&this._player.play()},n.prototype.pause=function(){!this.queued&&this._player.pause()},n.prototype.restart=function(){!this.queued&&this._player.restart()},n.prototype.finish=function(){this._player.finish()},n.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},n.prototype.reset=function(){!this.queued&&this._player.reset()},n.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},n.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},n.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},n}();function Qu(n){return n&&n.nodeType===1}function $0(n,t){var e=n.style.display;return n.style.display=t??"none",e}function tb(n,t,e,i,r){var o=[];e.forEach(function(_){return o.push($0(_))});var s=[];i.forEach(function(_,S){var T={};_.forEach(function(F){var U=T[F]=t.computeStyle(S,F,r);U&&U.length!=0||(S[pr]=Mk,s.push(S))}),n.set(S,T)});var f=0;return e.forEach(function(_){return $0(_,o[f++])}),s}function eb(n,t){var e=new Map;if(n.forEach(function(o){return e.set(o,[])}),t.length==0)return e;var i=new Set(t),r=new Map;return t.forEach(function(o){var s=function f(_){if(!_)return 1;var S=r.get(_);if(S)return S;var T=_.parentNode;return S=e.has(T)?T:i.has(T)?1:f(T),r.set(_,S),S}(o);s!==1&&e.get(s).push(o)}),e}var Nd="$$classes";function nr(n,t){if(n.classList)n.classList.add(t);else{var e=n[Nd];e||(e=n[Nd]={}),e[t]=!0}}function Fs(n,t){if(n.classList)n.classList.remove(t);else{var e=n[Nd];e&&delete e[t]}}function Bk(n,t,e){mo(e).onDone(function(){return n.processLeaveNode(t)})}function nb(n,t,e){var i=e.get(n);if(!i)return!1;var r=t.get(n);return r?i.forEach(function(o){return r.add(o)}):t.set(n,i),e.delete(n),!0}var Bd=function(){function n(t,e,i){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(o,s){},this._transitionEngine=new Nk(t,e,i),this._timelineEngine=new Rk(t,e,i),this._transitionEngine.onRemovalComplete=function(o,s){return r.onRemovalComplete(o,s)}}return n.prototype.registerTrigger=function(t,e,i,r,o){var s=t+"-"+r,f=this._triggerCache[s];if(!f){var _=[],S=Y0(this._driver,o,_);if(_.length)throw new Error('The animation trigger "'+r+`" has failed to build due to the following errors:
 - `+_.join(`
 - `));f=function(T,F){return new Pk(T,F)}(r,S),this._triggerCache[s]=f}this._transitionEngine.registerTrigger(e,r,f)},n.prototype.register=function(t,e){this._transitionEngine.register(t,e)},n.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},n.prototype.onInsert=function(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)},n.prototype.onRemove=function(t,e,i){this._transitionEngine.removeNode(t,e,i)},n.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},n.prototype.process=function(t,e,i,r){if(i.charAt(0)=="@"){var o=z(D0(i),2);this._timelineEngine.command(o[0],e,o[1],r)}else this._transitionEngine.trigger(t,e,i,r)},n.prototype.listen=function(t,e,i,r,o){if(i.charAt(0)=="@"){var s=z(D0(i),2);return this._timelineEngine.listen(s[0],e,s[1],o)}return this._transitionEngine.listen(t,e,i,r,o)},n.prototype.flush=function(t){t===void 0&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(n.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),n.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},n}(),ib="animation",rb="animationend",Vk=function(){function n(t,e,i,r,o,s,f){var _=this;this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(S){return _._handleCallback(S)}}return n.prototype.apply=function(){var t,e,i;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(i=zd(t=this._element,"").trim()).length&&(function(r,o){for(var s=0;s<r.length;s++)r.charAt(s)}(i),e=i+", "+e),$u(t,"",e),ab(this._element,this._eventFn,!1),this._startTime=Date.now()},n.prototype.pause=function(){ob(this._element,this._name,"paused")},n.prototype.resume=function(){ob(this._element,this._name,"running")},n.prototype.setPosition=function(t){var e=sb(this._element,this._name);this._position=t*this._duration,$u(this._element,"Delay","-"+this._position+"ms",e)},n.prototype.getPosition=function(){return this._position},n.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()},n.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),ab(this._element,this._eventFn,!0))},n.prototype.destroy=function(){var t,e,i,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=Vd(i=zd(t=this._element,"").split(","),e))>=0&&(i.splice(r,1),$u(t,"",i.join(","))))},n}();function ob(n,t,e){$u(n,"PlayState",e,sb(n,t))}function sb(n,t){var e=zd(n,"");return e.indexOf(",")>0?Vd(e.split(","),t):Vd([e],t)}function Vd(n,t){for(var e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function ab(n,t,e){e?n.removeEventListener(rb,t):n.addEventListener(rb,t)}function $u(n,t,e,i){var r=ib+t;if(i!=null){var o=n.style[r];if(o.length){var s=o.split(",");s[i]=e,e=s.join(",")}}n.style[r]=e}function zd(n,t){return n.style[ib+t]}var zk="linear",lb=function(){function n(t,e,i,r,o,s,f){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||zk,this.totalTime=r+o,this._buildStyler()}return n.prototype.onStart=function(t){this._onStartFns.push(t)},n.prototype.onDone=function(t){this._onDoneFns.push(t)},n.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},n.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},n.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},n.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},n.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())},n.prototype.setPosition=function(t){this._styler.setPosition(t)},n.prototype.getPosition=function(){return this._styler.getPosition()},n.prototype.hasStarted=function(){return this._state>=2},n.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},n.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()},n.prototype.pause=function(){this.init(),this._styler.pause()},n.prototype.restart=function(){this.reset(),this.play()},n.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},n.prototype._buildStyler=function(){var t=this;this._styler=new Vk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},n.prototype.triggerCallback=function(t){var e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(function(i){return i()}),e.length=0},n.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var i=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){r!="offset"&&(e[r]=i?t._finalStyles[r]:Id(t.element,r))})}this.currentSnapshot=e},n}(),Hk=function(n){function t(e,i){var r=n.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=N0(i),r}return k(t,n),t.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(i){e._startingStyles[i]=e.element.style[i]}),n.prototype.init.call(this))},t.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(i){return e.element.style.setProperty(i,e._styles[i])}),n.prototype.play.call(this))},t.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(i){var r=e._startingStyles[i];r?e.element.style.setProperty(i,r):e.element.style.removeProperty(i)}),this._startingStyles=null,n.prototype.destroy.call(this))},t}(ks),ub=function(){function n(){this._count=0,this._head=(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("head"),this._warningIssued=!1}return n.prototype.validateStyleProperty=function(t){return xd(t)},n.prototype.matchesElement=function(t,e){return Cd(t,e)},n.prototype.containsElement=function(t,e){return Sd(t,e)},n.prototype.query=function(t,e,i){return kd(t,e,i)},n.prototype.computeStyle=function(t,e,i){return window.getComputedStyle(t)[e]},n.prototype.buildKeyframeElement=function(t,e,i){i=i.map(function(f){return N0(f)});var r="@keyframes "+e+` {
`,o="";i.forEach(function(f){o=" ";var _=parseFloat(f.offset);r+=""+o+100*_+`% {
`,o+=" ",Object.keys(f).forEach(function(S){var T=f[S];switch(S){case"offset":return;case"easing":return void(T&&(r+=o+"animation-timing-function: "+T+`;
`));default:return void(r+=""+o+S+": "+T+`;
`)}}),r+=o+`}
`}),r+=`}
`;var s=document.createElement("style");return s.innerHTML=r,s},n.prototype.animate=function(t,e,i,r,o,s,f){s===void 0&&(s=[]),f&&this._notifyFaultyScrubber();var _=s.filter(function(ct){return ct instanceof lb}),S={};U0(i,r)&&_.forEach(function(ct){var st=ct.currentSnapshot;Object.keys(st).forEach(function(xt){return S[xt]=st[xt]})});var T=function(ct){var st={};return ct&&(Array.isArray(ct)?ct:[ct]).forEach(function(xt){Object.keys(xt).forEach(function(yt){yt!="offset"&&yt!="easing"&&(st[yt]=xt[yt])})}),st}(e=W0(t,e,S));if(i==0)return new Hk(t,T);var F="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(t,F,e);(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("head").appendChild(U);var J=new lb(t,e,F,i,r,o,T);return J.onDestroy(function(){var ct;(ct=U).parentNode.removeChild(ct)}),J},n.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn(`@angular/animations: please load the web-animations.js polyfill to allow programmatic access...
`,"  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},n}(),cb=function(){function n(t,e,i){this.element=t,this.keyframes=e,this.options=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return n.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},n.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},n.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},n.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},n.prototype._triggerWebAnimation=function(t,e,i){return t.animate(e,i)},n.prototype.onStart=function(t){this._onStartFns.push(t)},n.prototype.onDone=function(t){this._onDoneFns.push(t)},n.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},n.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},n.prototype.pause=function(){this.init(),this.domPlayer.pause()},n.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},n.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},n.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},n.prototype.restart=function(){this.reset(),this.play()},n.prototype.hasStarted=function(){return this._started},n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},n.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},n.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(n.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),n.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(i){i!="offset"&&(e[i]=t._finished?t._finalKeyframe[i]:Id(t.element,i))}),this.currentSnapshot=e},n.prototype.triggerCallback=function(t){var e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(function(i){return i()}),e.length=0},n}(),Uk=function(){function n(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(hb().toString()),this._cssKeyframesDriver=new ub}return n.prototype.validateStyleProperty=function(t){return xd(t)},n.prototype.matchesElement=function(t,e){return Cd(t,e)},n.prototype.containsElement=function(t,e){return Sd(t,e)},n.prototype.query=function(t,e,i){return kd(t,e,i)},n.prototype.computeStyle=function(t,e,i){return window.getComputedStyle(t)[e]},n.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},n.prototype.animate=function(t,e,i,r,o,s,f){if(s===void 0&&(s=[]),!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,o,s);var _={duration:i,delay:r,fill:r==0?"both":"forwards"};o&&(_.easing=o);var S={},T=s.filter(function(F){return F instanceof cb});return U0(i,r)&&T.forEach(function(F){var U=F.currentSnapshot;Object.keys(U).forEach(function(J){return S[J]=U[J]})}),e=W0(t,e=e.map(function(F){return Rs(F,!1)}),S),new cb(t,e,_)},n}();function hb(){return typeof window<"u"&&window.document!==void 0&&Element.prototype.animate||{}}var Wk=function(n){function t(e,i){var r=n.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(i.body,{id:"0",encapsulation:zi.None,styles:[],data:{animation:[]}}),r}return k(t,n),t.prototype.build=function(e){var i=this._nextAnimationId.toString();this._nextAnimationId++;var r=Array.isArray(e)?uy(e):e;return pb(this._renderer,null,i,"register",[r]),new Xk(i,this._renderer)},t}(ly),Xk=function(n){function t(e,i){var r=n.call(this)||this;return r._id=e,r._renderer=i,r}return k(t,n),t.prototype.create=function(e,i){return new Yk(this._id,e,i||{},this._renderer)},t}(s2),Yk=function(){function n(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return n.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},n.prototype._command=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return pb(this._renderer,this.element,this.id,t,e)},n.prototype.onDone=function(t){this._listen("done",t)},n.prototype.onStart=function(t){this._listen("start",t)},n.prototype.onDestroy=function(t){this._listen("destroy",t)},n.prototype.init=function(){this._command("init")},n.prototype.hasStarted=function(){return this._started},n.prototype.play=function(){this._command("play"),this._started=!0},n.prototype.pause=function(){this._command("pause")},n.prototype.restart=function(){this._command("restart")},n.prototype.finish=function(){this._command("finish")},n.prototype.destroy=function(){this._command("destroy")},n.prototype.reset=function(){this._command("reset")},n.prototype.setPosition=function(t){this._command("setPosition",t)},n.prototype.getPosition=function(){return 0},n}();function pb(n,t,e,i,r){return n.setProperty(t,"@@"+e+":"+i,r)}var Gk=function(){function n(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(r,o){o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}return n.prototype.createRenderer=function(t,e){var i=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var o=this._rendererCache.get(r);return o||(o=new db("",r,this.engine),this._rendererCache.set(r,o)),o}var s=e.id,f=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(f,t),e.data.animation.forEach(function(_){return i.engine.registerTrigger(s,f,t,_.name,_)}),new qk(this,f,r,this.engine)},n.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},n.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},n.prototype.scheduleListenerCallback=function(t,e,i){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(i)}):(this._animationCallbacksBuffer.length==0&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(o){var s=z(o,2);(0,s[0])(s[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,i]))},n.prototype.end=function(){var t=this;this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},n.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},n}(),db=function(){function n(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(r){return e.destroyNode(r)}:null}return Object.defineProperty(n.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},n.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},n.prototype.createComment=function(t){return this.delegate.createComment(t)},n.prototype.createText=function(t){return this.delegate.createText(t)},n.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},n.prototype.insertBefore=function(t,e,i){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,!0)},n.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},n.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},n.prototype.parentNode=function(t){return this.delegate.parentNode(t)},n.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},n.prototype.setAttribute=function(t,e,i,r){this.delegate.setAttribute(t,e,i,r)},n.prototype.removeAttribute=function(t,e,i){this.delegate.removeAttribute(t,e,i)},n.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},n.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},n.prototype.setStyle=function(t,e,i,r){this.delegate.setStyle(t,e,i,r)},n.prototype.removeStyle=function(t,e,i){this.delegate.removeStyle(t,e,i)},n.prototype.setProperty=function(t,e,i){e.charAt(0)=="@"&&e=="@.disabled"?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)},n.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},n.prototype.listen=function(t,e,i){return this.delegate.listen(t,e,i)},n.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},n}(),qk=function(n){function t(e,i,r,o){var s=n.call(this,i,r,o)||this;return s.factory=e,s.namespaceId=i,s}return k(t,n),t.prototype.setProperty=function(e,i,r){i.charAt(0)=="@"?i.charAt(1)=="."&&i=="@.disabled"?this.disableAnimations(e,r=r===void 0||!!r):this.engine.process(this.namespaceId,e,i.substr(1),r):this.delegate.setProperty(e,i,r)},t.prototype.listen=function(e,i,r){var o,s,f,_=this;if(i.charAt(0)=="@"){var S=function(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(e),T=i.substr(1),F="";return T.charAt(0)!="@"&&(T=(o=z((s=T,f=s.indexOf("."),[s.substring(0,f),s.substr(f+1)]),2))[0],F=o[1]),this.engine.listen(this.namespaceId,S,T,F,function(U){_.factory.scheduleListenerCallback(U._data||-1,r,U)})}return this.delegate.listen(e,i,r)},t}(db),Kk=function(n){function t(e,i,r){return n.call(this,e.body,i,r)||this}return k(t,n),t}(Bd);function Zk(){return typeof hb()=="function"?new Uk:new ub}function Jk(){return new Ok}function Qk(n,t,e){return new Gk(n,t,e)}var ge=new de("AnimationModuleType"),fb=function(){return function(){}}(),$k=Pe({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function tE(n){return wt(0,[(n()(),P(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,iE,nE)),D(1,49152,null,0,WS,[[2,ge]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var i=e.component;t(e,1,0,i.selected?"checked":"",i.disabled)},function(t,e){t(e,0,0,d(e,1).state==="indeterminate",d(e,1).state==="checked",d(e,1).disabled,d(e,1)._animationMode==="NoopAnimations")})}function eE(n){return wt(2,[(n()(),Rt(16777216,null,null,1,null,tE)),D(1,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),Gn(null,0),(n()(),P(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(5,212992,null,0,Ps,[lt,xe,he,[2,As],[2,ge]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var i=e.component;t(e,1,0,i.multiple),t(e,5,0,i.disabled||i.disableRipple,i._getHostElement())},function(t,e){t(e,4,0,d(e,5).unbounded)})}var nE=Pe({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],data:{}});function iE(n){return wt(2,[],null,null)}var rE=Pe({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function oE(n){return wt(0,[(n()(),P(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),P(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(n()(),P(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(n()(),P(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(n()(),P(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(n()(),P(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(n()(),P(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(n()(),P(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(n()(),P(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function sE(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Gn(null,0)],null,null)}function aE(n){return wt(0,[(n()(),P(0,0,null,null,2,null,null,null,null,null,null,null)),Gn(null,2),(n()(),Gt(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component._control.placeholder)})}function lE(n){return wt(0,[Gn(null,3),(n()(),Rt(0,null,null,0))],null,null)}function uE(n){return wt(0,[(n()(),P(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(n()(),Gt(-1,null,["\xA0*"]))],null,null)}function cE(n){return wt(0,[(n()(),P(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(t,e,i){var r=!0;return e==="cdkObserveContent"&&(r=t.component.updateOutlineGap()!==!1&&r),r},null,null)),D(1,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),D(2,1196032,null,0,s0,[o0,lt,xe],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(n()(),Rt(16777216,null,null,1,null,aE)),D(4,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,lE)),D(6,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,uE)),D(8,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,1,0,i._hasLabel()),t(e,2,0,i.appearance!="outline"),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)},function(t,e){var i=e.component;t(e,0,0,i._labelId,i._control.id,i._control.id,i._control.empty&&!i._shouldAlwaysFloat,i._control.empty&&!i._shouldAlwaysFloat,i.color=="accent",i.color=="warn")})}function hE(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Gn(null,4)],null,null)}function pE(n){return wt(0,[(n()(),P(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(n()(),P(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,1,0,i.color=="accent",i.color=="warn")})}function dE(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Gn(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function fE(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){var i=e.component;t(e,0,0,i._hintLabelId),t(e,1,0,i.hintLabel)})}function gE(n){return wt(0,[(n()(),P(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,fE)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),Gn(null,6),(n()(),P(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Gn(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function mE(n){return wt(2,[Me(671088640,1,{underlineRef:0}),Me(402653184,2,{_connectionContainerRef:0}),Me(402653184,3,{_inputContainerRef:0}),Me(671088640,4,{_label:0}),(n()(),P(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(n()(),P(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,i){var r=!0,o=t.component;return e==="click"&&(r=(o._control.onContainerClick&&o._control.onContainerClick(i))!==!1&&r),r},null,null)),(n()(),Rt(16777216,null,null,1,null,oE)),D(7,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,sE)),D(9,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Gn(null,1),(n()(),P(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,cE)),D(14,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,hE)),D(16,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,pE)),D(18,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),D(20,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),Rt(16777216,null,null,1,null,dE)),D(22,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,gE)),D(24,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var i=e.component;t(e,7,0,i.appearance=="outline"),t(e,9,0,i._prefixChildren.length),t(e,14,0,i._hasFloatingLabel()),t(e,16,0,i._suffixChildren.length),t(e,18,0,i.appearance!="outline"),t(e,20,0,i._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}var vE=Pe({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0.8)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}}]}});function yE(n){return wt(0,[(n()(),P(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.placeholder||"\xA0")})}function bE(n){return wt(0,[(n()(),P(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.triggerValue||"\xA0")})}function _E(n){return wt(0,[Gn(null,0),(n()(),Rt(0,null,null,0))],null,null)}function wE(n){return wt(0,[(n()(),P(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),D(1,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),Rt(16777216,null,null,1,null,bE)),D(3,16384,null,0,Dx,[jt,Lt,cn],null,null),(n()(),Rt(16777216,null,null,1,null,_E)),D(5,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)},null)}function xE(n){return wt(0,[(n()(),P(0,0,[[2,0],["panel",1]],null,2,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],function(t,e,i){var r=!0,o=t.component;return e==="@transformPanel.done"&&(r=o._panelDoneAnimatingStream.next(i.toState)!==!1&&r),e==="keydown"&&(r=o._handleKeydown(i)!==!1&&r),r},null,null)),D(1,278528,null,0,$l,[An,Pi,lt,un],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gn(null,1)],function(t,e){var i=e.component;t(e,1,0,$r(1,"mat-select-panel ",i._getPanelTheme(),""),i.panelClass)},function(t,e){var i=e.component;t(e,0,0,i.multiple?"showing-multiple":"showing",i._transformOrigin,i._triggerFontSize)})}function CE(n){return wt(2,[Me(402653184,1,{trigger:0}),Me(671088640,2,{panel:0}),Me(402653184,3,{overlayDir:0}),(n()(),P(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.toggle()!==!1&&r),r},null,null)),D(4,16384,[["origin",4]],0,E2,[lt],null,null),(n()(),P(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),D(6,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),Rt(16777216,null,null,1,null,yE)),D(8,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,wE)),D(10,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),P(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(n()(),P(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,function(t,e,i){var r=!0,o=t.component;return e==="backdropClick"&&(r=o.close()!==!1&&r),e==="attach"&&(r=o._onAttached()!==!1&&r),e==="detach"&&(r=o.close()!==!1&&r),r},xE)),D(14,671744,[[3,4]],0,O2,[On,Lt,jt,Oy,[2,pn]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],function(t,e){var i=e.component;t(e,6,0,i.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,d(e,4),i._positions,i._offsetY,i._triggerRect==null?null:i._triggerRect.width,"cdk-overlay-transparent-backdrop",i._scrollStrategy,i.panelOpen,"","")},null)}var $e=Pe({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function tn(n){return wt(2,[Me(402653184,1,{ripple:0}),(n()(),P(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Gn(null,0),(n()(),P(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(4,212992,[[1,4]],0,Ps,[lt,xe,he,[2,As],[2,ge]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(n()(),P(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var i=e.component;t(e,4,0,i.isIconButton,i._isRippleDisabled(),i._getHostElement())},function(t,e){var i=e.component;t(e,3,0,i.isRoundButton||i.isIconButton,d(e,4).unbounded)})}var Hd,SE=Pe({encapsulation:2,styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],data:{}});function kE(n){return wt(0,[(n()(),P(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,i){var r=!0;return e==="click"&&(r=d(t,1)._selectViaInteraction()!==!1&&r),e==="keydown"&&(r=d(t,1)._handleKeydown(i)!==!1&&r),r},eE,$k)),D(1,8568832,[[8,4]],0,KS,[lt,ee,[2,d0],[2,YS]],{value:[0,"value"]},null),(n()(),Gt(2,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,0,0,d(e,1)._getTabIndex(),d(e,1).selected,d(e,1).multiple,d(e,1).active,d(e,1).id,d(e,1).selected.toString(),d(e,1).disabled.toString(),d(e,1).disabled),t(e,2,0,e.context.$implicit)})}function EE(n){return wt(0,[(n()(),P(0,0,null,null,17,"mat-form-field",[["class","mat-paginator-page-size-select mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,mE,rE)),D(1,7520256,null,7,I0,[lt,ee,[2,ZS],[2,pn],[2,gk],he,xe,[2,ge]],{color:[0,"color"]},null),Me(335544320,1,{_control:0}),Me(335544320,2,{_placeholderChild:0}),Me(335544320,3,{_labelChild:0}),Me(603979776,4,{_errorChildren:1}),Me(603979776,5,{_hintChildren:1}),Me(603979776,6,{_prefixChildren:1}),Me(603979776,7,{_suffixChildren:1}),(n()(),P(9,0,null,1,8,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,i){var r=!0,o=t.component;return e==="keydown"&&(r=d(t,11)._handleKeydown(i)!==!1&&r),e==="focus"&&(r=d(t,11)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,11)._onBlur()!==!1&&r),e==="selectionChange"&&(r=o._changePageSize(i.value)!==!1&&r),r},CE,vE)),$t(6144,null,d0,null,[md]),D(11,2080768,null,3,md,[Eu,ee,xe,MS,lt,[2,pn],[2,bp],[2,Kn],[2,I0],[8,null],[8,null],S0,Dy],{disabled:[0,"disabled"],value:[1,"value"],ariaLabel:[2,"ariaLabel"]},{selectionChange:"selectionChange"}),Me(603979776,8,{options:1}),Me(603979776,9,{optionGroups:1}),Me(335544320,10,{customTrigger:0}),$t(2048,[[1,4]],dk,null,[md]),(n()(),Rt(16777216,null,1,1,null,kE)),D(17,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,1,0,i.color),t(e,11,0,i.disabled,i.pageSize,i._intl.itemsPerPageLabel),t(e,17,0,i._displayedPageSizeOptions)},function(t,e){t(e,0,1,[d(e,1).appearance=="standard",d(e,1).appearance=="fill",d(e,1).appearance=="outline",d(e,1).appearance=="legacy",d(e,1)._control.errorState,d(e,1)._canLabelFloat,d(e,1)._shouldLabelFloat(),d(e,1)._hasFloatingLabel(),d(e,1)._hideControlPlaceholder(),d(e,1)._control.disabled,d(e,1)._control.autofilled,d(e,1)._control.focused,d(e,1).color=="accent",d(e,1).color=="warn",d(e,1)._shouldForward("untouched"),d(e,1)._shouldForward("touched"),d(e,1)._shouldForward("pristine"),d(e,1)._shouldForward("dirty"),d(e,1)._shouldForward("valid"),d(e,1)._shouldForward("invalid"),d(e,1)._shouldForward("pending"),!d(e,1)._animationsEnabled]),t(e,9,1,[d(e,11).id,d(e,11).tabIndex,d(e,11)._getAriaLabel(),d(e,11)._getAriaLabelledby(),d(e,11).required.toString(),d(e,11).disabled.toString(),d(e,11).errorState,d(e,11).panelOpen?d(e,11)._optionIds:null,d(e,11).multiple,d(e,11)._ariaDescribedby||null,d(e,11)._getAriaActiveDescendant(),d(e,11).disabled,d(e,11).errorState,d(e,11).required,d(e,11).empty])})}function OE(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.pageSize)})}function TE(n){return wt(0,[(n()(),P(0,0,null,null,6,"div",[["class","mat-paginator-page-size"]],null,null,null,null,null)),(n()(),P(1,0,null,null,1,"div",[["class","mat-paginator-page-size-label"]],null,null,null,null,null)),(n()(),Gt(2,null,["",""])),(n()(),Rt(16777216,null,null,1,null,EE)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,OE)),D(6,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,4,0,i._displayedPageSizeOptions.length>1),t(e,6,0,i._displayedPageSizeOptions.length<=1)},function(t,e){t(e,2,0,e.component._intl.itemsPerPageLabel)})}function IE(n){return wt(0,[(n()(),P(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-first"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,2).show()!==!1&&r),e==="keydown"&&(r=d(t,2)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,2)._handleTouchend()!==!1&&r),e==="click"&&(r=o.firstPage()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),D(2,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),P(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),P(4,0,null,null,0,":svg:path",[["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"]],null,null,null,null,null)),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,1,0,i._previousButtonsDisabled()),t(e,2,0,"above",i._previousButtonsDisabled(),i._intl.firstPageLabel)},function(t,e){t(e,0,0,e.component._intl.firstPageLabel,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations")})}function AE(n){return wt(0,[(n()(),P(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-last"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,2).show()!==!1&&r),e==="keydown"&&(r=d(t,2)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,2)._handleTouchend()!==!1&&r),e==="click"&&(r=o.lastPage()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),D(2,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),P(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),P(4,0,null,null,0,":svg:path",[["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],null,null,null,null,null)),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,1,0,i._nextButtonsDisabled()),t(e,2,0,"above",i._nextButtonsDisabled(),i._intl.lastPageLabel)},function(t,e){t(e,0,0,e.component._intl.lastPageLabel,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations")})}function PE(n){return wt(2,[(n()(),P(0,0,null,null,20,"div",[["class","mat-paginator-outer-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,19,"div",[["class","mat-paginator-container"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,TE)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(4,0,null,null,16,"div",[["class","mat-paginator-range-actions"]],null,null,null,null,null)),(n()(),P(5,0,null,null,1,"div",[["class","mat-paginator-range-label"]],null,null,null,null,null)),(n()(),Gt(6,null,["",""])),(n()(),Rt(16777216,null,null,1,null,IE)),D(8,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(9,16777216,null,null,4,"button",[["class","mat-paginator-navigation-previous"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,11).show()!==!1&&r),e==="keydown"&&(r=d(t,11)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,11)._handleTouchend()!==!1&&r),e==="click"&&(r=o.previousPage()!==!1&&r),r},tn,$e)),D(10,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),D(11,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),P(12,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),P(13,0,null,null,0,":svg:path",[["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"]],null,null,null,null,null)),(n()(),P(14,16777216,null,null,4,"button",[["class","mat-paginator-navigation-next"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,16).show()!==!1&&r),e==="keydown"&&(r=d(t,16)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,16)._handleTouchend()!==!1&&r),e==="click"&&(r=o.nextPage()!==!1&&r),r},tn,$e)),D(15,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),D(16,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),P(17,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),P(18,0,null,null,0,":svg:path",[["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,AE)),D(20,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,3,0,!i.hidePageSize),t(e,8,0,i.showFirstLastButtons),t(e,10,0,i._previousButtonsDisabled()),t(e,11,0,"above",i._previousButtonsDisabled(),i._intl.previousPageLabel),t(e,15,0,i._nextButtonsDisabled()),t(e,16,0,"above",i._nextButtonsDisabled(),i._intl.nextPageLabel),t(e,20,0,i.showFirstLastButtons)},function(t,e){var i=e.component;t(e,6,0,i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)),t(e,9,0,i._intl.previousPageLabel,d(e,10).disabled||null,d(e,10)._animationMode==="NoopAnimations"),t(e,14,0,i._intl.nextPageLabel,d(e,15).disabled||null,d(e,15)._animationMode==="NoopAnimations")})}(function(n){n.display="Display",n.handwriting="Hand Writing",n.monospace="Mono Space",n["sans-serif"]="Sans Serif",n.serif="Serif"})(Hd||(Hd={}));var tc=function(){function n(t){this.config=t,this.original=[],this.filtered=[],this.filters=new _r({search:new ti,category:new ti("handwriting")}),this.totalPages=0,this.perPage=10,this.currentPage=0,this.current$=new cr([]),this.reset(),this.bindToFilters()}return n.prototype.next=function(){this.totalPages>this.currentPage+1&&this.setPage(this.currentPage+1)},n.prototype.previous=function(){this.currentPage-1>0&&this.setPage(this.currentPage-1)},n.prototype.setPage=function(t){this.currentPage=t,this.current$.next(this.filtered[this.currentPage])},n.prototype.filter=function(t,e){var i=[];this.original.forEach(function(r){var o=!e||r.family.toLowerCase().indexOf(e)>-1;r.category.toLowerCase()===t&&o&&i.push(r)}),this.filtered=this.chunkFonts(i),this.totalPages=this.filtered.length,this.setPage(0)},n.prototype.setFonts=function(t){this.original=t,this.filter(this.filters.get("category").value),this.filters.patchValue({category:this.config.get("pixie.tools.text.defaultCategory","handwriting")})},n.prototype.getTotal=function(){return this.filtered.length*this.perPage},n.prototype.reset=function(){this.filters.setValue({search:null,category:"handwriting"}),this.setPage(0)},n.prototype.chunkFonts=function(t){for(var e=[];t.length>0;)e.push(t.splice(0,this.perPage));return e},n.prototype.bindToFilters=function(){var t=this;this.filters.valueChanges.pipe(No(100),gu()).subscribe(function(e){return t.filter(e.category,e.search)})},n}(),Ud=function(){function n(t,e,i){this.overlayPanelRef=t,this.fonts=e,this.i18n=i,this.fontCategories=Hd,this.subscription=new et}return n.prototype.ngOnInit=function(){var t=this;this.subscription.add(Kt(this.fonts.init()).pipe(ku(function(){return t.fonts.paginator.filters.valueChanges})).subscribe(function(){return t.paginator.firstPage()}))},n.prototype.ngAfterViewInit=function(){var t=this;this.setIntlPaginator(),this.subscription.add(this.i18n.localizationChange.subscribe(function(){return t.setIntlPaginator()}))},n.prototype.ngOnDestroy=function(){this.fonts.paginator.reset(),this.subscription.unsubscribe()},n.prototype.applyFont=function(t){this.overlayPanelRef.emitValue(t.family),this.overlayPanelRef.close()},n.prototype.changePage=function(t){this.fonts.paginator.setPage(t.pageIndex)},n.prototype.setIntlPaginator=function(){var t;this.paginator._intl.nextPageLabel=this.i18n.t("Next page"),this.paginator._intl.previousPageLabel=this.i18n.t("Previous page"),this.paginator._intl.getRangeLabel=(t=this.i18n.t("From"),function(e,i,r){var o=e+1,s=o+" - "+i;return e===0?s+" "+t+" "+r:(s=(o=e*i+1)+" - "+(e*i+i))+" "+t+" "+r}),this.paginator._changeDetectorRef.detectChanges()},n}(),DE=y("J9Y1"),ll=function(){function n(t,e,i){var r=this;this.http=t,this.settings=e,this.paginator=i,this.loadedFonts=[],this.paginator.current$.subscribe(function(o){r.loadIntoDom(o)})}return n.prototype.init=function(){return t=this,i=function(){var r,o,s;return function(f,_){var S,T,F,U,J={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return U={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function ct(st){return function(xt){return function(yt){if(S)throw new TypeError("Generator is already executing.");for(;J;)try{if(S=1,T&&(F=2&yt[0]?T.return:yt[0]?T.throw||((F=T.return)&&F.call(T),0):T.next)&&!(F=F.call(T,yt[1])).done)return F;switch(T=0,F&&(yt=[2&yt[0],F.value]),yt[0]){case 0:case 1:F=yt;break;case 4:return J.label++,{value:yt[1],done:!1};case 5:J.label++,T=yt[1],yt=[0];continue;case 7:yt=J.ops.pop(),J.trys.pop();continue;default:if(!(F=(F=J.trys).length>0&&F[F.length-1])&&(yt[0]===6||yt[0]===2)){J=0;continue}if(yt[0]===3&&(!F||yt[1]>F[0]&&yt[1]<F[3])){J.label=yt[1];break}if(yt[0]===6&&J.label<F[1]){J.label=F[1],F=yt;break}if(F&&J.label<F[2]){J.label=F[2],J.ops.push(yt);break}F[2]&&J.ops.pop(),J.trys.pop();continue}yt=_.call(f,J)}catch(Dt){yt=[6,Dt],T=0}finally{S=F=0}if(5&yt[0])throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}([st,xt])}}}(this,function(f){switch(f.label){case 0:return r=this.settings.get("pixie.tools.text.items",[]),this.settings.get("pixie.tools.text.replaceDefault")?[3,2]:(s=(o=r).concat,[4,this.getGoogleFonts()]);case 1:r=s.apply(o,[f.sent()]),f.label=2;case 2:return this.paginator.setFonts(r),[2]}})},new((e=void 0)||(e=Promise))(function(r,o){function s(S){try{_(i.next(S))}catch(T){o(T)}}function f(S){try{_(i.throw(S))}catch(T){o(T)}}function _(S){S.done?r(S.value):new e(function(T){T(S.value)}).then(s,f)}_((i=i.apply(t,[])).next())});var t,e,i},n.prototype.loadIntoDom=function(t,e){var i=this;return t===void 0&&(t=[]),new Promise(function(r){if(!t||!t.length||!(t=t.filter(function(_){return!i.loadedFonts.find(function(S){return S.family===_.family})})).length)return r();i.loadedFonts=i.loadedFonts.concat(t);var o=t.filter(function(_){return _.type==="google"}),s=t.filter(function(_){return _.type==="custom"}),f={active:r,context:e,classes:!1};o.length&&(f.google={families:o.map(function(_){return _.family})}),s.length&&(i.loadCustomFonts(s,e),f.custom={families:s.map(function(_){return _.family})}),DE.load(f)})},n.prototype.loadCustomFonts=function(t,e){var i=this;if(t===void 0&&(t=[]),t.length){var r="";t.forEach(function(s){var f=i.settings.getAssetUrl("fonts/"+s.filePath);r+="@font-face { font-family: "+s.family+'; src: url("'+f+'"); }'});var o=document.createElement("style");o.innerHTML=r,(e||window).document.head.appendChild(o)}},n.prototype.getGoogleFonts=function(){var t=this.settings.get("pixie.googleFontsApiKey");return this.http.getWithCache("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+t).pipe(Ct(function(e){return e.items.map(function(i){return{family:i.family,category:i.category,type:"google"}})})).toPromise()},n}(),RE=Pe({encapsulation:2,styles:[["google-fonts-panel{display:block;width:320px;max-height:90vh;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);border-radius:4px;color:rgba(0,0,0,.87);overflow:auto}google-fonts-panel .header{display:flex;align-items:center;padding:12px;color:#fff;border-bottom:1px solid #e0e0e0;background-color:#1565c0}google-fonts-panel .header .close-button{margin-left:auto}google-fonts-panel .many-inputs{padding:10px}google-fonts-panel .many-inputs .input-container{width:auto}google-fonts-panel .many-inputs .input-container input{background-color:#fff;border-color:#e0e0e0}google-fonts-panel .fonts{text-align:center;padding:10px 0}google-fonts-panel .fonts .font{display:block;font-size:28px;margin-bottom:10px;width:100%;transition:color .2s ease;text-align:center;line-height:45px}google-fonts-panel .fonts .font:hover{color:#009688}"]],data:{}});function jE(n){return wt(0,[(n()(),P(0,0,null,null,4,"option",[["trans",""]],null,null,null,null,null)),D(1,147456,null,0,Cv,[lt,un,[2,lu]],{value:[0,"value"]},null),D(2,147456,null,0,kv,[lt,un,[8,null]],{value:[0,"value"]},null),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(4,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit.key),t(e,2,0,e.context.$implicit.key)},function(t,e){t(e,4,0,e.context.$implicit.value)})}function FE(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[["class","no-style font"]],[[4,"fontFamily",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.applyFont(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),Gt(1,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.family),t(e,1,0,e.context.$implicit.family)})}function ME(n){return wt(0,[Me(402653184,1,{paginator:0}),(n()(),P(1,0,null,null,6,"div",[["class","header"]],null,null,null,null,null)),(n()(),P(2,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Font Picker"])),(n()(),P(5,0,null,null,2,"button",[["class","close-button no-style"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.overlayPanelRef.close()!==!1&&r),r},null,null)),(n()(),P(6,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","close"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(8,0,null,null,22,"form",[["class","many-inputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,10).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,10).onReset()!==!1&&r),r},null,null)),D(9,16384,null,0,xC,[],null,null),D(10,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(12,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(13,0,null,null,7,"div",[["class","input-container search"]],null,null,null,null,null)),(n()(),P(14,0,null,null,6,"input",[["formControlName","search"],["placeholder","Search..."],["trans-placeholder",""],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,15)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,15).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,15)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,15)._compositionEnd(i.target.value)!==!1&&r),r},null,null)),D(15,16384,null,0,ci,[un,lt,[2,io]],null,null),$t(1024,null,ve,function(t){return[t]},[ci]),D(17,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(19,16384,null,0,Cn,[[4,me]],null,null),D(20,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),P(21,0,null,null,9,"div",[["class","input-container category"]],null,null,null,null,null)),(n()(),P(22,0,null,null,8,"select",[["formControlName","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(t,e,i){var r=!0;return e==="change"&&(r=d(t,23).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,23).onTouched()!==!1&&r),r},null,null)),D(23,16384,null,0,lu,[un,lt],null,null),$t(1024,null,ve,function(t){return[t]},[lu]),D(25,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(27,16384,null,0,Cn,[[4,me]],null,null),(n()(),Rt(16777216,null,null,2,null,jE)),D(29,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(0,jm,[Pi]),(n()(),P(31,0,null,null,3,"div",[["class","fonts"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,FE)),D(33,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(131072,We,[ee]),(n()(),P(35,0,null,null,1,"mat-paginator",[["class","mat-paginator"]],null,[[null,"page"]],function(t,e,i){var r=!0;return e==="page"&&(r=t.component.changePage(i)!==!1&&r),r},PE,SE)),D(36,245760,[[1,4]],0,ak,[Hu,ee],{length:[0,"length"],pageSize:[1,"pageSize"],hidePageSize:[2,"hidePageSize"]},{page:"page"})],function(t,e){var i=e.component;t(e,7,0,"close"),t(e,10,0,i.fonts.paginator.filters),t(e,17,0,"search"),t(e,25,0,"category"),t(e,29,0,fe(e,29,0,d(e,30).transform(i.fontCategories))),t(e,33,0,fe(e,33,0,d(e,34).transform(i.fonts.paginator.current$))),t(e,36,0,i.fonts.paginator.getTotal(),10,!0)},function(t,e){t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn"),t(e,8,0,d(e,12).ngClassUntouched,d(e,12).ngClassTouched,d(e,12).ngClassPristine,d(e,12).ngClassDirty,d(e,12).ngClassValid,d(e,12).ngClassInvalid,d(e,12).ngClassPending),t(e,14,0,d(e,19).ngClassUntouched,d(e,19).ngClassTouched,d(e,19).ngClassPristine,d(e,19).ngClassDirty,d(e,19).ngClassValid,d(e,19).ngClassInvalid,d(e,19).ngClassPending),t(e,22,0,d(e,27).ngClassUntouched,d(e,27).ngClassTouched,d(e,27).ngClassPristine,d(e,27).ngClassDirty,d(e,27).ngClassValid,d(e,27).ngClassInvalid,d(e,27).ngClassPending)})}function LE(n){return wt(0,[(n()(),P(0,0,null,null,1,"google-fonts-panel",[],null,null,null,ME,RE)),D(1,4440064,null,0,Ud,[zo,ll,te],null,null)],function(t,e){t(e,1,0)},null)}var NE=$i("google-fonts-panel",Ud,LE,{},{},[]),BE=Pe({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function VE(n){return wt(0,[(n()(),Rt(0,null,null,0))],null,null)}function zE(n){return wt(2,[Me(402653184,1,{_portalOutlet:0}),(n()(),Rt(16777216,null,null,1,null,VE)),D(2,212992,[[1,4]],0,gy,[or,jt],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function HE(n){return wt(0,[(n()(),P(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],function(t,e,i){var r=!0;return e==="component:@state.done"&&(r=d(t,1).onAnimationEnd(i)!==!1&&r),r},zE,BE)),D(1,180224,null,0,qp,[xe,lt,ee,Tu],null,null)],null,function(t,e){t(e,0,0,d(e,1)._role,d(e,1)._animationState)})}var UE=$i("snack-bar-container",qp,HE,{},{},[]),WE=Pe({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function XE(n){return wt(0,[(n()(),P(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.action()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),Gt(3,0,["",""]))],null,function(t,e){var i=e.component;t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,3,0,i.data.action)})}function YE(n){return wt(2,[(n()(),P(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),Gt(1,null,["",""])),(n()(),Rt(16777216,null,null,1,null,XE)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.hasAction)},function(t,e){t(e,1,0,e.component.data.message)})}function GE(n){return wt(0,[(n()(),P(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,YE,WE)),D(1,49152,null,0,Gp,[Yp,Fy],null,null)],null,null)}var qE=$i("simple-snack-bar",Gp,GE,{},{},[]),Wd=function(){return function(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}();function gb(){throw Error("Attempting to attach dialog content after content is already attached")}var ec=function(n){function t(e,i,r,o,s){var f=n.call(this)||this;return f._elementRef=e,f._focusTrapFactory=i,f._changeDetectorRef=r,f._document=o,f._config=s,f._elementFocusedBeforeDialogWasOpened=null,f._state="enter",f._animationStateChanged=new le,f._ariaLabelledBy=null,f}return k(t,n),t.prototype.attachComponentPortal=function(e){return this._portalOutlet.hasAttached()&&gb(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._portalOutlet.hasAttached()&&gb(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)},t.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()},t.prototype._restoreFocus=function(){var e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&typeof e.focus=="function"&&e.focus(),this._focusTrap&&this._focusTrap.destroy()},t.prototype._savePreviouslyFocusedElement=function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(function(){return e._elementRef.nativeElement.focus()}))},t.prototype._onAnimationDone=function(e){e.toState==="enter"?this._trapFocus():e.toState==="exit"&&this._restoreFocus(),this._animationStateChanged.emit(e)},t.prototype._onAnimationStart=function(e){this._animationStateChanged.emit(e)},t.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},t}(Su),KE=0,mb=function(){function n(t,e,i,r){r===void 0&&(r="mat-dialog-"+KE++);var o=this;this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,e._id=r,e._animationStateChanged.pipe(Hn(function(s){return s.phaseName==="done"&&s.toState==="enter"}),Xn(1)).subscribe(function(){o._afterOpened.next(),o._afterOpened.complete()}),e._animationStateChanged.pipe(Hn(function(s){return s.phaseName==="done"&&s.toState==="exit"}),Xn(1)).subscribe(function(){return o._overlayRef.dispose()}),t.detachments().subscribe(function(){o._beforeClosed.next(o._result),o._beforeClosed.complete(),o._afterClosed.next(o._result),o._afterClosed.complete(),o.componentInstance=null,o._overlayRef.dispose()}),t.keydownEvents().pipe(Hn(function(s){return s.keyCode===Ya&&!o.disableClose})).subscribe(function(){return o.close()})}return n.prototype.close=function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Hn(function(i){return i.phaseName==="start"}),Xn(1)).subscribe(function(){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()},n.prototype.afterOpened=function(){return this._afterOpened.asObservable()},n.prototype.afterClosed=function(){return this._afterClosed.asObservable()},n.prototype.beforeClosed=function(){return this._beforeClosed.asObservable()},n.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},n.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},n.prototype.updatePosition=function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this},n.prototype.updateSize=function(t,e){return t===void 0&&(t=""),e===void 0&&(e=""),this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this},n.prototype.afterOpen=function(){return this.afterOpened()},n.prototype.beforeClose=function(){return this.beforeClosed()},n.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},n}(),ZE=new de("MatDialogData"),JE=new de("mat-dialog-default-options"),vb=new de("mat-dialog-scroll-strategy");function QE(n){return function(){return n.scrollStrategies.block()}}var nc=function(){function n(t,e,i,r,o,s,f){var _=this;this._overlay=t,this._injector=e,this._location=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=C0(function(){return _.openDialogs.length?_._afterAllClosed:_._afterAllClosed.pipe(ho(void 0))}),this._scrollStrategy=o}return Object.defineProperty(n.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"afterOpened",{get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"afterOpen",{get:function(){return this.afterOpened},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_afterAllClosed",{get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),n.prototype.open=function(t,e){var i=this;if((e=function(f,_){return j({},_,f)}(e,this._defaultOptions||new Wd)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'+e.id+'" exists already. The dialog id must be unique.');var r=this._createOverlay(e),o=this._attachDialogContainer(r,e),s=this._attachDialogContent(t,o,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(function(){return i._removeOpenDialog(s)}),this.afterOpened.next(s),s},n.prototype.closeAll=function(){this._closeDialogs(this.openDialogs)},n.prototype.getDialogById=function(t){return this.openDialogs.find(function(e){return e.id===t})},n.prototype.ngOnDestroy=function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()},n.prototype._createOverlay=function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)},n.prototype._getOverlayConfig=function(t){var e=new qa({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e},n.prototype._attachDialogContainer=function(t,e){var i=new Xa(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Wd,e]])),r=new Bo(ec,e.viewContainerRef,i);return t.attach(r).instance},n.prototype._attachDialogContent=function(t,e,i,r){var o=new mb(i,e,this._location,r.id);if(r.hasBackdrop&&i.backdropClick().subscribe(function(){o.disableClose||o.close()}),t instanceof Lt)e.attachTemplatePortal(new Wa(t,null,{$implicit:r.data,dialogRef:o}));else{var s=this._createInjector(r,o,e),f=e.attachComponentPortal(new Bo(t,void 0,s));o.componentInstance=f.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o},n.prototype._createInjector=function(t,e,i){var r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=new WeakMap([[ec,i],[ZE,t.data],[mb,e]]);return!t.direction||r&&r.get(pn,null)||o.set(pn,{value:t.direction,change:$n()}),new Xa(r||this._injector,o)},n.prototype._removeOpenDialog=function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(i,r){i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))},n.prototype._hideNonDialogContentFromAssistiveTechnology=function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,i=e.length-1;i>-1;i--){var r=e[i];r===t||r.nodeName==="SCRIPT"||r.nodeName==="STYLE"||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}},n.prototype._closeDialogs=function(t){for(var e=t.length;e--;)t[e].close()},n}(),yb=function(){return function(){}}(),$E=Pe({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function tO(n){return wt(0,[(n()(),Rt(0,null,null,0))],null,null)}function eO(n){return wt(0,[Me(402653184,1,{_portalOutlet:0}),(n()(),Rt(16777216,null,null,1,null,tO)),D(2,212992,[[1,4]],0,gy,[or,jt],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function nO(n){return wt(0,[(n()(),P(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(t,e,i){var r=!0;return e==="component:@dialogContainer.start"&&(r=d(t,1)._onAnimationStart(i)!==!1&&r),e==="component:@dialogContainer.done"&&(r=d(t,1)._onAnimationDone(i)!==!1&&r),r},eO,$E)),D(1,49152,null,0,ec,[lt,M2,ee,[2,jn],Wd],null,null)],null,function(t,e){t(e,0,0,d(e,1)._id,d(e,1)._config.role,d(e,1)._config.ariaLabel?null:d(e,1)._ariaLabelledBy,d(e,1)._config.ariaLabel,d(e,1)._config.ariaDescribedBy||null,d(e,1)._state)})}var iO=$i("mat-dialog-container",ec,nO,{},{},[]),rO=Pe({encapsulation:2,styles:[["ui-pixie-editor .sample-image-panel{max-width:318px}open-sample-image-panel{display:block;padding:15px;border-radius:3px;overflow:hidden;margin:0 auto}open-sample-image-panel h2{font-size:16px;font-weight:400;margin:10px 0;text-align:center}open-sample-image-panel .separator{position:relative;text-align:center;height:30px;display:flex;justify-content:center;align-items:center;margin-bottom:8px}open-sample-image-panel .separator>hr{position:absolute;left:0;top:13px;width:100%;height:2px;background-color:rgba(0,0,0,.07);margin:0;border:none}open-sample-image-panel .separator>.text{display:block;background-color:#fff;position:relative;z-index:1;padding:0 10px}open-sample-image-panel .buttons{display:flex;justify-content:center;margin:20px 0;text-align:center}open-sample-image-panel .buttons>button{display:block;margin:0 10px}open-sample-image-panel .samples{display:flex;justify-content:center}open-sample-image-panel .samples>img{cursor:pointer;width:80px;height:80px;-o-object-fit:cover;object-fit:cover;transition:box-shadow .3s ease;margin:0 8px}open-sample-image-panel .samples>img:hover{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}open-sample-image-panel .new-canvas-container{margin:20px 0;padding-top:20px;border-top:2px solid rgba(0,0,0,.07)}open-sample-image-panel .new-canvas-container .form-buttons{text-align:right}"]],data:{}});function oO(n){return wt(0,[(n()(),P(0,0,null,null,8,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),P(1,0,null,null,3,"button",[["color","primary"],["mat-flat-button",""],["trans",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openUploadDialog()!==!1&&r),r},tn,$e)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),D(3,180224,null,0,Qe,[lt,he,ne,[2,ge]],{color:[0,"color"]},null),(n()(),Gt(-1,0,["Open Photo"])),(n()(),P(5,0,null,null,3,"button",[["color","primary"],["mat-stroked-button",""],["trans",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.newCanvasFormVisible$.next(!0)!==!1&&r),r},tn,$e)),D(6,4341760,null,0,ue,[lt,te,Bt],null,null),D(7,180224,null,0,Qe,[lt,he,ne,[2,ge]],{color:[0,"color"]},null),(n()(),Gt(-1,0,["Create New"]))],function(t,e){t(e,3,0,"primary"),t(e,7,0,"primary")},function(t,e){t(e,1,0,d(e,3).disabled||null,d(e,3)._animationMode==="NoopAnimations"),t(e,5,0,d(e,7).disabled||null,d(e,7)._animationMode==="NoopAnimations")})}function sO(n){return wt(0,[(n()(),P(0,0,null,null,35,"div",[["class","new-canvas-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,34,"form",[["class","many-inputs"],["ngNativeValidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0,o=t.component;return e==="submit"&&(r=d(t,2).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,2).onReset()!==!1&&r),e==="ngSubmit"&&(r=o.createNewCanvas()!==!1&&r),r},null,null)),D(2,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),$t(2048,null,Xe,null,[Kn]),D(4,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(5,0,null,null,10,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(6,0,null,null,2,"label",[["for","width"],["trans",""]],null,null,null,null,null)),D(7,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Width"])),(n()(),P(9,0,null,null,6,"input",[["formControlName","width"],["id","width"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,10)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,10).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,10)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,10)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,11).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,11).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,11).onTouched()!==!1&&r),r},null,null)),D(10,16384,null,0,ci,[un,lt,[2,io]],null,null),D(11,16384,null,0,Ui,[un,lt],null,null),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(13,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(15,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(16,0,null,null,10,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(17,0,null,null,2,"label",[["for","height"],["trans",""]],null,null,null,null,null)),D(18,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Height"])),(n()(),P(20,0,null,null,6,"input",[["formControlName","height"],["id","height"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,21)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,21).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,21)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,21)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,22).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,22).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,22).onTouched()!==!1&&r),r},null,null)),D(21,16384,null,0,ci,[un,lt,[2,io]],null,null),D(22,16384,null,0,Ui,[un,lt],null,null),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(24,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(26,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(27,0,null,null,8,"div",[["class","form-buttons"]],null,null,null,null,null)),(n()(),P(28,0,null,null,3,"button",[["mat-button",""],["trans",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.newCanvasFormVisible$.next(!1)!==!1&&r),r},tn,$e)),D(29,4341760,null,0,ue,[lt,te,Bt],null,null),D(30,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),Gt(-1,0,["Cancel"])),(n()(),P(32,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["trans",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,tn,$e)),D(33,4341760,null,0,ue,[lt,te,Bt],null,null),D(34,180224,null,0,Qe,[lt,he,ne,[2,ge]],{color:[0,"color"]},null),(n()(),Gt(-1,0,["Create"]))],function(t,e){t(e,2,0,e.component.newCanvasForm),t(e,13,0,"width"),t(e,24,0,"height"),t(e,34,0,"primary")},function(t,e){t(e,1,0,d(e,4).ngClassUntouched,d(e,4).ngClassTouched,d(e,4).ngClassPristine,d(e,4).ngClassDirty,d(e,4).ngClassValid,d(e,4).ngClassInvalid,d(e,4).ngClassPending),t(e,9,0,d(e,15).ngClassUntouched,d(e,15).ngClassTouched,d(e,15).ngClassPristine,d(e,15).ngClassDirty,d(e,15).ngClassValid,d(e,15).ngClassInvalid,d(e,15).ngClassPending),t(e,20,0,d(e,26).ngClassUntouched,d(e,26).ngClassTouched,d(e,26).ngClassPristine,d(e,26).ngClassDirty,d(e,26).ngClassValid,d(e,26).ngClassInvalid,d(e,26).ngClassPending),t(e,28,0,d(e,30).disabled||null,d(e,30)._animationMode==="NoopAnimations"),t(e,32,0,d(e,34).disabled||null,d(e,34)._animationMode==="NoopAnimations")})}function aO(n){return wt(0,[(n()(),P(0,0,null,null,0,"img",[],[[8,"src",4]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openSampleImage(t.context.$implicit)!==!1&&r),r},null,null))],null,function(t,e){t(e,0,0,e.component.getImageUrl(e.context.$implicit,!0))})}function lO(n){return wt(2,[(n()(),P(0,0,null,null,2,"h2",[["trans",""]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Open a photo or design to get started."])),(n()(),Rt(16777216,null,null,2,null,oO)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),je(131072,We,[ee]),(n()(),Rt(0,[["canvasFormContainer",2]],null,0,null,sO)),(n()(),P(7,0,null,null,4,"div",[["class","separator"]],null,null,null,null,null)),(n()(),P(8,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),P(9,0,null,null,2,"span",[["class","text"],["trans",""]],null,null,null,null,null)),D(10,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["or use a sample"])),(n()(),P(12,0,null,null,2,"div",[["class","samples"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,aO)),D(14,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,4,0,!fe(e,4,0,d(e,5).transform(i.newCanvasFormVisible$)),d(e,6)),t(e,14,0,i.sampleImages)},null)}function uO(n){return wt(0,[(n()(),P(0,0,null,null,1,"open-sample-image-panel",[],null,null,null,lO,rO)),D(1,49152,null,0,xp,[Ho,Bt,zo,bn],null,null)],null,null)}var cO=$i("open-sample-image-panel",xp,uO,{},{},[]);function Sr(n){return getComputedStyle(n)}function Li(n,t){for(var e in t){var i=t[e];typeof i=="number"&&(i+="px"),n.style[e]=i}return n}function ic(n){var t=document.createElement("div");return t.className=n,t}var bb=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function vo(n,t){if(!bb)throw new Error("No element matching method supported");return bb.call(n,t)}function Ms(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function _b(n,t){return Array.prototype.filter.call(n.children,function(e){return vo(e,t)})}var ii={main:"ps",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},wb={x:null,y:null};function xb(n,t){var e=n.element.classList,i=ii.state.scrolling(t);e.contains(i)?clearTimeout(wb[t]):e.add(i)}function Cb(n,t){wb[t]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(ii.state.scrolling(t))},n.settings.scrollingThreshold)}var ul=function(n){this.element=n,this.handlers={}},Sb={isEmpty:{configurable:!0}};ul.prototype.bind=function(n,t){this.handlers[n]===void 0&&(this.handlers[n]=[]),this.handlers[n].push(t),this.element.addEventListener(n,t,!1)},ul.prototype.unbind=function(n,t){var e=this;this.handlers[n]=this.handlers[n].filter(function(i){return!(!t||i===t)||(e.element.removeEventListener(n,i,!1),!1)})},ul.prototype.unbindAll=function(){for(var n in this.handlers)this.unbind(n)},Sb.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(t){return n.handlers[t].length===0})},Object.defineProperties(ul.prototype,Sb);var Ls=function(){this.eventElements=[]};function rc(n){if(typeof window.CustomEvent=="function")return new CustomEvent(n);var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,!1,!1,void 0),t}Ls.prototype.eventElement=function(n){var t=this.eventElements.filter(function(e){return e.element===n})[0];return t||(t=new ul(n),this.eventElements.push(t)),t},Ls.prototype.bind=function(n,t,e){this.eventElement(n).bind(t,e)},Ls.prototype.unbind=function(n,t,e){var i=this.eventElement(n);i.unbind(t,e),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},Ls.prototype.unbindAll=function(){this.eventElements.forEach(function(n){return n.unbindAll()}),this.eventElements=[]},Ls.prototype.once=function(n,t,e){var i=this.eventElement(n),r=function(o){i.unbind(t,r),e(o)};i.bind(t,r)};var oc=function(n,t,e,i,r){var o;if(i===void 0&&(i=!0),r===void 0&&(r=!1),t==="top")o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if(t!=="left")throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}(function(s,f,_,S,T){var F=o[0],U=o[1],J=o[2],ct=o[3],st=o[4],xt=o[5];S===void 0&&(S=!0),T===void 0&&(T=!1);var yt=s.element;s.reach[ct]=null,yt[J]<1&&(s.reach[ct]="start"),yt[J]>s[F]-s[U]-1&&(s.reach[ct]="end"),f&&(yt.dispatchEvent(rc("ps-scroll-"+ct)),f<0?yt.dispatchEvent(rc("ps-scroll-"+st)):f>0&&yt.dispatchEvent(rc("ps-scroll-"+xt)),S&&function(Dt,Pt){xb(Dt,Pt),Cb(Dt,Pt)}(s,ct)),s.reach[ct]&&(f||T)&&yt.dispatchEvent(rc("ps-"+ct+"-reach-"+s.reach[ct]))})(n,e,0,i,r)};function Un(n){return parseInt(n,10)||0}var Ns={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)},Br=function(n){var t=n.element,e=Math.floor(t.scrollTop);n.containerWidth=t.clientWidth,n.containerHeight=t.clientHeight,n.contentWidth=t.scrollWidth,n.contentHeight=t.scrollHeight,t.contains(n.scrollbarXRail)||(_b(t,ii.element.rail("x")).forEach(function(i){return Ms(i)}),t.appendChild(n.scrollbarXRail)),t.contains(n.scrollbarYRail)||(_b(t,ii.element.rail("y")).forEach(function(i){return Ms(i)}),t.appendChild(n.scrollbarYRail)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=kb(n,Un(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=Un((n.negativeScrollAdjustment+t.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=kb(n,Un(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=Un(e*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),function(i,r){var o={width:r.railXWidth},s=Math.floor(i.scrollTop);o.left=r.isRtl?r.negativeScrollAdjustment+i.scrollLeft+r.containerWidth-r.contentWidth:i.scrollLeft,r.isScrollbarXUsingBottom?o.bottom=r.scrollbarXBottom-s:o.top=r.scrollbarXTop+s,Li(r.scrollbarXRail,o);var f={top:s,height:r.railYHeight};r.isScrollbarYUsingRight?f.right=r.isRtl?r.contentWidth-(r.negativeScrollAdjustment+i.scrollLeft)-r.scrollbarYRight-r.scrollbarYOuterWidth:r.scrollbarYRight-i.scrollLeft:f.left=r.isRtl?r.negativeScrollAdjustment+i.scrollLeft+2*r.containerWidth-r.contentWidth-r.scrollbarYLeft-r.scrollbarYOuterWidth:r.scrollbarYLeft+i.scrollLeft,Li(r.scrollbarYRail,f),Li(r.scrollbarX,{left:r.scrollbarXLeft,width:r.scrollbarXWidth-r.railBorderXWidth}),Li(r.scrollbarY,{top:r.scrollbarYTop,height:r.scrollbarYHeight-r.railBorderYWidth})}(t,n),n.scrollbarXActive?t.classList.add(ii.state.active("x")):(t.classList.remove(ii.state.active("x")),n.scrollbarXWidth=0,n.scrollbarXLeft=0,t.scrollLeft=0),n.scrollbarYActive?t.classList.add(ii.state.active("y")):(t.classList.remove(ii.state.active("y")),n.scrollbarYHeight=0,n.scrollbarYTop=0,t.scrollTop=0)};function kb(n,t){return n.settings.minScrollbarLength&&(t=Math.max(t,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(t=Math.min(t,n.settings.maxScrollbarLength)),t}function Eb(n,t){var e=t[0],i=t[1],r=t[2],o=t[3],s=t[5],f=t[6],_=t[7],S=t[8],T=n.element,F=null,U=null,J=null;function ct(xt){T[f]=F+J*(xt[r]-U),xb(n,_),Br(n),xt.stopPropagation(),xt.preventDefault()}function st(){Cb(n,_),n[S].classList.remove(ii.state.clicking),n.event.unbind(n.ownerDocument,"mousemove",ct)}n.event.bind(n[t[4]],"mousedown",function(xt){F=T[f],U=xt[r],J=(n[i]-n[e])/(n[o]-n[s]),n.event.bind(n.ownerDocument,"mousemove",ct),n.event.once(n.ownerDocument,"mouseup",st),n[S].classList.add(ii.state.clicking),xt.stopPropagation(),xt.preventDefault()})}var hO={"click-rail":function(n){n.event.bind(n.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top;n.element.scrollTop+=(e>n.scrollbarYTop?1:-1)*n.containerHeight,Br(n),t.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left;n.element.scrollLeft+=(e>n.scrollbarXLeft?1:-1)*n.containerWidth,Br(n),t.stopPropagation()})},"drag-thumb":function(n){Eb(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Eb(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(n){var t=n.element;n.event.bind(n.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(vo(t,":hover")||vo(n.scrollbarX,":focus")||vo(n.scrollbarY,":focus"))){var i,r=document.activeElement?document.activeElement:n.ownerDocument.activeElement;if(r){if(r.tagName==="IFRAME")r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(vo(i=r,"input,[contenteditable]")||vo(i,"select,[contenteditable]")||vo(i,"textarea,[contenteditable]")||vo(i,"button,[contenteditable]"))return}var o=0,s=0;switch(e.which){case 37:o=e.metaKey?-n.contentWidth:e.altKey?-n.containerWidth:-30;break;case 38:s=e.metaKey?n.contentHeight:e.altKey?n.containerHeight:30;break;case 39:o=e.metaKey?n.contentWidth:e.altKey?n.containerWidth:30;break;case 40:s=e.metaKey?-n.contentHeight:e.altKey?-n.containerHeight:-30;break;case 32:s=e.shiftKey?n.containerHeight:-n.containerHeight;break;case 33:s=n.containerHeight;break;case 34:s=-n.containerHeight;break;case 36:s=n.contentHeight;break;case 35:s=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&o!==0||n.settings.suppressScrollY&&s!==0||(t.scrollTop-=s,t.scrollLeft+=o,Br(n),function(f,_){var S=Math.floor(t.scrollTop);if(f===0){if(!n.scrollbarYActive)return!1;if(S===0&&_>0||S>=n.contentHeight-n.containerHeight&&_<0)return!n.settings.wheelPropagation}var T=t.scrollLeft;if(_===0){if(!n.scrollbarXActive)return!1;if(T===0&&f<0||T>=n.contentWidth-n.containerWidth&&f>0)return!n.settings.wheelPropagation}return!0}(o,s)&&e.preventDefault())}})},wheel:function(n){var t=n.element;function e(i){var r=function(_){var S=_.deltaX,T=-1*_.deltaY;return S!==void 0&&T!==void 0||(S=-1*_.wheelDeltaX/6,T=_.wheelDeltaY/6),_.deltaMode&&_.deltaMode===1&&(S*=10,T*=10),S!=S&&T!=T&&(S=0,T=_.wheelDelta),_.shiftKey?[-T,-S]:[S,T]}(i),o=r[0],s=r[1];if(!function(_,S,T){if(!Ns.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(_))return!1;for(var F=_;F&&F!==t;){if(F.classList.contains(ii.element.consuming))return!0;var U=Sr(F);if([U.overflow,U.overflowX,U.overflowY].join("").match(/(scroll|auto)/)){var J=F.scrollHeight-F.clientHeight;if(J>0&&!(F.scrollTop===0&&T>0||F.scrollTop===J&&T<0))return!0;var ct=F.scrollWidth-F.clientWidth;if(ct>0&&!(F.scrollLeft===0&&S<0||F.scrollLeft===ct&&S>0))return!0}F=F.parentNode}return!1}(i.target,o,s)){var f=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(s?t.scrollTop-=s*n.settings.wheelSpeed:t.scrollTop+=o*n.settings.wheelSpeed,f=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(o?t.scrollLeft+=o*n.settings.wheelSpeed:t.scrollLeft-=s*n.settings.wheelSpeed,f=!0):(t.scrollTop-=s*n.settings.wheelSpeed,t.scrollLeft+=o*n.settings.wheelSpeed),Br(n),(f=f||function(_,S){var T=Math.floor(t.scrollTop),F=t.scrollTop===0,U=T+t.offsetHeight===t.scrollHeight,J=t.scrollLeft===0,ct=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(S)>Math.abs(_)?F||U:J||ct)||!n.settings.wheelPropagation}(o,s))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}window.onwheel!==void 0?n.event.bind(t,"wheel",e):window.onmousewheel!==void 0&&n.event.bind(t,"mousewheel",e)},touch:function(n){if(Ns.supportsTouch||Ns.supportsIePointer){var t=n.element,e={},i=0,r={},o=null;Ns.supportsTouch?(n.event.bind(t,"touchstart",S),n.event.bind(t,"touchmove",T),n.event.bind(t,"touchend",F)):Ns.supportsIePointer&&(window.PointerEvent?(n.event.bind(t,"pointerdown",S),n.event.bind(t,"pointermove",T),n.event.bind(t,"pointerup",F)):window.MSPointerEvent&&(n.event.bind(t,"MSPointerDown",S),n.event.bind(t,"MSPointerMove",T),n.event.bind(t,"MSPointerUp",F)))}function s(U,J){t.scrollTop-=J,t.scrollLeft-=U,Br(n)}function f(U){return U.targetTouches?U.targetTouches[0]:U}function _(U){return!(U.pointerType&&U.pointerType==="pen"&&U.buttons===0||(!U.targetTouches||U.targetTouches.length!==1)&&(!U.pointerType||U.pointerType==="mouse"||U.pointerType===U.MSPOINTER_TYPE_MOUSE))}function S(U){if(_(U)){var J=f(U);e.pageX=J.pageX,e.pageY=J.pageY,i=new Date().getTime(),o!==null&&clearInterval(o)}}function T(U){if(_(U)){var J=f(U),ct={pageX:J.pageX,pageY:J.pageY},st=ct.pageX-e.pageX,xt=ct.pageY-e.pageY;if(function(Pt,At,qt){if(!t.contains(Pt))return!1;for(var Zt=Pt;Zt&&Zt!==t;){if(Zt.classList.contains(ii.element.consuming))return!0;var ie=Sr(Zt);if([ie.overflow,ie.overflowX,ie.overflowY].join("").match(/(scroll|auto)/)){var ce=Zt.scrollHeight-Zt.clientHeight;if(ce>0&&!(Zt.scrollTop===0&&qt>0||Zt.scrollTop===ce&&qt<0))return!0;var Yt=Zt.scrollLeft-Zt.clientWidth;if(Yt>0&&!(Zt.scrollLeft===0&&At<0||Zt.scrollLeft===Yt&&At>0))return!0}Zt=Zt.parentNode}return!1}(U.target,st,xt))return;s(st,xt),e=ct;var yt=new Date().getTime(),Dt=yt-i;Dt>0&&(r.x=st/Dt,r.y=xt/Dt,i=yt),function(Pt,At){var qt=Math.floor(t.scrollTop),Zt=t.scrollLeft,ie=Math.abs(Pt),ce=Math.abs(At);if(ce>ie){if(At<0&&qt===n.contentHeight-n.containerHeight||At>0&&qt===0)return window.scrollY===0&&At>0&&Ns.isChrome}else if(ie>ce&&(Pt<0&&Zt===n.contentWidth-n.containerWidth||Pt>0&&Zt===0))return!0;return!0}(st,xt)&&U.preventDefault()}}function F(){n.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){n.isInitialized?clearInterval(o):r.x||r.y?Math.abs(r.x)<.01&&Math.abs(r.y)<.01?clearInterval(o):(s(30*r.x,30*r.y),r.x*=.8,r.y*=.8):clearInterval(o)},10))}}},cl=function(n,t){var e=this;if(t===void 0&&(t={}),typeof n=="string"&&(n=(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector(n)),!n||!n.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=n,n.classList.add(ii.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)e.settings[i]=t[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var r,o,s=function(){return n.classList.add(ii.state.focus)},f=function(){return n.classList.remove(ii.state.focus)};this.isRtl=Sr(n).direction==="rtl",this.isNegativeScroll=(o=n.scrollLeft,n.scrollLeft=-1,r=n.scrollLeft<0,n.scrollLeft=o,r),this.negativeScrollAdjustment=this.isNegativeScroll?n.scrollWidth-n.clientWidth:0,this.event=new Ls,this.ownerDocument=n.ownerDocument||document,this.scrollbarXRail=ic(ii.element.rail("x")),n.appendChild(this.scrollbarXRail),this.scrollbarX=ic(ii.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",f),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var _=Sr(this.scrollbarXRail);this.scrollbarXBottom=parseInt(_.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Un(_.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Un(_.borderLeftWidth)+Un(_.borderRightWidth),Li(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Un(_.marginLeft)+Un(_.marginRight),Li(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ic(ii.element.rail("y")),n.appendChild(this.scrollbarYRail),this.scrollbarY=ic(ii.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",f),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var S=Sr(this.scrollbarYRail);this.scrollbarYRight=parseInt(S.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Un(S.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(T){var F=Sr(T);return Un(F.width)+Un(F.paddingLeft)+Un(F.paddingRight)+Un(F.borderLeftWidth)+Un(F.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Un(S.borderTopWidth)+Un(S.borderBottomWidth),Li(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Un(S.marginTop)+Un(S.marginBottom),Li(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:n.scrollLeft<=0?"start":n.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:n.scrollTop<=0?"start":n.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(T){return hO[T](e)}),this.lastScrollTop=Math.floor(n.scrollTop),this.lastScrollLeft=n.scrollLeft,this.event.bind(this.element,"scroll",function(T){return e.onScroll(T)}),Br(this)};cl.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Li(this.scrollbarXRail,{display:"block"}),Li(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Un(Sr(this.scrollbarXRail).marginLeft)+Un(Sr(this.scrollbarXRail).marginRight),this.railYMarginHeight=Un(Sr(this.scrollbarYRail).marginTop)+Un(Sr(this.scrollbarYRail).marginBottom),Li(this.scrollbarXRail,{display:"none"}),Li(this.scrollbarYRail,{display:"none"}),Br(this),oc(this,"top",0,!1,!0),oc(this,"left",0,!1,!0),Li(this.scrollbarXRail,{display:""}),Li(this.scrollbarYRail,{display:""}))},cl.prototype.onScroll=function(n){this.isAlive&&(Br(this),oc(this,"top",this.element.scrollTop-this.lastScrollTop),oc(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},cl.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),Ms(this.scrollbarX),Ms(this.scrollbarY),Ms(this.scrollbarXRail),Ms(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},cl.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(n){return!n.match(/^ps([-_].+|)$/)}).join(" ")};var pO=cl,sc=function(){function n(t,e,i,r,o,s,f){this.el=t,this.renderer=e,this.breakpoints=i,this.ngZone=r,this.mutationObserverFactory=o,this.config=s,this.supportsNativeStyling=f,this.subscriptions=[],this.minLength=100,this.suppressX=!0,this.scrollTop=0,this.native=!0,this.debouncer=new x}return n.prototype.ngAfterViewInit=function(){this.renderer.addClass(this.el.nativeElement,this.suppressX?"scroll-container":"scroll-container-x"),this.shouldUseNative()||(this.scrollbar=new pO(this.el.nativeElement,{minScrollbarLength:this.minLength,suppressScrollX:this.suppressX,useBothWheelAxes:!this.suppressX,wheelSpeed:2}),this.native=!1,this.bindToContentChange())},n.prototype.update=function(){this.native||this.scrollbar.update()},n.prototype.setScrollTop=function(t){t===void 0&&(t=0),this.el.nativeElement.scrollTop=t,this.scrollTop=this.el.nativeElement.scrollTop,this.update()},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions=[],this.native||this.scrollbar.destroy(),this.debouncer.complete(),this.observer&&this.observer.disconnect()},n.prototype.shouldUseNative=function(){return!this.config.get("vebto.forceCustomScrollbar")&&!/Edge/.test(navigator.userAgent)&&(!!this.breakpoints.isMobile$.value||this.supportsNativeStyling)},n.prototype.bindToContentChange=function(){var t=this;this.observer=this.ngZone.runOutsideAngular(function(){return t.mutationObserverFactory.create(function(e){t.debouncer.next(e)})}),this.observer.observe(this.el.nativeElement,{childList:!0,subtree:!0}),this.ngZone.runOutsideAngular(function(){t.debouncer.subscribe(function(e){return t.update()})})},n}(),ac=new de("SUPPORTS_NATIVE_SCROLLBAR_STYLING",{providedIn:"root",factory:function(){if(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1)return!1;var n=document.createElement("div");n.className="__sb-test",n.style.overflow="scroll",n.style.width="40px";var t=document.createElement("style");t.innerHTML=".__sb-test::-webkit-scrollbar { width: 0px; }",n.appendChild(t),document.body.appendChild(n);var e=n.scrollWidth==40;return document.body.removeChild(n),e}}),Xd=function(){function n(t,e){this.history=t,this.panelRef=e}return n.prototype.loadHistoryState=function(t){return this.history.load(t)},A([_n(pi.items),E("design:type",c)],n.prototype,"items$",void 0),A([_n(pi.activeItemId),E("design:type",c)],n.prototype,"activeItemId$",void 0),n}(),dO=Pe({encapsulation:2,styles:[["history-panel{display:block;bottom:5px;right:5px}"]],data:{}});function fO(n){return wt(0,[(n()(),P(0,0,null,null,5,"div",[["class","floating-panel-item"]],[[2,"active",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.loadHistoryState(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,1,"mat-icon",[["class","list-icon mat-icon"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(2,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(3,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(4,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(5,null,["",""]))],function(t,e){t(e,2,0,e.context.$implicit.icon)},function(t,e){t(e,0,0,e.context.$implicit.id===e.parent.context.ngIf),t(e,1,0,d(e,2).inline,d(e,2).color!=="primary"&&d(e,2).color!=="accent"&&d(e,2).color!=="warn"),t(e,5,0,e.context.$implicit.name)})}function gO(n){return wt(0,[(n()(),P(0,0,null,null,4,"div",[["class","items-list"],["customScrollbar",""]],null,null,null,null,null)),D(1,4341760,null,0,sc,[lt,un,Wi,xe,Wo,Bt,ac],null,null),(n()(),Rt(16777216,null,null,2,null,fO)),D(3,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,3,0,fe(e,3,0,d(e,4).transform(i.items$)))},null)}function mO(n){return wt(2,[(n()(),P(0,0,null,null,7,"div",[["class","header"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["History"])),(n()(),P(4,0,null,null,3,"button",[["class","close-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.panelRef.close()!==!1&&r),r},tn,$e)),D(5,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(6,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","close"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(16777216,null,null,2,null,gO)),D(9,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,7,0,"close"),t(e,9,0,fe(e,9,0,d(e,10).transform(i.activeItemId$)))},function(t,e){t(e,4,0,d(e,5).disabled||null,d(e,5)._animationMode==="NoopAnimations"),t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn")})}function vO(n){return wt(0,[(n()(),P(0,0,null,null,1,"history-panel",[],null,null,null,mO,dO)),D(1,49152,null,0,Xd,[Fn,zo],null,null)],null,null)}var yO=$i("history-panel",Xd,vO,{},{},[]),Ob=new de("CDK_DROP_LIST");function Tb(n,t,e){var i=Ib(t,n.length-1),r=Ib(e,n.length-1);if(i!==r){for(var o=n[i],s=r<i?-1:1,f=i;f!==r;f+=s)n[f]=n[f+s];n[r]=o}}function Ib(n,t){return Math.max(0,Math.min(t,n))}var hl=Ss({passive:!1,capture:!0}),Ab=function(){function n(t,e){var i=this;this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new x,this.pointerUp=new x,this._preventDefaultWhileDragging=function(r){i._activeDragInstances.size&&r.preventDefault()},this._document=e}return n.prototype.registerDropContainer=function(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error('Drop instance with id "'+t.id+'" has already been registered.');this._dropInstances.add(t)}},n.prototype.registerDragItem=function(t){var e=this;this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,hl)})},n.prototype.removeDropContainer=function(t){this._dropInstances.delete(t)},n.prototype.removeDragItem=function(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,hl)},n.prototype.startDragging=function(t,e){var i=this;if(this._activeDragInstances.add(t),this._activeDragInstances.size===1){var r=e.type.startsWith("touch"),o=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(s){return i.pointerMove.next(s)},options:hl}).set(o,{handler:function(s){return i.pointerUp.next(s)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:hl}),r||this._globalListeners.set("wheel",{handler:this._preventDefaultWhileDragging,options:hl}),this._ngZone.runOutsideAngular(function(){i._globalListeners.forEach(function(s,f){i._document.addEventListener(f,s.handler,s.options)})})}},n.prototype.stopDragging=function(t){this._activeDragInstances.delete(t),this._activeDragInstances.size===0&&this._clearGlobalListeners()},n.prototype.isDragging=function(t){return this._activeDragInstances.has(t)},n.prototype.getDropContainer=function(t){return Array.from(this._dropInstances).find(function(e){return e.id===t})},n.prototype.ngOnDestroy=function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},n.prototype._clearGlobalListeners=function(){var t=this;this._globalListeners.forEach(function(e,i){t._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()},n.ngInjectableDef=Ce({factory:function(){return new n(re(xe),re(jn))},token:n,providedIn:"root"}),n}(),bO=new de("CDK_DRAG_PARENT");function Pb(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Yd(n,t){var e=t?"":"none";Pb(n.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:e,msUserSelect:e,webkitUserSelect:e,MozUserSelect:e})}var _O=function(){return function(n){this.templateRef=n}}(),wO=function(){return function(n){this.templateRef=n}}();function Db(n){var t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Gd(n,t){return n.getPropertyValue(t).split(",").map(function(e){return e.trim()})}var Rb=Ss({passive:!0}),jb=Ss({passive:!1}),xO=function(){function n(t,e,i,r,o,s,f,_,S){var T=this;this._document=e,this._ngZone=i,this._viewContainerRef=r,this._viewportRuler=o,this._dragDropRegistry=s,this._config=f,this.dropContainer=_,this._dir=S,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new x,this._moveEventSubscriptions=0,this._pointerMoveSubscription=et.EMPTY,this._pointerUpSubscription=et.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabled=!1,this.beforeStarted=new x,this.started=new x,this.released=new x,this.ended=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.moved=c.create(function(F){var U=T._moveEvents.subscribe(F);return T._moveEventSubscriptions++,function(){U.unsubscribe(),T._moveEventSubscriptions--}}),this._pointerDown=function(F){if(T.beforeStarted.next(),T._handles.length){var U=T._handles.find(function(J){var ct=J.element.nativeElement,st=F.target;return!!st&&(st===ct||ct.contains(st))});!U||U.disabled||T.disabled||T._initializeDragSequence(U.element.nativeElement,F)}else T.disabled||T._initializeDragSequence(T._rootElement,F)},this._pointerMove=function(F){if(T._hasStartedDragging){T._boundaryElement&&(T._previewRect&&(T._previewRect.width||T._previewRect.height)||(T._previewRect=(T._preview||T._rootElement).getBoundingClientRect()));var U=T._getConstrainedPointerPosition(F);if(T._hasMoved=!0,F.preventDefault(),T._updatePointerDirectionDelta(U),T.dropContainer)T._updateActiveDropContainer(U);else{var J=T._activeTransform;J.x=U.x-T._pickupPositionOnPage.x+T._passiveTransform.x,J.y=U.y-T._pickupPositionOnPage.y+T._passiveTransform.y;var ct=pl(J.x,J.y);T._rootElement.style.transform=T._initialTransform?T._initialTransform+" "+ct:ct,typeof SVGElement<"u"&&T._rootElement instanceof SVGElement&&T._rootElement.setAttribute("transform","translate("+J.x+" "+J.y+")")}T._moveEventSubscriptions>0&&T._ngZone.run(function(){T._moveEvents.next({source:T,pointerPosition:U,event:F,delta:T._pointerDirectionDelta})})}else{var st=T._getPointerPositionOnPage(F);Math.abs(st.x-T._pickupPositionOnPage.x)+Math.abs(st.y-T._pickupPositionOnPage.y)>=T._config.dragStartThreshold&&(T._hasStartedDragging=!0,T._ngZone.run(function(){return T._startDragSequence(F)}))}},this._pointerUp=function(F){if(T._dragDropRegistry.isDragging(T)&&(T._removeSubscriptions(),T._dragDropRegistry.stopDragging(T),T._handles&&(T._rootElement.style.webkitTapHighlightColor=T._rootElementTapHighlight),T._hasStartedDragging)){if(T.released.next({source:T}),!T.dropContainer)return T._passiveTransform.x=T._activeTransform.x,T._passiveTransform.y=T._activeTransform.y,T._ngZone.run(function(){return T.ended.next({source:T})}),void T._dragDropRegistry.stopDragging(T);T._animatePreviewToPlaceholder().then(function(){T._cleanupDragArtifacts(F),T._dragDropRegistry.stopDragging(T)})}},this.withRootElement(t),s.registerDragItem(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)},set:function(t){var e=rn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._placeholder},n.prototype.getRootElement=function(){return this._rootElement},n.prototype.withHandles=function(t){return this._handles=t,t.forEach(function(e){return Yd(e.element.nativeElement,!1)}),this._toggleNativeDragInteractions(),this},n.prototype.withPreviewTemplate=function(t){return this._previewTemplate=t,this},n.prototype.withPlaceholderTemplate=function(t){return this._placeholderTemplate=t,this},n.prototype.withRootElement=function(t){var e=t instanceof lt?t.nativeElement:t;return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,jb),e.addEventListener("touchstart",this._pointerDown,Rb),this._rootElement=e),this},n.prototype.withBoundaryElement=function(t){return this._boundaryElement=t instanceof lt?t.nativeElement:t,this},n.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&qd(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null},n.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},n.prototype.reset=function(){this._rootElement.style.transform="",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},n.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()},n.prototype._destroyPreview=function(){this._preview&&qd(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},n.prototype._destroyPlaceholder=function(){this._placeholder&&qd(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},n.prototype._startDragSequence=function(t){if(this.started.next({source:this}),lc(t)&&(this._lastTouchEventTime=Date.now()),this.dropContainer){var e=this._rootElement;this._nextSibling=e.nextSibling;var i=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(r,e)),this._document.body.appendChild(i),this.dropContainer.start()}},n.prototype._initializeDragSequence=function(t,e){e.stopPropagation();var i=this.isDragging(),r=lc(e),o=!r&&e.button!==0,s=this._rootElement,f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&e.type==="mousedown"&&e.preventDefault(),!(i||o||f)){this._initialTransform==null&&(this._initialTransform=this._rootElement.style.transform||""),this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._toggleNativeDragInteractions(),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this.dropContainer,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate?{x:0,y:0}:this._getPointerPositionInElement(t,e);var _=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_.x,y:_.y},this._dragDropRegistry.startDragging(this,e)}},n.prototype._cleanupDragArtifacts=function(t){var e=this;this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):this._initialContainer.element.nativeElement.appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var i=e.dropContainer,r=i.getItemIndex(e),o=e._getPointerPositionOnPage(t),s=i._isOverContainer(o.x,o.y);e.ended.next({source:e}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialContainer.getItemIndex(e),container:i,previousContainer:e._initialContainer,isPointerOverContainer:s}),i.drop(e,r,e._initialContainer,s),e.dropContainer=e._initialContainer})},n.prototype._updateActiveDropContainer=function(t){var e=this,i=t.x,r=t.y,o=this.dropContainer._getSiblingContainerFromPosition(this,i,r);!o&&this.dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(o=this._initialContainer),o&&this._ngZone.run(function(){e.exited.next({item:e,container:e.dropContainer}),e.dropContainer.exit(e),e.entered.next({item:e,container:o}),e.dropContainer=o,e.dropContainer.enter(e,i,r)}),this.dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this._preview.style.transform=pl(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)},n.prototype._createPreviewElement=function(){var t;if(this._previewTemplate){var e=this._viewContainerRef.createEmbeddedView(this._previewTemplate.templateRef,this._previewTemplate.data);t=e.rootNodes[0],this._previewRef=e,t.style.transform=pl(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var i=this._rootElement,r=i.getBoundingClientRect();(t=Fb(i)).style.width=r.width+"px",t.style.height=r.height+"px",t.style.transform=pl(r.left,r.top)}return Pb(t.style,{pointerEvents:"none",position:"fixed",top:"0",left:"0",zIndex:"1000"}),Yd(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._dir?this._dir.value:"ltr"),t},n.prototype._animatePreviewToPlaceholder=function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=pl(e.left,e.top);var i=function(r){var o=getComputedStyle(r),s=Gd(o,"transition-property"),f=s.find(function(F){return F==="transform"||F==="all"});if(!f)return 0;var _=s.indexOf(f),S=Gd(o,"transition-duration"),T=Gd(o,"transition-delay");return Db(S[_])+Db(T[_])}(this._preview);return i===0?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(r){var o=function(f){(!f||f.target===t._preview&&f.propertyName==="transform")&&(t._preview.removeEventListener("transitionend",o),r(),clearTimeout(s))},s=setTimeout(o,1.5*i);t._preview.addEventListener("transitionend",o)})})},n.prototype._createPlaceholderElement=function(){var t;return this._placeholderTemplate?(this._placeholderRef=this._viewContainerRef.createEmbeddedView(this._placeholderTemplate.templateRef,this._placeholderTemplate.data),t=this._placeholderRef.rootNodes[0]):t=Fb(this._rootElement),t.classList.add("cdk-drag-placeholder"),t},n.prototype._getPointerPositionInElement=function(t,e){var i=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():i,s=lc(e)?e.targetTouches[0]:e;return{x:o.left-i.left+(s.pageX-o.left-this._scrollPosition.left),y:o.top-i.top+(s.pageY-o.top-this._scrollPosition.top)}},n.prototype._getPointerPositionOnPage=function(t){var e=lc(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}},n.prototype._getConstrainedPointerPosition=function(t){var e=this._getPointerPositionOnPage(t),i=this.dropContainer?this.dropContainer.lockAxis:null;if(this.lockAxis==="x"||i==="x"?e.y=this._pickupPositionOnPage.y:this.lockAxis!=="y"&&i!=="y"||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,o=r.x,s=r.y,f=this._boundaryRect,_=this._previewRect,S=f.top+s,T=f.bottom-(_.height-s);e.x=Mb(e.x,f.left+o,f.right-(_.width-o)),e.y=Mb(e.y,S,T)}return e},n.prototype._updatePointerDirectionDelta=function(t){var e=t.x,i=t.y,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),f=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),f>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r},n.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var t=this.disabled||this._handles.length>0;t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Yd(this._rootElement,t))}},n.prototype._removeRootElementListeners=function(t){t.removeEventListener("mousedown",this._pointerDown,jb),t.removeEventListener("touchstart",this._pointerDown,Rb)},n}();function pl(n,t){return"translate3d("+Math.round(n)+"px, "+Math.round(t)+"px, 0)"}function Fb(n){var t=n.cloneNode(!0);return t.removeAttribute("id"),t}function Mb(n,t,e){return Math.max(t,Math.min(e,n))}function qd(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function lc(n){return n.type.startsWith("touch")}var CO=new de("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),Lb=function(){function n(t,e,i,r,o,s,f,_,S){var T=this;this.element=t,this.dropContainer=e,this._document=i,this._ngZone=r,this._viewContainerRef=o,this._viewportRuler=s,this._dragDropRegistry=f,this._config=_,this._dir=S,this._rootElementInitSubscription=et.EMPTY,this._disabled=!1,this.started=new le,this.released=new le,this.ended=new le,this.entered=new le,this.exited=new le,this.dropped=new le,this.moved=c.create(function(U){var J=T._dragRef.moved.pipe(Ct(function(ct){return{source:T,pointerPosition:ct.pointerPosition,event:ct.event,delta:ct.delta}})).subscribe(U);return function(){J.unsubscribe()}});var F=this._dragRef=new xO(t,this._document,this._ngZone,this._viewContainerRef,this._viewportRuler,this._dragDropRegistry,this._config,this.dropContainer?this.dropContainer._dropListRef:void 0,this._dir);F.data=this,F.beforeStarted.subscribe(function(){F.isDragging()||(F.disabled=T.disabled,F.lockAxis=T.lockAxis,F.withBoundaryElement(T._getBoundaryElement()).withPlaceholderTemplate(T._placeholderTemplate).withPreviewTemplate(T._previewTemplate))}),this._proxyEvents(F)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=rn(t),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),n.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},n.prototype.getRootElement=function(){return this._dragRef.getRootElement()},n.prototype.reset=function(){this._dragRef.reset()},n.prototype.ngAfterViewInit=function(){var t=this;this._rootElementInitSubscription=this._ngZone.onStable.asObservable().pipe(Xn(1)).subscribe(function(){t._updateRootElement(),t._handles.changes.pipe(ho(t._handles)).subscribe(function(e){t._dragRef.withHandles(e.filter(function(i){return i._parentDrag===t}))})})},n.prototype.ngOnChanges=function(t){var e=t.rootElementSelector;e&&!e.firstChange&&this._updateRootElement()},n.prototype.ngOnDestroy=function(){this._rootElementInitSubscription.unsubscribe(),this._dragRef.dispose()},n.prototype._updateRootElement=function(){var t=this.element.nativeElement,e=this.rootElementSelector?Nb(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+e.nodeName+'".');this._dragRef.withRootElement(e||t)},n.prototype._getBoundaryElement=function(){var t=this.boundaryElementSelector;return t?Nb(this.element.nativeElement,t):null},n.prototype._proxyEvents=function(t){var e=this;t.started.subscribe(function(){e.started.emit({source:e})}),t.released.subscribe(function(){e.released.emit({source:e})}),t.ended.subscribe(function(){e.ended.emit({source:e})}),t.entered.subscribe(function(i){e.entered.emit({container:i.container.data,item:e})}),t.exited.subscribe(function(i){e.exited.emit({container:i.container.data,item:e})}),t.dropped.subscribe(function(i){e.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:e})})},n}();function Nb(n,t){for(var e=n.parentElement;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}var Bb=function(){function n(){this._items=new Set,this._disabled=!1}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=rn(t)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._items.clear()},n}(),SO=0,kO=function(){function n(t,e,i,r){this.element=t,this._dragDropRegistry=e,this._dir=r,this.id="cdk-drop-list-ref-"+SO++,this.disabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.sorted=new x,this._isDragging=!1,this._positionCache={items:[],siblings:[],self:{}},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=0,e.registerDropContainer(this),this._document=i}return n.prototype.dispose=function(){this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._dragDropRegistry.removeDropContainer(this)},n.prototype.isDragging=function(){return this._isDragging},n.prototype.start=function(){this.beforeStarted.next(),this._isDragging=!0,this._activeDraggables=this._draggables.slice(),this._cachePositions(),this._positionCache.siblings.forEach(function(t){return t.drop._toggleIsReceiving(!0)})},n.prototype.enter=function(t,e,i){this.entered.next({item:t,container:this}),this.start();var r=this._getItemIndexFromPointerPosition(t,e,i),o=this._activeDraggables.indexOf(t),s=this._activeDraggables[r],f=t.getPlaceholderElement();if(o>-1&&this._activeDraggables.splice(o,1),s&&!this._dragDropRegistry.isDragging(s)){var _=s.getRootElement();_.parentElement.insertBefore(f,_),this._activeDraggables.splice(r,0,t)}else this.element.nativeElement.appendChild(f),this._activeDraggables.push(t);f.style.transform="",this._cachePositions()},n.prototype.exit=function(t){this._reset(),this.exited.next({item:t,container:this})},n.prototype.drop=function(t,e,i,r){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i.getItemIndex(t),container:this,previousContainer:i,isPointerOverContainer:r})},n.prototype.withItems=function(t){return this._draggables=t.slice(),this},n.prototype.connectedTo=function(t){return this._siblings=t.slice(),this},n.prototype.withOrientation=function(t){return this._orientation=t,this},n.prototype.getItemIndex=function(t){return this._isDragging?Kd(this._orientation==="horizontal"&&this._dir&&this._dir.value==="rtl"?this._positionCache.items.slice().reverse():this._positionCache.items,function(e){return e.drag===t}):this._draggables.indexOf(t)},n.prototype.isReceiving=function(){return this._activeSiblings>0},n.prototype._sortItem=function(t,e,i,r){if(this._isPointerNearDropContainer(e,i)){var o=this._positionCache.items,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(!(s===-1&&o.length>0)){var f=this._orientation==="horizontal",_=Kd(o,function(xt){return xt.drag===t}),S=o[s],T=o[_].clientRect,F=S.clientRect,U=_>s?1:-1;this._previousSwap.drag=S.drag,this._previousSwap.delta=f?r.x:r.y;var J=this._getItemOffsetPx(T,F,U),ct=this._getSiblingOffsetPx(_,o,U),st=o.slice();Tb(o,_,s),this.sorted.next({previousIndex:_,currentIndex:s,container:this,item:t}),o.forEach(function(xt,yt){if(st[yt]!==xt){var Dt=xt.drag===t,Pt=Dt?J:ct,At=Dt?t.getPlaceholderElement():xt.drag.getRootElement();xt.offset+=Pt,f?(At.style.transform="translate3d("+Math.round(xt.offset)+"px, 0, 0)",Vb(xt.clientRect,0,Pt)):(At.style.transform="translate3d(0, "+Math.round(xt.offset)+"px, 0)",Vb(xt.clientRect,Pt,0))}})}}},n.prototype._cachePositions=function(){var t=this,e=this._orientation==="horizontal";this._positionCache.self=this.element.nativeElement.getBoundingClientRect(),this._positionCache.items=this._activeDraggables.map(function(i){var r=(t._dragDropRegistry.isDragging(i)?i.getPlaceholderElement():i.getRootElement()).getBoundingClientRect();return{drag:i,offset:0,clientRect:{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}}).sort(function(i,r){return e?i.clientRect.left-r.clientRect.left:i.clientRect.top-r.clientRect.top}),this._positionCache.siblings=this._siblings.map(function(i){return{drop:i,clientRect:i.element.nativeElement.getBoundingClientRect()}})},n.prototype._toggleIsReceiving=function(t){this._activeSiblings=Math.max(0,this._activeSiblings+(t?1:-1))},n.prototype._reset=function(){this._isDragging=!1,this._activeDraggables.forEach(function(t){return t.getRootElement().style.transform=""}),this._positionCache.siblings.forEach(function(t){return t.drop._toggleIsReceiving(!1)}),this._activeDraggables=[],this._positionCache.items=[],this._positionCache.siblings=[],this._previousSwap.drag=null,this._previousSwap.delta=0},n.prototype._getSiblingOffsetPx=function(t,e,i){var r=this._orientation==="horizontal",o=e[t].clientRect,s=e[t+-1*i],f=o[r?"width":"height"]*i;if(s){var _=r?"left":"top",S=r?"right":"bottom";i===-1?f-=s.clientRect[_]-o[S]:f+=o[_]-s.clientRect[S]}return f},n.prototype._isPointerNearDropContainer=function(t,e){var i=this._positionCache.self,r=.05*i.width,o=.05*i.height;return e>i.top-o&&e<i.bottom+o&&t>i.left-r&&t<i.right+r},n.prototype._getItemOffsetPx=function(t,e,i){var r=this._orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return i===-1&&(o+=r?e.width-t.width:e.height-t.height),o},n.prototype._getItemIndexFromPointerPosition=function(t,e,i,r){var o=this,s=this._orientation==="horizontal";return Kd(this._positionCache.items,function(f,_,S){var T=f.drag,F=f.clientRect;return T===t?S.length<2:(!r||T!==o._previousSwap.drag||(s?r.x:r.y)!==o._previousSwap.delta)&&(s?e>=Math.floor(F.left)&&e<=Math.floor(F.right):i>=Math.floor(F.top)&&i<=Math.floor(F.bottom))})},n.prototype._isOverContainer=function(t,e){return zb(this._positionCache.self,t,e)},n.prototype._getSiblingContainerFromPosition=function(t,e,i){var r=this._positionCache.siblings.filter(function(f){return zb(f.clientRect,e,i)});if(!r.length)return null;var o=this._document.elementFromPoint(e,i);if(!o)return null;var s=r.find(function(f){var _=f.drop.element.nativeElement;return _===o||_.contains(o)});return s&&s.drop.enterPredicate(t,s.drop)?s.drop:null},n}();function Vb(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function Kd(n,t){for(var e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function zb(n,t,e){return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}var EO=0,Hb=function(){function n(t,e,i,r,o,s){var f=this;this.element=t,this._changeDetectorRef=i,this._group=o,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-"+EO++,this._disabled=!1,this.enterPredicate=function(){return!0},this.dropped=new le,this.entered=new le,this.exited=new le,this.sorted=new le;var _=this._dropListRef=new kO(t,e,s||document,r);_.data=this,_.enterPredicate=function(S,T){return f.enterPredicate(S.data,T.data)},this._syncInputs(_),this._proxyEvents(_),n._dropLists.push(this),o&&o._items.add(this)}return Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._disabled=rn(t)},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){var t=n._dropLists.indexOf(this);this._dropListRef.dispose(),t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this)},n.prototype.start=function(){this._dropListRef.start()},n.prototype.drop=function(t,e,i,r){this._dropListRef.drop(t._dragRef,e,i._dropListRef,r)},n.prototype.enter=function(t,e,i){this._dropListRef.enter(t._dragRef,e,i)},n.prototype.exit=function(t){this._dropListRef.exit(t._dragRef)},n.prototype.getItemIndex=function(t){return this._dropListRef.getItemIndex(t._dragRef)},n.prototype._sortItem=function(t,e,i,r){return this._dropListRef._sortItem(t._dragRef,e,i,r)},n.prototype._getSiblingContainerFromPosition=function(t,e,i){var r=this._dropListRef._getSiblingContainerFromPosition(t._dragRef,e,i);return r?r.data:null},n.prototype._isOverContainer=function(t,e){return this._dropListRef._isOverContainer(t,e)},n.prototype._syncInputs=function(t){var e=this;t.beforeStarted.subscribe(function(){var i=Va(e.connectedTo).map(function(r){return typeof r=="string"?n._dropLists.find(function(o){return o.id===r}):r});e._group&&e._group._items.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),t.lockAxis=e.lockAxis,t.connectedTo(i.filter(function(r){return r&&r!==e}).map(function(r){return r._dropListRef})).withOrientation(e.orientation).withItems(e._draggables.map(function(r){return r._dragRef}))})},n.prototype._proxyEvents=function(t){var e=this;t.beforeStarted.subscribe(function(){e._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(i){e.entered.emit({container:e,item:i.item.data})}),t.exited.subscribe(function(i){e.exited.emit({container:e,item:i.item.data})}),t.sorted.subscribe(function(i){e.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:e,item:i.item.data})}),t.dropped.subscribe(function(i){e.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer})})},n._dropLists=[],n}(),Ub=function(){return function(){}}(),Zd=function(){function n(t,e,i,r,o){this.objects=t,this.panelRef=e,this.controls=i,this.canvasState=r,this.store=o}return n.prototype.getIcon=function(t){return oi[t.name].icon},n.prototype.selectObject=function(t){this.objects.select(t),this.store.selectSnapshot(gn.dirty)||this.store.dispatch(new yr(Be.OBJECT_SETTINGS))},n.prototype.getObjectDisplayName=function(t){var e=t.name;return e?e.replace(/([A-Z])/g," $1"):""},n.prototype.reorderObjects=function(t){Tb(this.objects.getAll(),t.previousIndex,t.currentIndex);var e=this.objects.getAll().slice().reverse().findIndex(function(i){return i.data.id===t.item.data});this.objects.getById(t.item.data).moveTo(e),this.canvasState.fabric.requestRenderAll()},n.prototype.shouldDisableObject=function(t){return!t.selectable&&t.name!==oi.drawing.name},A([_n(gn.activeObjId),E("design:type",c)],n.prototype,"activeObjId$",void 0),n}(),yo=function(){function n(t,e,i){this.canvas=t,this.activeObject=e,this.store=i,this.objects=[],this.init()}return n.prototype.getAll=function(){return this.objects},n.prototype.get=function(t){return this.objects.find(function(e){return e.name===t})},n.prototype.getById=function(t){return this.objects.find(function(e){return e.data.id===t})},n.prototype.isActive=function(t){return this.activeObject.getId()===t.data.id},n.prototype.has=function(t){return this.objects.findIndex(function(e){return e.name===t})>-1},n.prototype.select=function(t){this.canvas.state.fabric.setActiveObject(t),this.canvas.state.fabric.requestRenderAll()},n.prototype.syncObjects=function(){this.objects=this.canvas.fabric().getObjects().filter(function(t){if(t.name)return t.name.indexOf("crop.")===-1&&t.name.indexOf("round.")===-1&&t.name.indexOf("frame.")===-1}).reverse(),this.store.dispatch(new wm)},n.prototype.init=function(){var t=this;this.canvas.state.loaded.subscribe(function(){t.canvas.state.loaded.subscribe(function(){t.syncObjects()}),t.canvas.fabric().on("object:added",function(){setTimeout(function(){return t.syncObjects()})}),t.canvas.fabric().on("object:removed",function(){t.syncObjects()})})},n}(),OO=Pe({encapsulation:2,styles:[["objects-panel{display:block}objects-panel .action-button{vertical-align:middle;width:20px;height:20px;line-height:20px;margin:0 5px}objects-panel .action-button mat-icon{width:20px;height:20px}objects-panel .drag-placeholder{transition:transform 250ms cubic-bezier(0,0,.2,1);padding:5px 10px}objects-panel .drag-placeholder .placeholder-inner{height:48px;background:#f1f1f1;border:3px dotted #e0e0e0}objects-panel .cdk-drag-animating,objects-panel .cdk-drop-list-dragging .drag-item:not(.cdk-drag-placeholder){transition:transform 250ms cubic-bezier(0,0,.2,1)}"]],data:{}});function TO(n){return wt(0,[(n()(),P(0,0,null,null,0,"div",[["class","drag-preview"]],null,null,null,null,null))],null,null)}function IO(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","drag-placeholder"]],null,null,null,null,null)),(n()(),P(1,0,null,null,0,"div",[["class","placeholder-inner"]],null,null,null,null,null))],null,null)}function AO(n){return wt(0,[(n()(),P(0,16777216,null,null,16,"div",[["cdkDrag",""],["cdkDragBoundary",".items-list"],["cdkDragLockAxis","y"],["class","reorder-item-wrapper drag-item cdk-drag"]],[[2,"cdk-drag-dragging",null]],null,null,null,null)),$t(6144,null,bO,null,[Lb]),D(2,4866048,[[1,4]],3,Lb,[lt,[3,Ob],jn,xe,jt,Eu,Ab,CO,[2,pn]],{data:[0,"data"],lockAxis:[1,"lockAxis"],boundaryElementSelector:[2,"boundaryElementSelector"],disabled:[3,"disabled"]},null),Me(603979776,2,{_handles:1}),Me(335544320,3,{_previewTemplate:0}),Me(335544320,4,{_placeholderTemplate:0}),(n()(),P(6,0,null,null,10,"div",[["class","floating-panel-item"]],[[2,"disabled",null],[2,"active",null],[1,"data-id",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.selectObject(t.context.$implicit)!==!1&&r),r},null,null)),je(131072,We,[ee]),(n()(),P(8,0,null,null,1,"mat-icon",[["class","list-icon mat-icon"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(9,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(10,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(11,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(12,null,["",""])),(n()(),Rt(0,null,null,1,null,TO)),D(14,16384,[[3,4]],0,wO,[Lt],null,null),(n()(),Rt(0,null,null,1,null,IO)),D(16,16384,[[4,4]],0,_O,[Lt],null,null),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,2,0,e.context.$implicit.data.id,"y",".items-list",i.shouldDisableObject(e.context.$implicit)),t(e,9,0,i.getIcon(e.context.$implicit))},function(t,e){var i=e.component;t(e,0,0,d(e,2)._dragRef.isDragging()),t(e,6,0,i.shouldDisableObject(e.context.$implicit),fe(e,6,1,d(e,7).transform(i.activeObjId$))===e.context.$implicit.data.id,e.context.$implicit.data.id),t(e,8,0,d(e,9).inline,d(e,9).color!=="primary"&&d(e,9).color!=="accent"&&d(e,9).color!=="warn"),t(e,12,0,i.getObjectDisplayName(e.context.$implicit))})}function PO(n){return wt(2,[(n()(),P(0,0,null,null,7,"div",[["class","header"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Objects"])),(n()(),P(4,0,null,null,3,"button",[["class","close-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.panelRef.close()!==!1&&r),r},tn,$e)),D(5,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(6,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","close"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(8,0,null,null,7,"div",[["cdkDropList",""],["class","items-list cdk-drop-list"],["customScrollbar",""]],[[8,"id",0],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],function(t,e,i){var r=!0;return e==="cdkDropListDropped"&&(r=t.component.reorderObjects(i)!==!1&&r),r},null,null)),$t(6144,null,Ob,null,[Hb]),D(10,4341760,null,0,sc,[lt,un,Wi,xe,Wo,Bt,ac],null,null),D(11,147456,null,1,Hb,[lt,Ab,ee,[2,pn],[3,Bb],[2,jn]],null,{dropped:"cdkDropListDropped"}),Me(603979776,1,{_draggables:1}),$t(256,null,Bb,void 0,[]),(n()(),Rt(16777216,null,null,1,null,AO)),D(15,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,7,0,"close"),t(e,15,0,i.objects.getAll())},function(t,e){t(e,4,0,d(e,5).disabled||null,d(e,5)._animationMode==="NoopAnimations"),t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn"),t(e,8,0,d(e,11).id,d(e,11)._dropListRef.isDragging(),d(e,11)._dropListRef.isReceiving())})}function DO(n){return wt(0,[(n()(),P(0,0,null,null,1,"objects-panel",[],null,null,null,PO,OO)),D(1,49152,null,0,Zd,[yo,zo,hr,Ei,Ge],null,null)],null,null)}var RO=$i("objects-panel",Zd,DO,{},{},[]),Jd=function(){function n(t){this.i18n=t}return n.prototype.transform=function(t,e){return this.i18n.t(t)},n}(),Wb=0,Xb=function(){return function(n,t){this.source=n,this.value=t}}(),dl=function(){function n(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+Wb++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new le}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this._updateRadioButtonNames()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())},enumerable:!0,configurable:!0}),n.prototype._checkSelectedRadioButton=function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)},Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=rn(t),this._markRadiosForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"required",{get:function(){return this._required},set:function(t){this._required=rn(t),this._markRadiosForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){this._isInitialized=!0},n.prototype._touch=function(){this.onTouched&&this.onTouched()},n.prototype._updateRadioButtonNames=function(){var t=this;this._radios&&this._radios.forEach(function(e){e.name=t.name})},n.prototype._updateSelectedRadioFromValue=function(){var t=this;this._radios&&(this._selected===null||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(e){e.checked=t.value===e.value,e.checked&&(t._selected=e)}))},n.prototype._emitChangeEvent=function(){this._isInitialized&&this.change.emit(new Xb(this._selected,this._value))},n.prototype._markRadiosForCheck=function(){this._radios&&this._radios.forEach(function(t){return t._markForCheck()})},n.prototype.writeValue=function(t){this.value=t,this._changeDetector.markForCheck()},n.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this.disabled=t,this._changeDetector.markForCheck()},n}(),Qd=function(n){function t(e,i,r,o,s,f){var _=n.call(this,i)||this;return _._changeDetector=r,_._focusMonitor=o,_._radioDispatcher=s,_._animationMode=f,_._uniqueId="mat-radio-"+ ++Wb,_.id=_._uniqueId,_.change=new le,_._checked=!1,_._value=null,_._removeUniqueSelectionListener=function(){},_.radioGroup=e,_._removeUniqueSelectionListener=s.listen(function(S,T){S!==_.id&&T===_.name&&(_.checked=!1)}),_}return k(t,n),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){var i=rn(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(e){this._labelPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled},set:function(e){var i=rn(e);this._disabled!==i&&(this._disabled=i,this._changeDetector.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(e){this._required=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement,"keyboard")},t.prototype._markForCheck=function(){this._changeDetector.markForCheck()},t.prototype.ngOnInit=function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)},t.prototype.ngAfterViewInit=function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(i){!i&&e.radioGroup&&e.radioGroup._touch()})},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()},t.prototype._emitChangeEvent=function(){this.change.emit(new Xb(this,this._value))},t.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},t.prototype._onInputClick=function(e){e.stopPropagation()},t.prototype._onInputChange=function(e){e.stopPropagation();var i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),this.radioGroup._touch(),i&&this.radioGroup._emitChangeEvent())},t}(Ts(Is(Vu(function(){return function(n){this._elementRef=n}}())),"accent")),Yb=function(){return function(){}}(),$d=Pe({encapsulation:2,styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(.5)}@media (-ms-high-contrast:active){.mat-radio-checked .mat-radio-inner-circle{border:solid 10px}}.mat-radio-label-content{display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple,.mat-radio-persistent-ripple{opacity:0}@media (hover:none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}"],data:{}});function tf(n){return wt(2,[Me(402653184,1,{_inputElement:0}),(n()(),P(1,0,[["label",1]],null,12,"label",[["class","mat-radio-label"]],[[1,"for",0]],null,null,null,null)),(n()(),P(2,0,null,null,7,"div",[["class","mat-radio-container"]],null,null,null,null,null)),(n()(),P(3,0,null,null,0,"div",[["class","mat-radio-outer-circle"]],null,null,null,null,null)),(n()(),P(4,0,null,null,0,"div",[["class","mat-radio-inner-circle"]],null,null,null,null,null)),(n()(),P(5,0,null,null,3,"div",[["class","mat-radio-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(6,212992,null,0,Ps,[lt,xe,he,[2,As],[2,ge]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Dh(7,{enterDuration:0}),(n()(),P(8,0,null,null,0,"div",[["class","mat-ripple-element mat-radio-persistent-ripple"]],null,null,null,null,null)),(n()(),P(9,0,[[1,0],["input",1]],null,0,"input",[["class","mat-radio-input cdk-visually-hidden"],["type","radio"]],[[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"tabIndex",0],[1,"name",0],[8,"required",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"change"],[null,"click"]],function(t,e,i){var r=!0,o=t.component;return e==="change"&&(r=o._onInputChange(i)!==!1&&r),e==="click"&&(r=o._onInputClick(i)!==!1&&r),r},null,null)),(n()(),P(10,0,null,null,3,"div",[["class","mat-radio-label-content"]],[[2,"mat-radio-label-before",null]],null,null,null,null)),(n()(),P(11,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(n()(),Gt(-1,null,["\xA0"])),Gn(null,0)],function(t,e){var i=e.component,r=t(e,7,0,150);t(e,6,0,!0,20,r,i._isRippleDisabled(),d(e,1))},function(t,e){var i=e.component;t(e,1,0,i.inputId),t(e,5,0,d(e,6).unbounded),t(e,9,0,i.inputId,i.checked,i.disabled,i.tabIndex,i.name,i.required,i.ariaLabel,i.ariaLabelledby,i.ariaDescribedby),t(e,10,0,i.labelPosition=="before")})}var jO=function(){return function(){}}(),ei=function(n){function t(e,i,r,o,s,f){var _=n.call(this,e)||this;return _._focusMonitor=i,_._changeDetectorRef=r,_._dir=o,_._animationMode=f,_._invert=!1,_._max=100,_._min=0,_._step=1,_._thumbLabel=!1,_._tickInterval=0,_._value=null,_._vertical=!1,_.change=new le,_.input=new le,_.valueChange=new le,_.onTouched=function(){},_._percent=0,_._isSliding=!1,_._isActive=!1,_._tickIntervalPercent=0,_._sliderDimensions=null,_._controlValueAccessorChangeFn=function(){},_._dirChangeSubscription=et.EMPTY,_.tabIndex=parseInt(s)||0,_}return k(t,n),Object.defineProperty(t.prototype,"invert",{get:function(){return this._invert},set:function(e){this._invert=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=xr(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=xr(e,this._min),this._value===null&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=xr(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbLabel",{get:function(){return this._thumbLabel},set:function(e){this._thumbLabel=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickInterval",{get:function(){return this._tickInterval},set:function(e){this._tickInterval=e==="auto"?"auto":typeof e=="number"||typeof e=="string"?xr(e,this._tickInterval):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value===null&&(this.value=this._min),this._value},set:function(e){if(e!==this._value){var i=xr(e);this._roundToDecimal&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(e){this._vertical=rn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._focusHostElement()},t.prototype.blur=function(){this._blurHostElement()},Object.defineProperty(t.prototype,"percent",{get:function(){return this._clamp(this._percent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_invertAxis",{get:function(){return this.vertical?!this.invert:this.invert},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isMinValue",{get:function(){return this.percent===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_thumbGap",{get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_trackBackgroundStyles",{get:function(){var e=this.vertical?"1, "+(1-this.percent)+", 1":1-this.percent+", 1, 1";return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this._shouldInvertMouseCoords()?"-":"")+this._thumbGap+"px) scale3d("+e+")"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_trackFillStyles",{get:function(){var e=this.vertical?"1, "+this.percent+", 1":this.percent+", 1, 1";return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this._shouldInvertMouseCoords()?"":"-")+this._thumbGap+"px) scale3d("+e+")"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ticksContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this.vertical||this._getDirection()!="rtl"?"-":"")+this._tickIntervalPercent/2*100+"%)"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ticksStyles",{get:function(){var e=100*this._tickIntervalPercent,i={backgroundSize:this.vertical?"2px "+e+"%":e+"% 2px",transform:"translateZ(0) translate"+(this.vertical?"Y":"X")+"("+(this.vertical||this._getDirection()!="rtl"?"":"-")+e/2+"%)"+(this.vertical||this._getDirection()!="rtl"?"":" rotate(180deg)")};return this._isMinValue&&this._thumbGap&&(i["padding"+(this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left")]=this._thumbGap+"px"),i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_thumbContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"(-"+100*((this._getDirection()!="rtl"||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)+"%)"}},enumerable:!0,configurable:!0}),t.prototype._shouldInvertMouseCoords=function(){return this._getDirection()!="rtl"||this.vertical?this._invertAxis:!this._invertAxis},t.prototype._getDirection=function(){return this._dir&&this._dir.value=="rtl"?"rtl":"ltr"},t.prototype.ngOnInit=function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(i){e._isActive=!!i&&i!=="keyboard",e._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(function(){e._changeDetectorRef.markForCheck()}))},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()},t.prototype._onMouseenter=function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())},t.prototype._onMousedown=function(e){if(!this.disabled&&e.button===0){var i=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:e.clientX,y:e.clientY}),i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}},t.prototype._onSlide=function(e){if(!this.disabled){this._isSliding||this._onSlideStart(null),e.preventDefault();var i=this.value;this._updateValueFromPosition({x:e.center.x,y:e.center.y}),i!=this.value&&this._emitInputEvent()}},t.prototype._onSlideStart=function(e){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,e&&(this._updateValueFromPosition({x:e.center.x,y:e.center.y}),e.preventDefault()))},t.prototype._onSlideEnd=function(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null},t.prototype._onFocus=function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()},t.prototype._onBlur=function(){this.onTouched()},t.prototype._onKeydown=function(e){if(!this.disabled&&!Ga(e)){var i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment(this._getDirection()=="rtl"?1:-1);break;case 38:this._increment(1);break;case 39:this._increment(this._getDirection()=="rtl"?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}},t.prototype._onKeyup=function(){this._isSliding=!1},t.prototype._increment=function(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)},t.prototype._updateValueFromPosition=function(e){if(this._sliderDimensions){var i=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(i=1-i),i===0)this.value=this.min;else if(i===1)this.value=this.max;else{var r=this._calculateValue(i),o=Math.round((r-this.min)/this.step)*this.step+this.min;this.value=this._clamp(o,this.min,this.max)}}},t.prototype._emitChangeEvent=function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())},t.prototype._emitInputEvent=function(){this.input.emit(this._createChangeEvent())},t.prototype._updateTickIntervalPercent=function(){if(this.tickInterval&&this._sliderDimensions)if(this.tickInterval=="auto"){var e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,i=Math.ceil(30/(e*this.step/(this.max-this.min)));this._tickIntervalPercent=i*this.step/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)},t.prototype._createChangeEvent=function(e){e===void 0&&(e=this.value);var i=new jO;return i.source=this,i.value=e,i},t.prototype._calculatePercentage=function(e){return((e||0)-this.min)/(this.max-this.min)},t.prototype._calculateValue=function(e){return this.min+e*(this.max-this.min)},t.prototype._clamp=function(e,i,r){return i===void 0&&(i=0),r===void 0&&(r=1),Math.max(i,Math.min(e,r))},t.prototype._getSliderDimensions=function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null},t.prototype._focusHostElement=function(){this._elementRef.nativeElement.focus()},t.prototype._blurHostElement=function(){this._elementRef.nativeElement.blur()},t.prototype.writeValue=function(e){this.value=e},t.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},t.prototype.registerOnTouched=function(e){this.onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e},t}(Vu(Ts(Xo(function(){return function(n){this._elementRef=n}}()),"accent"))),Gb=function(){return function(){}}(),kr=Pe({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}@media (-ms-high-contrast:active){.mat-slider-thumb-label{outline:solid 1px}}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function Er(n){return wt(2,[Me(402653184,1,{_sliderWrapper:0}),(n()(),P(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(n()(),P(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(n()(),P(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),D(4,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),(n()(),P(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),D(6,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),(n()(),P(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),D(8,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),(n()(),P(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),D(10,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),(n()(),P(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),D(12,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),(n()(),P(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(n()(),P(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(n()(),P(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(n()(),P(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(n()(),Gt(17,null,["",""]))],function(t,e){var i=e.component;t(e,4,0,i._trackBackgroundStyles),t(e,6,0,i._trackFillStyles),t(e,8,0,i._ticksContainerStyles),t(e,10,0,i._ticksStyles),t(e,12,0,i._thumbContainerStyles)},function(t,e){t(e,17,0,e.component.displayValue)})}var ef=function(){function n(t,e){this.config=t,this.exportTool=e,this.quality$=new cr(10*this.config.get("pixie.tools.export.defaultQuality")),this.exportForm=new _r({name:new ti(this.config.get("pixie.tools.export.defaultName")),format:new ti(this.config.get("pixie.tools.export.defaultFormat")),quality:new ti(this.config.get("pixie.tools.export.defaultQuality"))})}return n.prototype.ngOnInit=function(){var t=this;this.exportForm.get("format").valueChanges.subscribe(function(e){e!=="jpeg"?t.exportForm.get("quality").disable():t.exportForm.get("quality").enable()}),this.exportForm.get("quality").valueChanges.subscribe(function(e){t.quality$.next(10*e)})},n.prototype.export=function(){var t=this.exportForm.value;this.exportTool.export(t.name,t.format,t.quality)},n}(),FO=y("Iab2"),MO=y("RdDz");function nf(n){return n.charAt(0).toUpperCase()+n.slice(1)}var bo=function(){function n(t,e,i,r,o,s,f){this.canvas=t,this.cropzone=e,this.history=i,this.config=r,this.http=o,this.watermark=s,this.toast=f}return n.prototype.getDefault=function(t){return this.config.get("pixie.tools.export.default"+nf(t))},n.prototype.export=function(t,e,i){t||(t=this.getDefault("name")),e||(e=this.getDefault("format")),i||(i=this.getDefault("quality"));var r,o=t+"."+e;this.applyWaterMark(),r=e==="json"?this.getJsonState():this.getDataUrl(e,i),this.watermark.remove(),r&&(this.config.has("pixie.saveUrl")?this.http.post(this.config.get("pixie.saveUrl"),{data:r,filename:o,format:e}).subscribe(function(){},function(){}):this.config.has("pixie.onSave")?this.config.get("pixie.onSave")(r,o,e):this.getCanvasBlob(e,r).then(function(s){Object(FO.saveAs)(s,o)}))},n.prototype.getCanvasBlob=function(t,e){return new Promise(function(i){var r;if(t==="json")r=new Blob([e],{type:"application/json"});else{var o="image/"+t;e=e.replace(/data:image\/([a-z]*)?;base64,/,""),r=MO(e,o)}i(r)})},n.prototype.getDataUrl=function(t,e){t===void 0&&(t=this.getDefault("format")),e===void 0&&(e=this.getDefault("quality")),this.prepareCanvas();try{return this.canvas.fabric().toDataURL({format:t,quality:e,multiplier:this.canvas.state.original.width/this.canvas.fabric().getWidth()})}catch(i){if(i.message.toLowerCase().indexOf("tainted")===-1)return null;this.toast.open("Could not export canvas with external image.")}},n.prototype.getJsonState=function(){return JSON.stringify(this.history.getCurrentCanvasState())},n.prototype.prepareCanvas=function(){this.canvas.fabric().discardActiveObject(),this.canvas.pan.reset(),this.cropzone.remove()},n.prototype.applyWaterMark=function(){var t=this.config.get("pixie.watermarkText");t&&this.watermark.add(t)},n}(),LO=Pe({encapsulation:2,styles:[[".export-panel-dialog-container.be-modal{width:255px}.export-panel-dialog-container.be-modal .mat-dialog-container{padding:18px}export-panel{display:block}export-panel .name-input-container{margin-bottom:18px}export-panel .mat-radio-group{display:block;width:100%;margin-bottom:5px}export-panel .mat-radio-button~.mat-radio-button{margin-left:16px}export-panel .mat-slider{display:block;width:100%;margin:0 -6px}export-panel .slider-label{position:relative;bottom:-15px;pointer-events:none}export-panel .save-button{margin-top:15px;display:block;width:100%}"]],data:{}});function NO(n){return wt(2,[je(0,Jd,[te]),(n()(),P(1,0,null,null,50,"form",[["ngNativeValidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0,o=t.component;return e==="submit"&&(r=d(t,2).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,2).onReset()!==!1&&r),e==="ngSubmit"&&(r=o.export()!==!1&&r),r},null,null)),D(2,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),$t(2048,null,Xe,null,[Kn]),D(4,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(5,0,null,null,11,"div",[["class","input-container name-input-container"]],null,null,null,null,null)),(n()(),P(6,0,null,null,2,"label",[["for","name"],["trans",""]],null,null,null,null,null)),D(7,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["File Name"])),(n()(),P(9,0,null,null,7,"input",[["formControlName","name"],["id","name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,10)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,10).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,10)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,10)._compositionEnd(i.target.value)!==!1&&r),r},null,null)),D(10,16384,null,0,ci,[un,lt,[2,io]],null,null),D(11,16384,null,0,wr,[],{required:[0,"required"]},null),$t(1024,null,br,function(t){return[t]},[wr]),$t(1024,null,ve,function(t){return[t]},[ci]),D(14,671744,null,0,Ye,[[3,Xe],[6,br],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(16,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(17,0,null,null,17,"mat-radio-group",[["class","mat-radio-group"],["formControlName","format"],["required",""],["role","radiogroup"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),D(18,16384,null,0,wr,[],{required:[0,"required"]},null),$t(1024,null,br,function(t){return[t]},[wr]),D(20,1064960,null,1,dl,[ee],{required:[0,"required"]},null),Me(603979776,1,{_radios:1}),$t(1024,null,ve,function(t){return[t]},[dl]),D(23,671744,null,0,Ye,[[3,Xe],[6,br],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(25,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(26,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","jpeg"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,27)._inputElement.nativeElement.focus()!==!1&&r),r},tf,$d)),D(27,4440064,[[1,4]],0,Qd,[[2,dl],lt,ee,ne,Up,[2,ge]],{value:[0,"value"]},null),(n()(),Gt(-1,0,["JPEG"])),(n()(),P(29,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","png"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,30)._inputElement.nativeElement.focus()!==!1&&r),r},tf,$d)),D(30,4440064,[[1,4]],0,Qd,[[2,dl],lt,ee,ne,Up,[2,ge]],{value:[0,"value"]},null),(n()(),Gt(-1,0,["PNG"])),(n()(),P(32,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","json"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,33)._inputElement.nativeElement.focus()!==!1&&r),r},tf,$d)),D(33,4440064,[[1,4]],0,Qd,[[2,dl],lt,ee,ne,Up,[2,ge]],{value:[0,"value"]},null),(n()(),Gt(-1,0,["JSON"])),(n()(),P(35,0,null,null,12,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(36,0,null,null,3,"label",[["class","slider-label"],["for","quality"]],null,null,null,null,null)),(n()(),Gt(37,null,[""," (",")"])),Qn(38,1),je(131072,We,[ee]),(n()(),P(40,0,null,null,7,"mat-slider",[["class","mat-slider"],["formControlName","quality"],["id","quality"],["max","1"],["min","0.1"],["required",""],["role","slider"],["step","0.1"]],[[1,"required",0],[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,43)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,43)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,43)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,43)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,43)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,43)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,43)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,43)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,43)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(41,16384,null,0,wr,[],{required:[0,"required"]},null),$t(1024,null,br,function(t){return[t]},[wr]),D(43,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"],step:[2,"step"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(45,671744,null,0,Ye,[[3,Xe],[6,br],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(47,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(48,0,null,null,3,"button",[["class","save-button"],["color","accent"],["mat-raised-button",""],["trans",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,tn,$e)),D(49,4341760,null,0,ue,[lt,te,Bt],null,null),D(50,180224,null,0,Qe,[lt,he,ne,[2,ge]],{color:[0,"color"]},null),(n()(),Gt(-1,0,["Save"]))],function(t,e){t(e,2,0,e.component.exportForm),t(e,11,0,""),t(e,14,0,"name"),t(e,18,0,""),t(e,20,0,""),t(e,23,0,"format"),t(e,27,0,"jpeg"),t(e,30,0,"png"),t(e,33,0,"json"),t(e,41,0,""),t(e,43,0,"1","0.1","0.1"),t(e,45,0,"quality"),t(e,50,0,"accent")},function(t,e){var i=e.component;t(e,1,0,d(e,4).ngClassUntouched,d(e,4).ngClassTouched,d(e,4).ngClassPristine,d(e,4).ngClassDirty,d(e,4).ngClassValid,d(e,4).ngClassInvalid,d(e,4).ngClassPending),t(e,9,0,d(e,11).required?"":null,d(e,16).ngClassUntouched,d(e,16).ngClassTouched,d(e,16).ngClassPristine,d(e,16).ngClassDirty,d(e,16).ngClassValid,d(e,16).ngClassInvalid,d(e,16).ngClassPending),t(e,17,0,d(e,18).required?"":null,d(e,25).ngClassUntouched,d(e,25).ngClassTouched,d(e,25).ngClassPristine,d(e,25).ngClassDirty,d(e,25).ngClassValid,d(e,25).ngClassInvalid,d(e,25).ngClassPending),t(e,26,0,d(e,27).checked,d(e,27).disabled,d(e,27)._animationMode==="NoopAnimations",-1,d(e,27).id),t(e,29,0,d(e,30).checked,d(e,30).disabled,d(e,30)._animationMode==="NoopAnimations",-1,d(e,30).id),t(e,32,0,d(e,33).checked,d(e,33).disabled,d(e,33)._animationMode==="NoopAnimations",-1,d(e,33).id);var r=fe(e,37,0,t(e,38,0,d(e,0),"Quality"));t(e,37,0,r,fe(e,37,1,d(e,39).transform(i.quality$))),t(e,40,1,[d(e,41).required?"":null,d(e,43).tabIndex,d(e,43).disabled,d(e,43).max,d(e,43).min,d(e,43).value,d(e,43).vertical?"vertical":"horizontal",d(e,43).disabled,d(e,43).tickInterval,!d(e,43).vertical,d(e,43)._invertAxis,d(e,43)._isSliding,d(e,43).thumbLabel,d(e,43).vertical,d(e,43)._isMinValue,d(e,43).disabled||d(e,43)._isMinValue&&d(e,43)._thumbGap&&d(e,43)._invertAxis,d(e,43)._animationMode==="NoopAnimations",d(e,47).ngClassUntouched,d(e,47).ngClassTouched,d(e,47).ngClassPristine,d(e,47).ngClassDirty,d(e,47).ngClassValid,d(e,47).ngClassInvalid,d(e,47).ngClassPending]),t(e,48,0,d(e,50).disabled||null,d(e,50)._animationMode==="NoopAnimations")})}function BO(n){return wt(0,[(n()(),P(0,0,null,null,1,"export-panel",[],null,null,null,NO,LO)),D(1,114688,null,0,ef,[Bt,bo],null,null)],function(t,e){t(e,1,0)},null)}var VO=$i("export-panel",ef,BO,{},{},[]),rf=new de("MAT_MENU_PANEL"),qb=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s._elementRef=e,s._focusMonitor=r,s._parentMenu=o,s.role="menuitem",s._hovered=new x,s._highlighted=!1,s._triggersSubmenu=!1,r&&r.monitor(s._elementRef,!1),o&&o.addItem&&o.addItem(s),s._document=i,s}return k(t,n),t.prototype.focus=function(e){e===void 0&&(e="program"),this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e):this._getHostElement().focus()},t.prototype.ngOnDestroy=function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()},t.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},t.prototype._getHostElement=function(){return this._elementRef.nativeElement},t.prototype._checkDisabled=function(e){this.disabled&&(e.preventDefault(),e.stopPropagation())},t.prototype._handleMouseEnter=function(){this._hovered.next(this)},t.prototype.getLabel=function(){var e=this._elementRef.nativeElement,i=this._document?this._document.TEXT_NODE:3,r="";if(e.childNodes)for(var o=e.childNodes.length,s=0;s<o;s++)e.childNodes[s].nodeType===i&&(r+=e.childNodes[s].textContent);return r.trim()},t}(Is(Xo(function(){return function(){}}()))),zO=new de("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Zo=function(){function n(t,e,i){this._elementRef=t,this._ngZone=e,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._items=[],this._itemChanges=new x,this._tabSubscription=et.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new x,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new le,this.close=this.closed}return Object.defineProperty(n.prototype,"xPosition",{get:function(){return this._xPosition},set:function(t){t!=="before"&&t!=="after"&&function(){throw Error(`xPosition value must be either 'before' or after'.
      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>`)}(),this._xPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yPosition",{get:function(){return this._yPosition},set:function(t){t!=="above"&&t!=="below"&&function(){throw Error(`yPosition value must be either 'above' or below'.
      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>`)}(),this._yPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlapTrigger",{get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"panelClass",{set:function(t){t&&t.length&&(this._classList=t.split(" ").reduce(function(e,i){return e[i]=!0,e},{}),this._elementRef.nativeElement.className="")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classList",{get:function(){return this.panelClass},set:function(t){this.panelClass=t},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.setPositionClasses()},n.prototype.ngAfterContentInit=function(){var t=this;this._keyManager=new R2(this._items).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(function(){return t.closed.emit("tab")})},n.prototype.ngOnDestroy=function(){this._tabSubscription.unsubscribe(),this.closed.complete()},n.prototype._hovered=function(){return this._itemChanges.pipe(ho(this._items),ku(function(t){return ht.apply(void 0,t.map(function(e){return e._hovered}))}))},n.prototype._handleKeydown=function(t){var e=t.keyCode;switch(e){case Ya:this.closed.emit("keydown");break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:e!==38&&e!==40||this._keyManager.setFocusOrigin("keyboard"),this._keyManager.onKeydown(t)}},n.prototype.focusFirstItem=function(t){var e=this;t===void 0&&(t="program"),this.lazyContent?this._ngZone.onStable.asObservable().pipe(Xn(1)).subscribe(function(){return e._keyManager.setFocusOrigin(t).setFirstItemActive()}):this._keyManager.setFocusOrigin(t).setFirstItemActive()},n.prototype.resetActiveItem=function(){this._keyManager.setActiveItem(-1)},n.prototype.setElevation=function(t){var e="mat-elevation-z"+(4+t),i=Object.keys(this._classList).find(function(r){return r.startsWith("mat-elevation-z")});i&&i!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)},n.prototype.addItem=function(t){this._items.indexOf(t)===-1&&(this._items.push(t),this._itemChanges.next(this._items))},n.prototype.removeItem=function(t){var e=this._items.indexOf(t);this._items.indexOf(t)>-1&&(this._items.splice(e,1),this._itemChanges.next(this._items))},n.prototype.setPositionClasses=function(t,e){t===void 0&&(t=this.xPosition),e===void 0&&(e=this.yPosition);var i=this._classList;i["mat-menu-before"]=t==="before",i["mat-menu-after"]=t==="after",i["mat-menu-above"]=e==="above",i["mat-menu-below"]=e==="below"},n.prototype._startAnimation=function(){this._panelAnimationState="enter"},n.prototype._resetAnimation=function(){this._panelAnimationState="void"},n.prototype._onAnimationDone=function(t){this._animationDone.next(t),this._isAnimating=!1},n.prototype._onAnimationStart=function(t){this._isAnimating=!0,t.toState==="enter"&&this._keyManager.activeItemIndex===0&&(t.element.scrollTop=0)},n}(),of=new de("mat-menu-scroll-strategy");function HO(n){return function(){return n.scrollStrategies.reposition()}}var Kb=Ss({passive:!0}),Zb=function(){function n(t,e,i,r,o,s,f,_){var S=this;this._overlay=t,this._element=e,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=s,this._dir=f,this._focusMonitor=_,this._overlayRef=null,this._menuOpen=!1,this._closeSubscription=et.EMPTY,this._hoverSubscription=et.EMPTY,this._menuCloseSubscription=et.EMPTY,this._handleTouchStart=function(){return S._openedBy="touch"},this._openedBy=null,this.menuOpened=new le,this.onMenuOpen=this.menuOpened,this.menuClosed=new le,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,Kb),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}return Object.defineProperty(n.prototype,"_deprecatedMatMenuTriggerFor",{get:function(){return this.menu},set:function(t){this.menu=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(function(i){e._destroyMenu(),i!=="click"&&i!=="tab"||!e._parentMenu||e._parentMenu.closed.emit(i)})))},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){this._checkMenu(),this._handleHover()},n.prototype.ngOnDestroy=function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Kb),this._cleanUpSubscriptions()},Object.defineProperty(n.prototype,"menuOpen",{get:function(){return this._menuOpen},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dir",{get:function(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"},enumerable:!0,configurable:!0}),n.prototype.triggersSubmenu=function(){return!(!this._menuItemInstance||!this._parentMenu)},n.prototype.toggleMenu=function(){return this._menuOpen?this.closeMenu():this.openMenu()},n.prototype.openMenu=function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=this.menu.hasBackdrop==null?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closeSubscription=this._menuClosingActions().subscribe(function(){return t.closeMenu()}),this._initMenu(),this.menu instanceof Zo&&this.menu._startAnimation()}},n.prototype.closeMenu=function(){this.menu.close.emit()},n.prototype.focus=function(t){t===void 0&&(t="program"),this._focusMonitor?this._focusMonitor.focusVia(this._element,t):this._element.nativeElement.focus()},n.prototype._destroyMenu=function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closeSubscription.unsubscribe(),this._overlayRef.detach(),e instanceof Zo?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Hn(function(i){return i.toState==="void"}),Xn(1),Zn(e.lazyContent._attached)).subscribe(function(){return e.lazyContent.detach()},void 0,function(){t._resetMenu()}):this._resetMenu()):(this._resetMenu(),e.lazyContent&&e.lazyContent.detach())}},n.prototype._initMenu=function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")},n.prototype._setMenuElevation=function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}},n.prototype._resetMenu=function(){this._setIsMenuOpen(!1),this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus(),this._openedBy=null},n.prototype._setIsMenuOpen=function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)},n.prototype._checkMenu=function(){this.menu||function(){throw Error(`matMenuTriggerFor: must pass in an mat-menu instance.

    Example:
      <mat-menu #menu="matMenu"></mat-menu>
      <button [matMenuTriggerFor]="menu"></button>`)}()},n.prototype._createOverlay=function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef},n.prototype._getOverlayConfig=function(){return new qa({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})},n.prototype._subscribeToPositions=function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe(function(i){e.menu.setPositionClasses(i.connectionPair.overlayX==="start"?"after":"before",i.connectionPair.overlayY==="top"?"below":"above")})},n.prototype._setPosition=function(t){var e=this.menu.xPosition==="before"?["end","start"]:["start","end"],i=e[0],r=e[1],o=this.menu.yPosition==="above"?["bottom","top"]:["top","bottom"],s=o[0],f=o[1],_=[s,f],S=_[0],T=_[1],F=[i,r],U=F[0],J=F[1],ct=0;this.triggersSubmenu()?(J=i=this.menu.xPosition==="before"?"start":"end",r=U=i==="end"?"start":"end",ct=s==="bottom"?8:-8):this.menu.overlapTrigger||(S=s==="top"?"bottom":"top",T=f==="top"?"bottom":"top"),t.withPositions([{originX:i,originY:S,overlayX:U,overlayY:s,offsetY:ct},{originX:r,originY:S,overlayX:J,overlayY:s,offsetY:ct},{originX:i,originY:T,overlayX:U,overlayY:f,offsetY:-ct},{originX:r,originY:T,overlayX:J,overlayY:f,offsetY:-ct}])},n.prototype._cleanUpSubscriptions=function(){this._closeSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()},n.prototype._menuClosingActions=function(){var t=this,e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return ht(e,this._parentMenu?this._parentMenu.closed:$n(),this._parentMenu?this._parentMenu._hovered().pipe(Hn(function(r){return r!==t._menuItemInstance}),Hn(function(){return t._menuOpen})):$n(),i)},n.prototype._handleMousedown=function(t){Ry(t)||(this._openedBy=t.button===0?"mouse":null,this.triggersSubmenu()&&t.preventDefault())},n.prototype._handleKeydown=function(t){var e=t.keyCode;this.triggersSubmenu()&&(e===39&&this.dir==="ltr"||e===37&&this.dir==="rtl")&&this.openMenu()},n.prototype._handleClick=function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()},n.prototype._handleHover=function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Hn(function(e){return e===t._menuItemInstance&&!e.disabled}),Fu(0,Vp)).subscribe(function(){t._openedBy="mouse",t.menu instanceof Zo&&t.menu._isAnimating?t.menu._animationDone.pipe(Xn(1),Fu(0,Vp),Zn(t._parentMenu._hovered())).subscribe(function(){return t.openMenu()}):t.openMenu()}))},n.prototype._getPortal=function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Wa(this.menu.templateRef,this._viewContainerRef)),this._portal},n}(),Jb=function(){return function(){}}(),UO=Pe({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:3,steps:[{type:11,selector:".mat-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"100ms linear"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function WO(n){return wt(0,[(n()(),P(0,0,null,null,3,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],function(t,e,i){var r=!0,o=t.component;return e==="keydown"&&(r=o._handleKeydown(i)!==!1&&r),e==="click"&&(r=o.closed.emit("click")!==!1&&r),e==="@transformMenu.start"&&(r=o._onAnimationStart(i)!==!1&&r),e==="@transformMenu.done"&&(r=o._onAnimationDone(i)!==!1&&r),r},null,null)),D(1,278528,null,0,$l,[An,Pi,lt,un],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),P(2,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),Gn(null,0)],function(t,e){t(e,1,0,"mat-menu-panel",e.component._classList)},function(t,e){t(e,0,0,e.component._panelAnimationState)})}function XO(n){return wt(2,[Me(402653184,1,{templateRef:0}),(n()(),Rt(0,[[1,2]],null,0,null,WO))],null,null)}var Qb=Pe({encapsulation:2,styles:[],data:{}});function $b(n){return wt(2,[Gn(null,0),(n()(),P(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(2,212992,null,0,Ps,[lt,xe,he,[2,As],[2,ge]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var i=e.component;t(e,2,0,i.disableRipple||i.disabled,i._getHostElement())},function(t,e){t(e,1,0,d(e,2).unbounded)})}function t_(n){return n.replace(/([A-Z])/g," $1")}var YO=function(){function n(t,e,i,r,o,s,f,_,S,T,F){var U=this;this.history=t,this.config=e,this.zoom=i,this.panels=r,this.breakpoints=o,this.importTool=s,this.exportTool=f,this.filterTool=_,this.canvas=S,this.floatingPanels=T,this.store=F,this.compactMode=new cr(!1),this.locale="default",this.config.onChange.subscribe(function(){U.locale=U.config.get("pixie.languages.active","default")})}return n.prototype.ngAfterViewInit=function(){var t=this;this.canvas.state.loaded.pipe(Fu(0)).subscribe(function(){t.floatingPanels.openSampleImagePanel()}),this.breakpoints.observe("(max-width: 768px)").subscribe(function(e){return t.compactMode.next(e.matches)})},n.prototype.zoomIn=function(){this.zoom.set(this.zoom.get()+.05)},n.prototype.zoomOut=function(){this.zoom.set(this.zoom.get()-.05)},n.prototype.exportImage=function(){this.config.get("pixie.ui.showExportPanel")?this.panels.openExportPanel():this.exportTool.export(),this.filterTool.resetStateFilters()},n.prototype.openBackgroundImage=function(){var t=this;this.importTool.openUploadDialog({type:"image",backgroundImage:!0}).then(function(){t.history.add(si.BG_IMAGE)})},n.prototype.openOverlayImage=function(){var t=this;this.importTool.openUploadDialog().then(function(e){e&&(t.canvas.fabric().setActiveObject(e),t.history.add(si.OVERLAY_IMAGE))})},n.prototype.openStateFile=function(){return this.importTool.openUploadDialog({type:"state"})},n.prototype.executeOpenButtonAction=function(){var t=this.config.get("pixie.ui.toolbar.openButtonAction");t?t():this.matMenuTrigger.toggleMenu()},n.prototype.applyChanges=function(){var t=this.store.selectSnapshot(gn.activePanel);this.store.dispatch(new Jl(t))},n.prototype.cancelChanges=function(){var t=this.store.selectSnapshot(gn.activePanel);this.store.dispatch(new Wh(t))},n.prototype.closeEditor=function(){this.store.dispatch(new Ca)},n.prototype.getToolDisplayName=function(t){return t_(t)},A([_n(gn.mode),E("design:type",c)],n.prototype,"mode$",void 0),A([_n(gn.zoom),E("design:type",c)],n.prototype,"zoom$",void 0),A([_n(gn.activePanel),E("design:type",c)],n.prototype,"activePanel$",void 0),A([_n(pi.canUndo),E("design:type",c)],n.prototype,"canUndo$",void 0),A([_n(pi.canRedo),E("design:type",c)],n.prototype,"canRedo$",void 0),n}(),uc=function(){function n(t,e,i,r){this.state=t,this.pan=e,this.config=i,this.store=r,this.maxScale=2,this.minScale=.1,this.currentZoom=1}return n.prototype.get=function(){return this.currentZoom},n.prototype.getPercent=function(){return Math.floor(100*this.currentZoom)},n.prototype.set=function(t,e){if(e===void 0&&(e=!0),!(t<this.minScale||t>this.maxScale)){var i=this.state.original.width*t,r=this.state.original.height*t;this.state.fabric.setZoom(t),e&&(this.state.fabric.setHeight(r),this.state.fabric.setWidth(i)),this.currentZoom=t,this.store.dispatch(new Yh(this.getPercent()))}},n.prototype.fitToScreen=function(){var t=this.state.calcWrapperSize(),e=t.width-40,i=t.height-40;if(this.state.original.height>i||this.state.original.width>e){var r=Math.min(i/this.state.original.height,e/this.state.original.width);this.set(r)}},n.prototype.init=function(){this.config.get("pixie.ui.allowZoom")&&(this.bindMouseWheel(),this.bindToPinchZoom())},n.prototype.bindMouseWheel=function(){var t=this;this.state.fabric.on("mouse:wheel",function(e){e.e.preventDefault(),e.e.stopPropagation(),t.set(e.e.deltaY<0?t.currentZoom+.05:t.currentZoom-.05),t.pan.set(),t.state.fabric.requestRenderAll()})},n.prototype.bindToPinchZoom=function(){var t=this,e=new Hammer.Manager(this.state.maskWrapperEl),i=new Hammer.Pinch;e.add([i]),e.on("pinch",function(r){var o=Math.abs(r.overallVelocity);t.set(r.additionalEvent==="pinchout"?t.get()+o:t.get()-o),t.pan.set(),t.state.fabric.requestRenderAll()})},n}(),fl=function(){function n(t,e,i,r,o){this.overlayPanel=t,this.state=e,this.openSampleImageDialog=i,this.breakpoints=r,this.dialog=o}return n.prototype.openSampleImagePanel=function(){this.openSampleImageDialog.open()},n.prototype.openExportPanel=function(){this.dialog.open(ef,null,{panelClass:"export-panel-dialog-container"})},n.prototype.toggleHistory=function(){this.closePanel("objects"),this.panelIsOpen("history")?this.historyPanelRef.close():this.openHistoryPanel()},n.prototype.toggleObjects=function(){this.closePanel("history"),this.panelIsOpen("objects")?this.objectsPanelRef.close():this.openObjectsPanel()},n.prototype.openHistoryPanel=function(){this.historyPanelRef=this.overlayPanel.open(Xd,this.getPanelConfig())},n.prototype.openObjectsPanel=function(){this.objectsPanelRef=this.overlayPanel.open(Zd,this.getPanelConfig())},n.prototype.closePanel=function(t){switch(t){case"history":this.historyPanelRef&&this.historyPanelRef.close();break;case"objects":this.objectsPanelRef&&this.objectsPanelRef.close()}},n.prototype.panelIsOpen=function(t){var e=t==="history"?this.historyPanelRef:this.objectsPanelRef;return e&&e.isOpen()},n.prototype.getPanelConfig=function(){return{hasBackdrop:!1,positionStrategy:this.getPositionStrategy(),panelClass:"floating-panel"}},n.prototype.getPositionStrategy=function(){return this.breakpoints.isMobile$.value?this.overlayPanel.overlay.position().flexibleConnectedTo(new lt(this.state.wrapperEl)).withPositions([{overlayX:"center",overlayY:"center",originX:"center",originY:"center"}]):this.overlayPanel.overlay.position().flexibleConnectedTo(new lt(this.state.wrapperEl)).withPositions([{overlayX:"end",overlayY:"bottom",originX:"end",originY:"bottom",offsetY:-10,offsetX:-10}])},n}(),e_=[{name:"grayscale"},{name:"blackWhite"},{name:"sharpen",uses:"Convolute",matrix:[0,-1,0,-1,5,-1,0,-1,0]},{name:"invert"},{name:"vintage"},{name:"polaroid"},{name:"kodachrome"},{name:"technicolor"},{name:"brownie"},{name:"sepia"},{name:"removeColor",options:{distance:{type:"slider",current:.1,min:0,max:1,step:.01},color:{current:"#fff",type:"colorPicker"}}},{name:"brightness",options:{brightness:{type:"slider",current:.1,min:-1,max:1,step:.1}}},{name:"gamma",options:{red:{type:"slider",current:.1,min:.2,max:2.2,step:.003921},green:{type:"slider",current:.1,min:.2,max:2.2,step:.003921},blue:{type:"slider",current:.1,min:.2,max:2.2,step:.003921}},apply:function(n,t,e){n.gamma=[n.red,n.green,n.blue]}},{name:"noise",options:{noise:{type:"slider",current:40,max:600}}},{name:"pixelate",options:{blocksize:{type:"slider",min:1,max:40,current:6}}},{name:"blur",uses:"Convolute",matrix:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]},{name:"emboss",uses:"Convolute",matrix:[1,1,1,1,.7,-1,-1,-1,-1]},{name:"blendColor",options:{mode:{current:"add",type:"select",available:["add","multiply","subtract","diff","screen","lighten","darken"]},alpha:{type:"slider",current:.5,min:.1,max:1,step:.1},color:{type:"colorPicker",current:"#FF4081"}}}],Jo=function(){function n(t,e,i,r){this.canvas=t,this.store=e,this.actions$=i,this.config=r,this.filtersList=e_,this.configFilters=this.config.get("pixie.tools.filter.items"),this.syncWithHistory()}return n.prototype.resetAll=function(){var t=this;this.configFilters.forEach(function(e){var i=t.getByName(e);t.store.dispatch(new wu(i.name))})},n.prototype.selectAll=function(){var t=this;this.configFilters.forEach(function(e){var i=t.getByName(e);t.store.dispatch(new _u(i.name))})},n.prototype.resetStateFilters=function(){var t=this.config.get("pixie.tools.filter.resetFilters");t===null||t||this.config.set("pixie.tools.filter.resetFilters",!0)},n.prototype.apply=function(t){var e=this.getByName(t);if(this.applied(e.name))return this.remove(e.name);this.store.dispatch(new _u(e.name));var i=this.create(e);this.getImages().forEach(function(r){r.filters.push(i),r.applyFilters()}),this.canvas.render()},n.prototype.remove=function(t){var e=this;this.canvas.state.loading=!0;var i=this.getByName(t);this.store.dispatch(new wu(i.name)),this.getImages().forEach(function(r){var o=e.findFilterIndex(i.name,r.filters);r.filters.splice(o,1),r.applyFilters()}),this.canvas.render(),this.canvas.state.loading=!1},n.prototype.getAll=function(){return this.filtersList},n.prototype.getByName=function(t){return this.filtersList.find(function(e){return e.name===t})},n.prototype.applied=function(t){var e=this.canvas.getMainImage();if(e)return this.findFilterIndex(t,e.filters)>-1},n.prototype.hasOptions=function(t){return!!this.getByName(t).options},n.prototype.findFilterIndex=function(t,e){var i=this;if(e.length){var r=this.getByName(t);return e.findIndex(function(o){var s=o.type.toLowerCase();return s===t.toLowerCase()||s==="convolute"&&i.matrixAreEqual(r.matrix,o.matrix)})}},n.prototype.matrixAreEqual=function(t,e){if(!t||!e||t.length!==e.length)return!1;for(var i=t.length;i--;)if(t[i]!==e[i])return!1;return!0},n.prototype.applyValue=function(t,e,i){this.canvas.state.loading=!0,this.getImages().forEach(function(r){var o=r.filters.find(function(s){return s.type.toLowerCase()===t.name.toLowerCase()});o[e]=i,t.apply&&t.apply(o,e,i),r.applyFilters()}),this.canvas.render()},n.prototype.create=function(t){var e;if(t.uses)e=new De.fabric.Image.filters[nf(t.uses)]({matrix:t.matrix});else{var i={};for(var r in t.options)i[r]=t.options[r].current;e=new De.fabric.Image.filters[nf(t.name)](i)}return e},n.prototype.addCustom=function(t,e,i){De.fabric.Image.filters[t]=De.fabric.util.createClass(De.fabric.Image.filters.BaseFilter,e),De.fabric.Image.filters[t].fromObject=De.fabric.Image.filters.BaseFilter.fromObject,e_.push({name:t,options:i})},n.prototype.getImages=function(){return this.canvas.fabric().getObjects(oi.image.name)},n.prototype.syncWithHistory=function(){var t=this;this.actions$.pipe(Ra(ey)).subscribe(function(){var e=t.getAll().filter(function(i){return t.applied(i.name)}).map(function(i){return i.name});t.store.dispatch(new Np(e))})},n}(),GO=Pe({encapsulation:2,styles:[["toolbar{display:flex;align-items:center;height:50px;padding:0 20px;color:#fff;background-color:#1976d2;position:relative;z-index:3;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}toolbar .mobile-open-button,toolbar .open-button{position:relative}toolbar .mat-menu-trigger{display:block;position:absolute;left:-1px;bottom:-1px}toolbar>.center{display:flex;align-items:center;justify-content:center;width:140px;text-transform:capitalize}toolbar>.center .current{margin:0 8px}toolbar>.center .value{text-align:center}toolbar>.left{margin-right:auto}toolbar>.right{margin-left:auto}toolbar>.right .toggle-history-button{margin-left:40px}toolbar .drawer-name{font-size:15px}toolbar .status-bar{height:30px;background-color:#1565c0;text-align:center;line-height:30px}toolbar .close-button{margin-left:25px}toolbar .open-button mat-icon{margin-right:5px}toolbar .export-button mat-icon{margin-right:2px}toolbar .invisible{visibility:hidden;pointer-events:none}"]],data:{}});function qO(n){return wt(0,[(n()(),P(0,0,null,null,5,"button",[["class","mobile-open-button"],["mat-icon-button",""]],[[2,"invisible",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.executeOpenButtonAction()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(2,16777216,null,0,1,"span",[["aria-haspopup","true"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(t,e,i){var r=!0;return e==="mousedown"&&(r=d(t,3)._handleMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,3)._handleKeydown(i)!==!1&&r),e==="click"&&(r=d(t,3)._handleClick(i)!==!1&&r),r},null,null)),D(3,1196032,[[1,4]],0,Zb,[On,lt,jt,of,[2,Zo],[8,null],[2,pn],ne],{menu:[0,"menu"]},null),(n()(),P(4,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","photo-library"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(5,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,3,0,d(e.parent.parent.parent,7)),t(e,5,0,"photo-library")},function(t,e){t(e,0,0,e.component.config.get("pixie.ui.toolbar.hideOpenButton"),d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,2,0,d(e,3).menuOpen||null),t(e,4,0,d(e,5).inline,d(e,5).color!=="primary"&&d(e,5).color!=="accent"&&d(e,5).color!=="warn")})}function KO(n){return wt(0,[(n()(),P(0,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.cancelChanges()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(2,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","close"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(3,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,3,0,"close")},function(t,e){t(e,0,0,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,2,0,d(e,3).inline,d(e,3).color!=="primary"&&d(e,3).color!=="accent"&&d(e,3).color!=="warn")})}function ZO(n){return wt(0,[(n()(),P(0,0,null,null,2,"span",[["trans",""]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.getToolDisplayName(e.parent.context.ngIf))})}function JO(n){return wt(0,[(n()(),P(0,0,null,null,2,"span",[["trans",""],["translate-key","Editor"]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Editor"]))],null,null)}function QO(n){return wt(0,[(n()(),P(0,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.applyChanges()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(2,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","check"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(3,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,3,0,"check")},function(t,e){t(e,0,0,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,2,0,d(e,3).inline,d(e,3).color!=="primary"&&d(e,3).color!=="accent"&&d(e,3).color!=="warn")})}function $O(n){return wt(0,[(n()(),P(0,0,null,null,3,"button",[["mat-icon-button",""]],[[2,"invisible",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.exportImage()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(2,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","file-download"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(3,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,3,0,"file-download")},function(t,e){t(e,0,0,e.component.config.get("pixie.ui.toolbar.hideSaveButton"),d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,2,0,d(e,3).inline,d(e,3).color!=="primary"&&d(e,3).color!=="accent"&&d(e,3).color!=="warn")})}function tT(n){return wt(0,[(n()(),P(0,0,null,null,15,null,null,null,null,null,null,null)),(n()(),P(1,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,qO)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,KO)),D(5,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(6,0,null,null,4,"div",[["class","center drawer-name"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,ZO)),D(8,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,JO)),D(10,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(11,0,null,null,4,"div",[["class","right"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,QO)),D(13,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,$O)),D(15,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.context.ngIf==="navigation"),t(e,5,0,e.context.ngIf!=="navigation"),t(e,8,0,e.context.ngIf!=="navigation"),t(e,10,0,e.context.ngIf==="navigation"),t(e,13,0,e.context.ngIf!=="navigation"),t(e,15,0,e.context.ngIf==="navigation")},null)}function eT(n){return wt(0,[(n()(),P(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,tT)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,2,0,fe(e,2,0,d(e,3).transform(i.activePanel$)))},null)}function nT(n){return wt(0,[(n()(),P(0,0,null,null,15,"div",[["class","center"]],null,null,null,null,null)),(n()(),P(1,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.zoomOut()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(3,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","remove"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(4,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(5,0,null,null,6,"div",[["class","current"]],null,null,null,null,null)),(n()(),P(6,0,null,null,2,"div",[["trans",""],["translate-key","Zoom"]],null,null,null,null,null)),D(7,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Zoom"])),(n()(),P(9,0,null,null,2,"div",[["class","value"]],null,null,null,null,null)),(n()(),Gt(10,null,["","%"])),je(131072,We,[ee]),(n()(),P(12,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.zoomIn()!==!1&&r),r},tn,$e)),D(13,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(14,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","add"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(15,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,4,0,"remove"),t(e,15,0,"add")},function(t,e){var i=e.component;t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,3,0,d(e,4).inline,d(e,4).color!=="primary"&&d(e,4).color!=="accent"&&d(e,4).color!=="warn"),t(e,10,0,fe(e,10,0,d(e,11).transform(i.zoom$))),t(e,12,0,d(e,13).disabled||null,d(e,13)._animationMode==="NoopAnimations"),t(e,14,0,d(e,15).inline,d(e,15).color!=="primary"&&d(e,15).color!=="accent"&&d(e,15).color!=="warn")})}function iT(n){return wt(0,[(n()(),P(0,16777216,null,null,6,"button",[["class","close-button"],["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,2).show()!==!1&&r),e==="keydown"&&(r=d(t,2)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,2)._handleTouchend()!==!1&&r),e==="click"&&(r=o.closeEditor()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(2,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(3,2),Qn(4,2),(n()(),P(5,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","close"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(6,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component,r=fe(e,2,0,t(e,3,0,d(e.parent.parent,0),"Close",i.locale));t(e,2,0,r),t(e,6,0,"close")},function(t,e){var i=e.component,r=fe(e,0,0,t(e,4,0,d(e.parent.parent,0),"Close",i.locale));t(e,0,0,r,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,5,0,d(e,6).inline,d(e,6).color!=="primary"&&d(e,6).color!=="accent"&&d(e,6).color!=="warn")})}function rT(n){return wt(0,[(n()(),P(0,0,null,null,18,"div",[["class","left"]],null,null,null,null,null)),(n()(),P(1,0,null,null,9,"button",[["class","open-button"],["mat-button",""]],[[2,"invisible",null],[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.executeOpenButtonAction()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),Qn(3,2),(n()(),P(4,16777216,null,0,1,"span",[["aria-haspopup","true"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(t,e,i){var r=!0;return e==="mousedown"&&(r=d(t,5)._handleMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,5)._handleKeydown(i)!==!1&&r),e==="click"&&(r=d(t,5)._handleClick(i)!==!1&&r),r},null,null)),D(5,1196032,[[1,4]],0,Zb,[On,lt,jt,of,[2,Zo],[8,null],[2,pn],ne],{menu:[0,"menu"]},null),(n()(),P(6,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","photo-library"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(8,0,null,0,2,"span",[["class","name"],["trans",""],["translate-key","Open"]],null,null,null,null,null)),D(9,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Open"])),(n()(),P(11,0,null,null,7,"button",[["class","export-button"],["mat-button",""]],[[2,"invisible",null],[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.exportImage()!==!1&&r),r},tn,$e)),D(12,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),Qn(13,2),(n()(),P(14,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","file-download"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(15,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(16,0,null,0,2,"span",[["class","name"],["trans",""],["translate-key","Save"]],null,null,null,null,null)),D(17,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Save"])),(n()(),Rt(16777216,null,null,1,null,nT)),D(20,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(21,0,null,null,33,"div",[["class","right"]],null,null,null,null,null)),(n()(),P(22,16777216,null,null,7,"button",[["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,25).show()!==!1&&r),e==="keydown"&&(r=d(t,25)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,25)._handleTouchend()!==!1&&r),e==="click"&&(r=o.history.undo()!==!1&&r),r},tn,$e)),D(23,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),je(131072,We,[ee]),D(25,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(26,2),Qn(27,2),(n()(),P(28,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","undo"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(29,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(30,16777216,null,null,7,"button",[["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,33).show()!==!1&&r),e==="keydown"&&(r=d(t,33)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,33)._handleTouchend()!==!1&&r),e==="click"&&(r=o.history.redo()!==!1&&r),r},tn,$e)),D(31,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),je(131072,We,[ee]),D(33,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(34,2),Qn(35,2),(n()(),P(36,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","redo"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(37,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(38,16777216,null,null,6,"button",[["class","toggle-history-button"],["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,40).show()!==!1&&r),e==="keydown"&&(r=d(t,40)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,40)._handleTouchend()!==!1&&r),e==="click"&&(r=o.panels.toggleHistory()!==!1&&r),r},tn,$e)),D(39,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(40,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(41,2),Qn(42,2),(n()(),P(43,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","history"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(44,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(45,16777216,null,null,6,"button",[["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,47).show()!==!1&&r),e==="keydown"&&(r=d(t,47)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,47)._handleTouchend()!==!1&&r),e==="click"&&(r=o.panels.toggleObjects()!==!1&&r),r},tn,$e)),D(46,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(47,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(48,2),Qn(49,2),(n()(),P(50,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","layers"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(51,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(16777216,null,null,2,null,iT)),D(53,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,5,0,d(e.parent,7)),t(e,7,0,"photo-library"),t(e,15,0,"file-download"),t(e,20,0,i.config.get("pixie.ui.allowZoom")),t(e,23,0,!fe(e,23,0,d(e,24).transform(i.canUndo$)));var r=fe(e,25,0,t(e,26,0,d(e.parent,0),"Undo",i.locale));t(e,25,0,r),t(e,29,0,"undo"),t(e,31,0,!fe(e,31,0,d(e,32).transform(i.canRedo$)));var o=fe(e,33,0,t(e,34,0,d(e.parent,0),"Redo",i.locale));t(e,33,0,o),t(e,37,0,"redo");var s=fe(e,40,0,t(e,41,0,d(e.parent,0),"History",i.locale));t(e,40,0,s),t(e,44,0,"history");var f=fe(e,47,0,t(e,48,0,d(e.parent,0),"Objects",i.locale));t(e,47,0,f),t(e,51,0,"layers"),t(e,53,0,fe(e,53,0,d(e,54).transform(i.mode$))==="overlay"&&!i.config.get("pixie.ui.toolbar.hideCloseButton"))},function(t,e){var i=e.component,r=i.config.get("pixie.ui.toolbar.hideOpenButton"),o=fe(e,1,1,t(e,3,0,d(e.parent,0),"Open",i.locale));t(e,1,0,r,o,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,4,0,d(e,5).menuOpen||null),t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn");var s=i.config.get("pixie.ui.toolbar.hideSaveButton"),f=fe(e,11,1,t(e,13,0,d(e.parent,0),"Save",i.locale));t(e,11,0,s,f,d(e,12).disabled||null,d(e,12)._animationMode==="NoopAnimations"),t(e,14,0,d(e,15).inline,d(e,15).color!=="primary"&&d(e,15).color!=="accent"&&d(e,15).color!=="warn");var _=fe(e,22,0,t(e,27,0,d(e.parent,0),"Undo",i.locale));t(e,22,0,_,d(e,23).disabled||null,d(e,23)._animationMode==="NoopAnimations"),t(e,28,0,d(e,29).inline,d(e,29).color!=="primary"&&d(e,29).color!=="accent"&&d(e,29).color!=="warn");var S=fe(e,30,0,t(e,35,0,d(e.parent,0),"Redo",i.locale));t(e,30,0,S,d(e,31).disabled||null,d(e,31)._animationMode==="NoopAnimations"),t(e,36,0,d(e,37).inline,d(e,37).color!=="primary"&&d(e,37).color!=="accent"&&d(e,37).color!=="warn");var T=fe(e,38,0,t(e,42,0,d(e.parent,0),"History",i.locale));t(e,38,0,T,d(e,39).disabled||null,d(e,39)._animationMode==="NoopAnimations"),t(e,43,0,d(e,44).inline,d(e,44).color!=="primary"&&d(e,44).color!=="accent"&&d(e,44).color!=="warn");var F=fe(e,45,0,t(e,49,0,d(e.parent,0),"Objects",i.locale));t(e,45,0,F,d(e,46).disabled||null,d(e,46)._animationMode==="NoopAnimations"),t(e,50,0,d(e,51).inline,d(e,51).color!=="primary"&&d(e,51).color!=="accent"&&d(e,51).color!=="warn")})}function oT(n){return wt(2,[je(0,Jd,[te]),Me(671088640,1,{matMenuTrigger:0}),(n()(),Rt(16777216,null,null,2,null,eT)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),je(131072,We,[ee]),(n()(),Rt(0,[["desktopToolbar",2]],null,0,null,rT)),(n()(),P(6,0,null,null,14,"mat-menu",[],null,null,null,XO,UO)),D(7,1294336,[["openMenu",4]],2,Zo,[lt,xe,zO],{overlapTrigger:[0,"overlapTrigger"]},null),Me(603979776,2,{items:1}),Me(335544320,3,{lazyContent:0}),$t(2048,null,rf,null,[Zo]),(n()(),P(11,0,null,0,4,"button",[["class","mat-menu-item"],["mat-menu-item",""],["trans",""],["translate-key","Background Image"]],[[1,"aria-label",0],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,i){var r=!0,o=t.component;return e==="click"&&(r=d(t,13)._checkDisabled(i)!==!1&&r),e==="mouseenter"&&(r=d(t,13)._handleMouseEnter()!==!1&&r),e==="click"&&(r=o.openBackgroundImage()!==!1&&r),r},$b,Qb)),D(12,4341760,null,0,ue,[lt,te,Bt],null,null),D(13,180224,[[2,4]],0,qb,[lt,jn,ne,[2,rf]],null,null),Qn(14,2),(n()(),Gt(-1,0,[" Background Image "])),(n()(),P(16,0,null,0,4,"button",[["class","mat-menu-item"],["mat-menu-item",""],["trans",""],["translate-key","Overlay Image"]],[[1,"aria-label",0],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,i){var r=!0,o=t.component;return e==="click"&&(r=d(t,18)._checkDisabled(i)!==!1&&r),e==="mouseenter"&&(r=d(t,18)._handleMouseEnter()!==!1&&r),e==="click"&&(r=o.openOverlayImage()!==!1&&r),r},$b,Qb)),D(17,4341760,null,0,ue,[lt,te,Bt],null,null),D(18,180224,[[2,4]],0,qb,[lt,jn,ne,[2,rf]],null,null),Qn(19,2),(n()(),Gt(-1,0,[" Overlay Image "]))],function(t,e){var i=e.component;t(e,3,0,fe(e,3,0,d(e,4).transform(i.compactMode)),d(e,5)),t(e,7,0,!1)},function(t,e){var i=e.component,r=fe(e,11,0,t(e,14,0,d(e,0),"Background Image",i.locale));t(e,11,0,r,d(e,13).role,d(e,13)._highlighted,d(e,13)._triggersSubmenu,d(e,13)._getTabIndex(),d(e,13).disabled.toString(),d(e,13).disabled||null);var o=fe(e,16,0,t(e,19,0,d(e,0),"Overlay Image",i.locale));t(e,16,0,o,d(e,18).role,d(e,18)._highlighted,d(e,18)._triggersSubmenu,d(e,18)._getTabIndex(),d(e,18).disabled.toString(),d(e,18).disabled||null)})}var sT=function(){function n(t,e,i,r,o,s,f,_,S,T){this.controls=t,this.canvas=e,this.saveTool=i,this.config=r,this.mergeTool=o,this.history=s,this.toast=f,this.store=_,this.actions$=S,this.changeDetector=T}return n.prototype.ngOnInit=function(){var t=this;this.actions$.pipe(Ra(wm)).subscribe(function(){t.changeDetector.markForCheck()})},n.prototype.executeNavItemAction=function(t){return t.action==="merge"?this.merge():typeof t.action=="string"?this.store.dispatch(new yr(t.action)):void(typeof t.action=="function"&&t.action())},n.prototype.navItemIsDisabled=function(t){var e=!!this.canvas.getMainImage();return t.name===Be.MERGE?!this.mergeTool.canMerge():t.name===Be.TRANSFORM&&!e},n.prototype.getNavItems=function(){return this.config.get("pixie.ui.nav.items")},n.prototype.merge=function(){var t=this;this.mergeTool.apply().then(function(){t.history.add(si.MERGE),t.toast.open("Objects merged.")})},n}(),gl=function(){function n(t,e,i,r,o){this.activeObject=t,this.canvas=e,this.saveTool=i,this.objects=r,this.activeFrame=o}return n.prototype.canMerge=function(){return this.objects.getAll().filter(function(t){return t.name!==oi.mainImage.name}).length>0},n.prototype.apply=function(){var t=this.saveTool.getDataUrl();return this.clearCanvas(),this.canvas.loadMainImage(t)},n.prototype.clearCanvas=function(){this.activeFrame.remove(),this.canvas.fabric().clear()},n}(),aT=Pe({encapsulation:2,styles:[["navigation-bar{display:block;width:100%;height:100%;padding:0 12px}navigation-bar .scroll-container{display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:relative;overflow-x:auto;overflow-y:hidden;white-space:nowrap}@media only screen and (max-width:1065px){navigation-bar .scroll-container{justify-content:flex-start}navigation-bar .scroll-container .separator{display:none}}navigation-bar button.control-button{text-align:center;margin:0 12px;flex:0 0 auto}navigation-bar button.control-button[disabled]{opacity:.4;cursor:default}navigation-bar button.control-button .mat-icon{width:38px;height:38px;margin:0 auto;color:rgba(0,0,0,.75)}navigation-bar button.control-button .name{display:block;margin-top:2px;text-transform:uppercase;font-size:13px}navigation-bar .separator{height:75px;width:1px;flex:0 0 1px;background-color:rgba(0,0,0,.07);margin:0 20px}"]],data:{}});function lT(n){return wt(0,[(n()(),P(0,0,null,null,0,"div",[["class","separator"]],null,null,null,null,null))],null,null)}function uT(n){return wt(0,[(n()(),P(0,0,null,null,5,"button",[["class","no-style control-button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.executeNavItemAction(t.parent.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(2,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(3,0,null,null,2,"span",[["class","name"],["trans",""]],null,null,null,null,null)),D(4,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(5,null,["",""]))],function(t,e){t(e,2,0,e.parent.context.$implicit.icon)},function(t,e){t(e,0,0,e.component.navItemIsDisabled(e.parent.context.$implicit)),t(e,1,0,d(e,2).inline,d(e,2).color!=="primary"&&d(e,2).color!=="accent"&&d(e,2).color!=="warn"),t(e,5,0,e.parent.context.$implicit.display_name||e.parent.context.$implicit.name)})}function cT(n){return wt(0,[(n()(),P(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,lT)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,uT)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(0,null,null,0))],function(t,e){t(e,2,0,e.context.$implicit.type==="separator"),t(e,4,0,e.context.$implicit.type!=="separator")},null)}function hT(n){return wt(2,[(n()(),P(0,0,null,null,3,"div",[["class","scroll-container"],["customScrollbar",""]],null,null,null,null,null)),D(1,4341760,null,0,sc,[lt,un,Wi,xe,Wo,Bt,ac],{suppressX:[0,"suppressX"]},null),(n()(),Rt(16777216,null,null,1,null,cT)),D(3,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,1,0,!1),t(e,3,0,i.getNavItems())},null)}var n_=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"}],Ni=function(){function n(t,e){this.overlayPanel=t,this.config=e,this.compact=!1,this.selectedColor$=new cr("#000"),this.colors=this.config.get("pixie.ui.colorPresets.items")}return n.prototype.changeColor=function(t){this.selectedColor$.next(t),this.propagateChange(t)},n.prototype.openColorPicker=function(){var t=this;this.overlayPanel.open(Bu,{position:n_,hasBackdrop:!0,origin:this.colorPickerButton}).valueChanged().subscribe(function(e){return t.changeColor(e)})},n.prototype.writeValue=function(t){this.selectedColor$.next(t)},n.prototype.registerOnChange=function(t){this.propagateChange=t},n.prototype.registerOnTouched=function(){},n}(),Qo=Pe({encapsulation:2,styles:[["color-widget{display:block;margin:0 25px}color-widget .color-picker-button{margin-right:5px;width:50px;height:50px}color-widget .color-picker-button svg{filter:drop-shadow(3px 3px 2px rgba(0, 0, 0, .1))}color-widget .color-picker-button .mat-icon{width:40px;height:40px}@media only screen and (max-width:599.99px){color-widget .color-picker-button{width:45px;height:45px;line-height:45px;margin-right:10px}color-widget .color-picker-button .mat-icon{width:35px;height:35px}}color-widget .colors{display:flex;align-items:center;justify-content:center;width:358px;overflow:hidden;margin:auto}color-widget button.color{width:25px;height:25px;flex-shrink:0;border:1px solid #e0e0e0;border-radius:50%;margin:0 5px;transition:box-shadow 225ms ease;position:relative;z-index:2}color-widget button.color.selected{border-color:transparent;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}"]],data:{}});function pT(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[["class","no-style color control"]],[[4,"background",null],[2,"selected",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.changeColor(t.context.$implicit)!==!1&&r),r},null,null)),je(131072,We,[ee])],null,function(t,e){var i=e.component;t(e,0,0,e.context.$implicit,fe(e,0,1,d(e,1).transform(i.selectedColor$))===e.context.$implicit)})}function $o(n){return wt(2,[Me(402653184,1,{colorPickerButton:0}),(n()(),P(1,0,null,null,6,"div",[["class","colors"]],null,null,null,null,null)),(n()(),P(2,0,[[1,0]],null,3,"button",[["class","color-picker-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openColorPicker()!==!1&&r),r},tn,$e)),D(3,180224,[["colorPickerButton",4]],0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(4,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","color-wheel-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(5,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(16777216,null,null,1,null,pT)),D(7,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),(n()(),P(8,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(9,4341760,null,0,ue,[lt,te,Bt],null,null),Gn(null,0)],function(t,e){var i=e.component;t(e,5,0,"color-wheel-custom"),t(e,7,0,i.colors)},function(t,e){t(e,2,0,d(e,3).disabled||null,d(e,3)._animationMode==="NoopAnimations"),t(e,4,0,d(e,5).inline,d(e,5).color!=="primary"&&d(e,5).color!=="accent"&&d(e,5).color!=="warn")})}var dT=function(){function n(t,e){this.filterTool=t,this.store=e,this.colorFormControl=new ti}return n.prototype.applyFilterValue=function(t,e){var i=this.store.selectSnapshot(Mr.selectedFilter),r=this.filterTool.getByName(i);this.filterTool.applyValue(r,t,e)},n.prototype.getFilterOptions=function(t){return this.filterTool.getByName(t).options},A([_n(Mr.selectedFilter),E("design:type",c)],n.prototype,"selectedFilter$",void 0),n}(),fT=Pe({encapsulation:2,styles:[["filter-controls .input-container{max-width:120px}filter-controls .input-container label{display:none}"]],data:{}});function gT(n){return wt(0,[(n()(),P(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),P(1,0,null,null,5,"color-widget",[["class","color-widget"]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,i){var r=!0;return e==="ngModelChange"&&(r=t.component.applyFilterValue("color",i)!==!1&&r),r},$o,Qo)),D(2,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(4,540672,null,0,uo,[[8,null],[8,null],[6,ve],[2,Dn]],{form:[0,"form"]},{update:"ngModelChange"}),$t(2048,null,me,null,[uo]),D(6,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){t(e,4,0,e.component.colorFormControl)},function(t,e){t(e,1,0,d(e,2).compact,d(e,6).ngClassUntouched,d(e,6).ngClassTouched,d(e,6).ngClassPristine,d(e,6).ngClassDirty,d(e,6).ngClassValid,d(e,6).ngClassInvalid,d(e,6).ngClassPending)})}function mT(n){return wt(0,[(n()(),P(0,0,null,null,4,"option",[["trans",""]],null,null,null,null,null)),D(1,147456,null,0,Cv,[lt,un,[8,null]],{value:[0,"value"]},null),D(2,147456,null,0,kv,[lt,un,[8,null]],{value:[0,"value"]},null),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(4,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,4,0,e.context.$implicit)})}function vT(n){return wt(0,[(n()(),P(0,0,null,null,6,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"label",[["trans",""]],[[8,"htmlFor",0]],null,null,null,null)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(3,null,["",""])),(n()(),P(4,0,null,null,2,"select",[],[[8,"id",0]],[[null,"change"]],function(t,e,i){var r=!0;return e==="change"&&(r=t.component.applyFilterValue(t.parent.context.$implicit.key,i.target.value)!==!1&&r),r},null,null)),(n()(),Rt(16777216,null,null,1,null,mT)),D(6,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,6,0,e.parent.context.$implicit.value.available)},function(t,e){t(e,1,0,e.parent.context.$implicit.key),t(e,3,0,e.parent.context.$implicit.key),t(e,4,0,e.parent.context.$implicit.key)})}function yT(n){return wt(0,[(n()(),P(0,0,null,null,6,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(3,null,["",""])),(n()(),P(4,0,null,null,2,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0,o=t.component;return e==="focus"&&(r=d(t,6)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,6)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,6)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,6)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,6)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,6)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,6)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,6)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,6)._onSlideStart(i)!==!1&&r),e==="input"&&(r=o.applyFilterValue(t.parent.context.$implicit.key,i.value)!==!1&&r),r},Er,kr)),$t(5120,null,ve,function(t){return[t]},[ei]),D(6,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"],step:[2,"step"],value:[3,"value"]},{input:"input"})],function(t,e){t(e,6,0,e.parent.context.$implicit.value.max||100,e.parent.context.$implicit.value.min||0,e.parent.context.$implicit.value.step||1,e.parent.context.$implicit.value.current)},function(t,e){t(e,3,0,e.parent.context.$implicit.key),t(e,4,1,[d(e,6).tabIndex,d(e,6).disabled,d(e,6).max,d(e,6).min,d(e,6).value,d(e,6).vertical?"vertical":"horizontal",d(e,6).disabled,d(e,6).tickInterval,!d(e,6).vertical,d(e,6)._invertAxis,d(e,6)._isSliding,d(e,6).thumbLabel,d(e,6).vertical,d(e,6)._isMinValue,d(e,6).disabled||d(e,6)._isMinValue&&d(e,6)._thumbGap&&d(e,6)._invertAxis,d(e,6)._animationMode==="NoopAnimations"])})}function bT(n){return wt(0,[(n()(),P(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,gT)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,vT)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,yT)),D(6,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(0,null,null,0))],function(t,e){t(e,2,0,e.context.$implicit.value.type==="colorPicker"),t(e,4,0,e.context.$implicit.value.type==="select"),t(e,6,0,e.context.$implicit.value.type==="slider")},null)}function _T(n){return wt(0,[(n()(),P(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,bT)),D(2,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(0,jm,[Pi]),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,2,0,fe(e,2,0,d(e,3).transform(i.getFilterOptions(e.context.ngIf))))},null)}function wT(n){return wt(2,[(n()(),Rt(16777216,null,null,2,null,_T)),D(1,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,1,0,fe(e,1,0,d(e,2).transform(i.selectedFilter$)))},null)}var xT=function(){function n(t,e,i,r){this.settings=t,this.filterTool=e,this.store=i,this.config=r,this.filterList=[],this.filterList=this.config.get("pixie.tools.filter.items")}return n.prototype.ngOnInit=function(){var t=this.config.get("pixie.tools.filter.resetFilters");t!==null&&t&&(this.filterTool.resetAll(),this.config.set("pixie.tools.filter.resetFilters",!1))},n.prototype.applyFilter=function(t){this.filterTool.apply(t)},n.prototype.removeFilter=function(t){this.filterTool.remove(t)},n.prototype.getFilterImage=function(t){return this.settings.getAssetUrl("images/filters/square/"+t.replace(" ","-")+".jpg")},n.prototype.showFilterControls=function(t){this.store.dispatch(new Lp(t))},n.prototype.getFilterDisplayName=function(t){return t==="blackWhite"?"Black & White":t_(t)},A([_n(gn.activePanel),E("design:type",c)],n.prototype,"forePanel$",void 0),A([_n(Mr.activeFilters),E("design:type",c)],n.prototype,"activeFilters$",void 0),A([_n(Mr.selectedFilter),E("design:type",c)],n.prototype,"selectedFilter$",void 0),A([_n(Mr.dirty),E("design:type",c)],n.prototype,"dirty$",void 0),n}(),CT=Pe({encapsulation:2,styles:[["filter-drawer.controls-drawer .filter-list{justify-content:flex-start}filter-drawer .button-with-image{position:relative}filter-drawer .button-with-image:first-of-type{margin-left:0}filter-drawer .button-with-image img{border-radius:4px;width:65px;height:65px}filter-drawer .button-with-image .bottom-label{margin-top:3px;font-size:11px}"]],data:{}});function ST(n){return wt(0,[(n()(),P(0,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(t.component.showFilterControls(t.parent.parent.context.$implicit),r=i.stopPropagation()!==!1&&r),r},tn,$e)),D(1,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(2,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","settings"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(3,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,3,0,"settings")},function(t,e){t(e,0,0,d(e,1).disabled||null,d(e,1)._animationMode==="NoopAnimations"),t(e,2,0,d(e,3).inline,d(e,3).color!=="primary"&&d(e,3).color!=="accent"&&d(e,3).color!=="warn")})}function kT(n){return wt(0,[(n()(),P(0,0,null,null,6,"div",[["class","overlay"]],null,null,null,null,null)),(n()(),P(1,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(t.component.removeFilter(t.parent.context.$implicit),r=i.stopPropagation()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(3,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","cancel"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(4,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(16777216,null,null,1,null,ST)),D(6,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,4,0,"cancel"),t(e,6,0,i.filterTool.hasOptions(e.parent.context.$implicit))},function(t,e){t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,3,0,d(e,4).inline,d(e,4).color!=="primary"&&d(e,4).color!=="accent"&&d(e,4).color!=="warn")})}function ET(n){return wt(0,[(n()(),P(0,0,null,null,7,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.applyFilter(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,3,"div",[["class","image-container"]],null,null,null,null,null)),(n()(),P(2,0,null,null,0,"img",[["alt","Filter preview"]],[[8,"src",4]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,kT)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(5,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(6,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(7,null,["",""]))],function(t,e){var i=e.parent.context.ngIf.indexOf(e.context.$implicit)>-1;t(e,4,0,i)},function(t,e){var i=e.component;t(e,2,0,i.getFilterImage(e.context.$implicit)),t(e,7,0,i.getFilterDisplayName(e.context.$implicit))})}function OT(n){return wt(0,[(n()(),P(0,0,null,null,3,"div",[["class","content filter-list"]],[[2,"hidden",null]],null,null,null,null)),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,1,null,ET)),D(3,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,3,0,e.component.filterList)},function(t,e){var i=e.component;t(e,0,0,fe(e,0,0,d(e,1).transform(i.selectedFilter$)))})}function TT(n){return wt(0,[(n()(),P(0,0,null,null,2,"filter-controls",[["class","content"]],null,null,null,wT,fT)),D(1,278528,null,0,$l,[An,Pi,lt,un],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),D(2,49152,null,0,dT,[Jo,Ge],null,null)],function(t,e){t(e,1,0,"content",e.context.ngIf)},null)}function IT(n){return wt(2,[(n()(),Rt(16777216,null,null,2,null,OT)),D(1,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,2,null,TT)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,1,0,fe(e,1,0,d(e,2).transform(i.activeFilters$))),t(e,4,0,fe(e,4,0,d(e,5).transform(i.selectedFilter$)))},null)}var i_=new de("mat-checkbox-click-action"),AT=0,sf=0,Ti=function(){var n={Init:0,Checked:1,Unchecked:2,Indeterminate:3};return n[n.Init]="Init",n[n.Checked]="Checked",n[n.Unchecked]="Unchecked",n[n.Indeterminate]="Indeterminate",n}(),PT=function(){return function(){}}(),cc=function(n){function t(e,i,r,o,s,f,_){var S=n.call(this,e)||this;return S._changeDetectorRef=i,S._focusMonitor=r,S._ngZone=o,S._clickAction=f,S._animationMode=_,S.ariaLabel="",S.ariaLabelledby=null,S._uniqueId="mat-checkbox-"+ ++AT,S.id=S._uniqueId,S.labelPosition="after",S.name=null,S.change=new le,S.indeterminateChange=new le,S._onTouched=function(){},S._currentAnimationClass="",S._currentCheckState=Ti.Init,S._controlValueAccessorChangeFn=function(){},S._checked=!1,S._disabled=!1,S._indeterminate=!1,S.tabIndex=parseInt(s)||0,S._focusMonitor.monitor(e,!0).subscribe(function(T){T||Promise.resolve().then(function(){return S._onTouched()})}),S}return k(t,n),Object.defineProperty(t.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=rn(e)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this._calculateRippleRadius()},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var i=rn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){var i=e!=this._indeterminate;this._indeterminate=e,i&&(this._transitionCheckState(this._indeterminate?Ti.Indeterminate:this.checked?Ti.Checked:Ti.Unchecked),this.indeterminateChange.emit(this._indeterminate))},enumerable:!0,configurable:!0}),t.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},t.prototype._onLabelTextChange=function(){this._changeDetectorRef.detectChanges()},t.prototype.writeValue=function(e){this.checked=!!e},t.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},t.prototype.registerOnTouched=function(e){this._onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype._getAriaChecked=function(){return this.checked?"true":this.indeterminate?"mixed":"false"},t.prototype._transitionCheckState=function(e){var i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);var o=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){r.classList.remove(o)},1e3)})}},t.prototype._emitChangeEvent=function(){var e=new PT;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)},t.prototype.toggle=function(){this.checked=!this.checked},t.prototype._onInputClick=function(e){var i=this;e.stopPropagation(),this.disabled||this._clickAction==="noop"?this.disabled||this._clickAction!=="noop"||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&this._clickAction!=="check"&&Promise.resolve().then(function(){i._indeterminate=!1,i.indeterminateChange.emit(i._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?Ti.Checked:Ti.Unchecked),this._emitChangeEvent())},t.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement,"keyboard")},t.prototype._onInteractionEvent=function(e){e.stopPropagation()},t.prototype._getAnimationClassForCheckStateTransition=function(e,i){if(this._animationMode==="NoopAnimations")return"";var r="";switch(e){case Ti.Init:if(i===Ti.Checked)r="unchecked-checked";else{if(i!=Ti.Indeterminate)return"";r="unchecked-indeterminate"}break;case Ti.Unchecked:r=i===Ti.Checked?"unchecked-checked":"unchecked-indeterminate";break;case Ti.Checked:r=i===Ti.Unchecked?"checked-unchecked":"checked-indeterminate";break;case Ti.Indeterminate:r=i===Ti.Checked?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+r},t.prototype._calculateRippleRadius=function(){if(!sf){var e=this._elementRef.nativeElement.querySelector(".mat-checkbox-ripple").clientWidth||0;sf=e/2}this.ripple.radius=sf},t}(Vu(Ts(Is(Xo(function(){return function(n){this._elementRef=n}}())),"accent"))),r_=function(){return function(){}}(),o_=Pe({encapsulation:2,styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}@media (-ms-high-contrast:active){.mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.13333px}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0);border-radius:2px}@media (-ms-high-contrast:active){.mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}"],data:{}});function s_(n){return wt(2,[Me(402653184,1,{_inputElement:0}),Me(402653184,2,{ripple:0}),(n()(),P(2,0,[["label",1]],null,16,"label",[["class","mat-checkbox-layout"]],[[1,"for",0]],null,null,null,null)),(n()(),P(3,0,null,null,10,"div",[["class","mat-checkbox-inner-container"]],[[2,"mat-checkbox-inner-container-no-side-margin",null]],null,null,null,null)),(n()(),P(4,0,[[1,0],["input",1]],null,0,"input",[["class","mat-checkbox-input cdk-visually-hidden"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"checked",0],[1,"value",0],[8,"disabled",0],[1,"name",0],[8,"tabIndex",0],[8,"indeterminate",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-checked",0]],[[null,"change"],[null,"click"]],function(t,e,i){var r=!0,o=t.component;return e==="change"&&(r=o._onInteractionEvent(i)!==!1&&r),e==="click"&&(r=o._onInputClick(i)!==!1&&r),r},null,null)),(n()(),P(5,0,null,null,3,"div",[["class","mat-checkbox-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(6,212992,[[2,4]],0,Ps,[lt,xe,he,[2,As],[2,ge]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Dh(7,{enterDuration:0}),(n()(),P(8,0,null,null,0,"div",[["class","mat-ripple-element mat-checkbox-persistent-ripple"]],null,null,null,null,null)),(n()(),P(9,0,null,null,0,"div",[["class","mat-checkbox-frame"]],null,null,null,null,null)),(n()(),P(10,0,null,null,3,"div",[["class","mat-checkbox-background"]],null,null,null,null,null)),(n()(),P(11,0,null,null,1,":svg:svg",[[":xml:space","preserve"],["class","mat-checkbox-checkmark"],["focusable","false"],["version","1.1"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),P(12,0,null,null,0,":svg:path",[["class","mat-checkbox-checkmark-path"],["d","M4.1,12.7 9,17.6 20.3,6.3"],["fill","none"],["stroke","white"]],null,null,null,null,null)),(n()(),P(13,0,null,null,0,"div",[["class","mat-checkbox-mixedmark"]],null,null,null,null,null)),(n()(),P(14,0,[["checkboxLabel",1]],null,4,"span",[["class","mat-checkbox-label"]],null,[[null,"cdkObserveContent"]],function(t,e,i){var r=!0;return e==="cdkObserveContent"&&(r=t.component._onLabelTextChange()!==!1&&r),r},null,null)),D(15,1196032,null,0,s0,[o0,lt,xe],null,{event:"cdkObserveContent"}),(n()(),P(16,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(n()(),Gt(-1,null,["\xA0"])),Gn(null,0)],function(t,e){var i=e.component,r=t(e,7,0,150);t(e,6,0,!0,20,r,i._isRippleDisabled(),d(e,2))},function(t,e){var i=e.component;t(e,2,0,i.inputId),t(e,3,0,!d(e,14).textContent||!d(e,14).textContent.trim()),t(e,4,1,[i.inputId,i.required,i.checked,i.value,i.disabled,i.name,i.tabIndex,i.indeterminate,i.ariaLabel||null,i.ariaLabelledby,i._getAriaChecked()]),t(e,5,0,d(e,6).unbounded)})}var DT=function(){function n(t,e,i,r,o,s){this.canvas=t,this.history=e,this.resizeTool=i,this.controls=r,this.toast=o,this.store=s,this.resizeForm=new _r({width:new ti,height:new ti,usePercentages:new ti(!1),maintainAspectRatio:new ti(!0)})}return n.prototype.ngOnInit=function(){this.resizeForm.patchValue({width:this.resizeForm.value.usePercentages?100:this.canvas.state.original.width,height:this.resizeForm.value.usePercentages?100:this.canvas.state.original.height}),this.bindToWidthControl(),this.bindToHeightControl(),this.bindToPercentageControl(),this.syncFormWithState()},n.prototype.applyChanges=function(){this.store.selectSnapshot(Za.dirty)&&this.store.dispatch(new Jl(Be.RESIZE))},n.prototype.syncFormWithState=function(){var t=this;this.resizeForm.valueChanges.pipe(No(200),Hn(function(){return t.store.selectSnapshot(gn.activePanel)===Be.RESIZE})).subscribe(function(){t.store.dispatch(new Zp(t.resizeForm.getRawValue()))})},n.prototype.bindToPercentageControl=function(){var t=this;this.resizeForm.get("usePercentages").valueChanges.subscribe(function(e){t.resizeForm.patchValue(e?{width:100,height:100}:{width:t.canvas.state.original.width,height:t.canvas.state.original.height})})},n.prototype.bindToWidthControl=function(){var t=this;this.resizeForm.get("width").valueChanges.pipe(Hn(function(){return t.resizeForm.value.maintainAspectRatio})).subscribe(function(e){t.resizeForm.get("height").setValue(t.aspectToHeight(e),{emitEvent:!1})})},n.prototype.bindToHeightControl=function(){var t=this;this.resizeForm.get("height").valueChanges.pipe(Hn(function(){return t.resizeForm.value.maintainAspectRatio})).subscribe(function(e){t.resizeForm.get("width").setValue(t.aspectToWidth(e),{emitEvent:!1})})},n.prototype.aspectToWidth=function(t){if(this.resizeForm.value.usePercentages)return t;var e=parseFloat((this.canvas.state.original.height/t).toPrecision(3));return Math.floor(this.canvas.state.original.width/e)},n.prototype.aspectToHeight=function(t){if(this.resizeForm.value.usePercentages)return t;var e=parseFloat((this.canvas.state.original.width/t).toPrecision(3));return Math.floor(this.canvas.state.original.height/e)},n}(),RT=Pe({encapsulation:2,styles:[["resize-drawer{display:block}resize-drawer .input-container{display:inline-block;width:auto;margin:0 15px;text-align:center}resize-drawer .input-container.checkbox-container{text-align:left}resize-drawer .input-container input{width:95px;height:45px;border-radius:3px}resize-drawer .input-container label{padding:0}resize-drawer .input-container .mat-checkbox{display:block}resize-drawer .input-container .mat-checkbox:first-of-type{margin-bottom:8px}resize-drawer form{margin:0}@media only screen and (max-width:599.99px){resize-drawer .content{flex-direction:column;justify-content:center}resize-drawer .content>:first-child,resize-drawer .content>:last-child{margin:auto}resize-drawer .input-container .percentages-checkbox{display:none}resize-drawer .input-container>.aspect-ratio-checkbox{margin-bottom:0}}"]],data:{}});function jT(n){return wt(2,[(n()(),P(0,0,null,null,48,"form",[["class","content"],["ngNativeValidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0,o=t.component;return e==="submit"&&(r=d(t,1).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,1).onReset()!==!1&&r),e==="ngSubmit"&&(r=o.applyChanges()!==!1&&r),r},null,null)),D(1,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),$t(2048,null,Xe,null,[Kn]),D(3,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(4,0,null,null,26,"div",[["class","size-inputs-container"]],null,null,null,null,null)),(n()(),P(5,0,null,null,12,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(6,0,null,null,2,"label",[["for","width"],["trans",""]],null,null,null,null,null)),D(7,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Width"])),(n()(),P(9,0,null,null,8,"input",[["formControlName","width"],["id","width"],["name","width"],["required",""],["type","number"]],[[8,"min",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,10)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,10).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,10)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,10)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,11).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,11).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,11).onTouched()!==!1&&r),r},null,null)),D(10,16384,null,0,ci,[un,lt,[2,io]],null,null),D(11,16384,null,0,Ui,[un,lt],null,null),D(12,16384,null,0,wr,[],{required:[0,"required"]},null),$t(1024,null,br,function(t){return[t]},[wr]),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(15,671744,null,0,Ye,[[3,Xe],[6,br],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(17,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(18,0,null,null,12,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(19,0,null,null,2,"label",[["for","height"],["trans",""]],null,null,null,null,null)),D(20,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Height"])),(n()(),P(22,0,null,null,8,"input",[["formControlName","height"],["id","height"],["name","height"],["required",""],["type","number"]],[[8,"min",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0;return e==="input"&&(r=d(t,23)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,23).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,23)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,23)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,24).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,24).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,24).onTouched()!==!1&&r),r},null,null)),D(23,16384,null,0,ci,[un,lt,[2,io]],null,null),D(24,16384,null,0,Ui,[un,lt],null,null),D(25,16384,null,0,wr,[],{required:[0,"required"]},null),$t(1024,null,br,function(t){return[t]},[wr]),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(28,671744,null,0,Ye,[[3,Xe],[6,br],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(30,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(31,0,null,null,0,"button",[["class","hidden"],["type","submit"]],null,null,null,null,null)),(n()(),P(32,0,null,null,16,"div",[["class","input-container checkbox-container"]],null,null,null,null,null)),(n()(),P(33,0,null,null,7,"mat-checkbox",[["class","aspect-ratio-checkbox mat-checkbox"],["formControlName","maintainAspectRatio"],["trans",""]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s_,o_)),D(34,8568832,null,0,cc,[lt,ee,ne,xe,[8,null],[2,i_],[2,ge]],null,null),$t(1024,null,ve,function(t){return[t]},[cc]),D(36,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(38,16384,null,0,Cn,[[4,me]],null,null),D(39,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,0,["Maintain Aspect Ratio"])),(n()(),P(41,0,null,null,7,"mat-checkbox",[["class","percentages-checkbox mat-checkbox"],["formControlName","usePercentages"],["trans",""]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s_,o_)),D(42,8568832,null,0,cc,[lt,ee,ne,xe,[8,null],[2,i_],[2,ge]],null,null),$t(1024,null,ve,function(t){return[t]},[cc]),D(44,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(46,16384,null,0,Cn,[[4,me]],null,null),D(47,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,0,["Use Percentages"]))],function(t,e){t(e,1,0,e.component.resizeForm),t(e,12,0,""),t(e,15,0,"width"),t(e,25,0,""),t(e,28,0,"height"),t(e,36,0,"maintainAspectRatio"),t(e,44,0,"usePercentages")},function(t,e){t(e,0,0,d(e,3).ngClassUntouched,d(e,3).ngClassTouched,d(e,3).ngClassPristine,d(e,3).ngClassDirty,d(e,3).ngClassValid,d(e,3).ngClassInvalid,d(e,3).ngClassPending),t(e,9,0,1,d(e,12).required?"":null,d(e,17).ngClassUntouched,d(e,17).ngClassTouched,d(e,17).ngClassPristine,d(e,17).ngClassDirty,d(e,17).ngClassValid,d(e,17).ngClassInvalid,d(e,17).ngClassPending),t(e,22,0,1,d(e,25).required?"":null,d(e,30).ngClassUntouched,d(e,30).ngClassTouched,d(e,30).ngClassPristine,d(e,30).ngClassDirty,d(e,30).ngClassValid,d(e,30).ngClassInvalid,d(e,30).ngClassPending),t(e,33,1,[d(e,34).id,null,d(e,34).indeterminate,d(e,34).checked,d(e,34).disabled,d(e,34).labelPosition=="before",d(e,34)._animationMode==="NoopAnimations",d(e,38).ngClassUntouched,d(e,38).ngClassTouched,d(e,38).ngClassPristine,d(e,38).ngClassDirty,d(e,38).ngClassValid,d(e,38).ngClassInvalid,d(e,38).ngClassPending]),t(e,41,1,[d(e,42).id,null,d(e,42).indeterminate,d(e,42).checked,d(e,42).disabled,d(e,42).labelPosition=="before",d(e,42)._animationMode==="NoopAnimations",d(e,46).ngClassUntouched,d(e,46).ngClassTouched,d(e,46).ngClassPristine,d(e,46).ngClassDirty,d(e,46).ngClassValid,d(e,46).ngClassInvalid,d(e,46).ngClassPending])})}var FT=function(){function n(t,e){this.store=t,this.transformTool=e}return n.prototype.rotateLeft=function(){this.transformTool.rotate("basic",-90),this.markAsDirty()},n.prototype.rotateRight=function(){this.transformTool.rotate("basic",90),this.markAsDirty()},n.prototype.skew=function(t){this.transformTool.rotate("skew",t.value)},n.prototype.flipHorizontal=function(){this.transformTool.flip("horizontal"),this.markAsDirty()},n.prototype.flipVertical=function(){this.transformTool.flip("vertical"),this.markAsDirty()},n.prototype.markAsDirty=function(){this.store.dispatch(new By)},n}(),hc=function(){function n(t){this.canvas=t}return n.prototype.rotate=function(t,e,i){t==="basic"?this.rotateFixed(e):this.rotateFree(e,i)},n.prototype.flip=function(t){var e=t==="horizontal"?"flipY":"flipX";this.canvas.fabric().forEachObject(function(i){i[e]=!i[e]}),this.canvas.render()},n.prototype.rotateFixed=function(t){this.canvas.zoom.set(1);var e=(this.canvas.getMainImage().angle+t)%360,i=Math.abs(this.canvas.getMainImage().width*Math.sin(e*Math.PI/180))+Math.abs(this.canvas.getMainImage().height*Math.cos(e*Math.PI/180)),r=Math.abs(this.canvas.getMainImage().height*Math.sin(e*Math.PI/180))+Math.abs(this.canvas.getMainImage().width*Math.cos(e*Math.PI/180));this.canvas.resize(r,i),this.canvas.getMainImage().viewportCenter(),this.canvas.fabric().forEachObject(function(o){o.rotate((o.angle+t)%360),o.setCoords()}),this.canvas.render(),this.canvas.zoom.fitToScreen()},n.prototype.rotateFree=function(t,e){var i=this;if(!(t>360||t<0)){var r=!1;this.canvas.fabric().forEachObject(function(o){e&&e==="left"?t=o.angle-90:e&&e==="right"&&(t=o.angle+90),o.originX==="center"&&o.originY==="center"||!o.centeredRotation||(i.setOriginToCenter(o),r=!0),o.angle=t=t>360?90:t<0?270:t,o.setCoords(),r&&i.setCenterToOrigin(o)}),this.canvas.render()}},n.prototype.setOriginToCenter=function(t){t._originalOriginX=t.originX,t._originalOriginY=t.originY;var e=t.getCenterPoint();t.set({originX:"center",originY:"center",left:e.x,top:e.y})},n.prototype.setCenterToOrigin=function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),t._originalOriginX,t._originalOriginY);t.set({originX:t._originalOriginX,originY:t._originalOriginY,left:e.x,top:e.y})},n}(),MT=Pe({encapsulation:2,styles:[["transform-drawer{display:block}transform-drawer .content{flex-wrap:wrap}transform-drawer .buttons-container{margin:0 20px}transform-drawer .button-with-image.small{width:55px;height:55px}transform-drawer .button-with-image.small img,transform-drawer .button-with-image.small mat-icon{width:30px;height:30px}@media only screen and (max-width:599.99px){transform-drawer.controls-drawer .content{justify-content:center}transform-drawer .buttons-container,transform-drawer.controls-drawer .content>:first-child,transform-drawer.controls-drawer .content>:last-child{margin:0}transform-drawer .mat-slider{display:none}}"]],data:{}});function LT(n){return wt(2,[(n()(),P(0,0,null,null,17,"div",[["class","content"]],null,null,null,null,null)),(n()(),P(1,0,null,null,6,"div",[["class","buttons-container"]],null,null,null,null,null)),(n()(),P(2,0,null,null,2,"button",[["class","rotate-button button-with-image small"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.rotateLeft()!==!1&&r),r},null,null)),(n()(),P(3,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","rotate-left"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(4,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(5,0,null,null,2,"button",[["class","rotate-button button-with-image small"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.rotateRight()!==!1&&r),r},null,null)),(n()(),P(6,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","rotate-right"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(8,0,null,null,6,"div",[["class","buttons-container"]],null,null,null,null,null)),(n()(),P(9,0,null,null,2,"button",[["class","rotate-button button-with-image small"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.flipVertical()!==!1&&r),r},null,null)),(n()(),P(10,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","flip-vertical-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(11,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(12,0,null,null,2,"button",[["class","rotate-button button-with-image small"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.flipHorizontal()!==!1&&r),r},null,null)),(n()(),P(13,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","flip-horizontal-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(14,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(15,0,null,null,2,"mat-slider",[["class","mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"input"],[null,"change"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0,o=t.component;return e==="focus"&&(r=d(t,17)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,17)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,17)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,17)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,17)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,17)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,17)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,17)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,17)._onSlideStart(i)!==!1&&r),e==="input"&&(r=o.skew(i)!==!1&&r),e==="change"&&(r=o.markAsDirty()!==!1&&r),r},Er,kr)),$t(5120,null,ve,function(t){return[t]},[ei]),D(17,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},{change:"change",input:"input"})],function(t,e){t(e,4,0,"rotate-left"),t(e,7,0,"rotate-right"),t(e,11,0,"flip-vertical-custom"),t(e,14,0,"flip-horizontal-custom"),t(e,17,0,360,0)},function(t,e){t(e,3,0,d(e,4).inline,d(e,4).color!=="primary"&&d(e,4).color!=="accent"&&d(e,4).color!=="warn"),t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn"),t(e,10,0,d(e,11).inline,d(e,11).color!=="primary"&&d(e,11).color!=="accent"&&d(e,11).color!=="warn"),t(e,13,0,d(e,14).inline,d(e,14).color!=="primary"&&d(e,14).color!=="accent"&&d(e,14).color!=="warn"),t(e,15,1,[d(e,17).tabIndex,d(e,17).disabled,d(e,17).max,d(e,17).min,d(e,17).value,d(e,17).vertical?"vertical":"horizontal",d(e,17).disabled,d(e,17).tickInterval,!d(e,17).vertical,d(e,17)._invertAxis,d(e,17)._isSliding,d(e,17).thumbLabel,d(e,17).vertical,d(e,17)._isMinValue,d(e,17).disabled||d(e,17)._isMinValue&&d(e,17)._thumbGap&&d(e,17)._invertAxis,d(e,17)._animationMode==="NoopAnimations"])})}var NT=function(){function n(t,e){this.cropZone=t,this.config=e,this.aspectRatios=this.config.get("pixie.tools.crop.items"),this.cropZone.aspectRatio=this.config.get("pixie.tools.crop.defaultRatio")}return n.prototype.ngAfterViewInit=function(){var t=this;this.ratioPreviews.forEach(function(e){var i=t.cropZone.getAdjustedSize(e.nativeElement.dataset.ratio,40,30);e.nativeElement.style.width=i.width+"px",e.nativeElement.style.height=i.height+"px"})},n.prototype.ngOnInit=function(){var t=this;this.cropZone.draw(),this.updateZoneSize(),this.cropZone.resize$.subscribe(function(){return t.updateZoneSize()})},n.prototype.ngOnDestroy=function(){this.cropZone.remove()},n.prototype.applyAspectRatio=function(t){this.cropZone.changeAspectRatio(t),this.updateZoneSize()},n.prototype.updateZoneSize=function(){var t=this.cropZone.getSize();this.cropzoneHeight=Math.floor(t.height),this.cropzoneWidth=Math.floor(t.width)},n.prototype.resizeCropzone=function(){this.cropZone.resize(this.cropzoneWidth,this.cropzoneHeight)},n}(),BT=Pe({encapsulation:2,styles:[["crop-drawer{display:block}crop-drawer .custom-ratio-container{padding-right:10px;border-right:1px solid #e0e0e0}crop-drawer .custom-ratio-container .input-container{display:inline-block;width:auto;margin:0 15px;text-align:center}crop-drawer .custom-ratio-container .input-container.checkbox-container{text-align:left}crop-drawer .custom-ratio-container .input-container>input{width:95px;height:45px;border-radius:3px}crop-drawer .custom-ratio-container .input-container>label{padding:0}crop-drawer .custom-ratio-container .input-container>.mat-checkbox{display:block}crop-drawer .custom-ratio-container .input-container>.mat-checkbox:first-of-type{margin-bottom:8px}crop-drawer .aspect-ratios{display:flex;align-items:flex-end}crop-drawer .aspect-ratios>.aspect-ratio{cursor:pointer;padding:0 20px}crop-drawer .aspect-ratios>.aspect-ratio.selected,crop-drawer .aspect-ratios>.aspect-ratio:hover .name{color:#009688}crop-drawer .aspect-ratios>.aspect-ratio>.preview{width:40px;height:30px;border:3px solid currentColor}crop-drawer .aspect-ratios>.aspect-ratio>.name{font-size:15px;text-align:center;margin-top:6px}@media only screen and (max-width:1168px){crop-drawer .custom-ratio-container{display:none}}@media only screen and (max-width:768px){crop-drawer.controls-drawer .content{justify-content:flex-start}crop-drawer .custom-ratio-container{display:none}}"]],data:{}});function VT(n){return wt(0,[(n()(),P(0,0,null,null,23,"div",[["class","custom-ratio-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,22,"div",[["class","inputs"]],null,null,null,null,null)),(n()(),P(2,0,null,null,10,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(3,0,null,null,2,"label",[["for","width"],["trans",""]],null,null,null,null,null)),D(4,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Width"])),(n()(),P(6,0,null,null,6,"input",[["id","width"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,7)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,7).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,7)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,7)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,8).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,8).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,8).onTouched()!==!1&&r),e==="ngModelChange"&&(r=(o.cropzoneWidth=i)!==!1&&r),e==="ngModelChange"&&(r=o.resizeCropzone()!==!1&&r),r},null,null)),D(7,16384,null,0,ci,[un,lt,[2,io]],null,null),D(8,16384,null,0,Ui,[un,lt],null,null),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(10,671744,null,0,lo,[[8,null],[8,null],[8,null],[6,ve]],{model:[0,"model"]},{update:"ngModelChange"}),$t(2048,null,me,null,[lo]),D(12,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(13,0,null,null,10,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),P(14,0,null,null,2,"label",[["for","height"],["trans",""]],null,null,null,null,null)),D(15,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Height"])),(n()(),P(17,0,null,null,6,"input",[["id","height"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,i){var r=!0,o=t.component;return e==="input"&&(r=d(t,18)._handleInput(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,18).onTouched()!==!1&&r),e==="compositionstart"&&(r=d(t,18)._compositionStart()!==!1&&r),e==="compositionend"&&(r=d(t,18)._compositionEnd(i.target.value)!==!1&&r),e==="change"&&(r=d(t,19).onChange(i.target.value)!==!1&&r),e==="input"&&(r=d(t,19).onChange(i.target.value)!==!1&&r),e==="blur"&&(r=d(t,19).onTouched()!==!1&&r),e==="ngModelChange"&&(r=(o.cropzoneHeight=i)!==!1&&r),e==="ngModelChange"&&(r=o.resizeCropzone()!==!1&&r),r},null,null)),D(18,16384,null,0,ci,[un,lt,[2,io]],null,null),D(19,16384,null,0,Ui,[un,lt],null,null),$t(1024,null,ve,function(t,e){return[t,e]},[ci,Ui]),D(21,671744,null,0,lo,[[8,null],[8,null],[8,null],[6,ve]],{model:[0,"model"]},{update:"ngModelChange"}),$t(2048,null,me,null,[lo]),D(23,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,10,0,i.cropzoneWidth),t(e,21,0,i.cropzoneHeight)},function(t,e){t(e,6,0,d(e,12).ngClassUntouched,d(e,12).ngClassTouched,d(e,12).ngClassPristine,d(e,12).ngClassDirty,d(e,12).ngClassValid,d(e,12).ngClassInvalid,d(e,12).ngClassPending),t(e,17,0,d(e,23).ngClassUntouched,d(e,23).ngClassTouched,d(e,23).ngClassPristine,d(e,23).ngClassDirty,d(e,23).ngClassValid,d(e,23).ngClassInvalid,d(e,23).ngClassPending)})}function zT(n){return wt(0,[(n()(),P(0,0,null,null,4,"div",[["class","aspect-ratio"]],[[2,"selected",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.applyAspectRatio(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,[[1,0],["ratioPreview",1]],null,0,"div",[["class","preview"]],[[1,"data-ratio",0]],null,null,null,null)),(n()(),P(2,0,null,null,2,"div",[["class","name"],["trans",""]],null,null,null,null,null)),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(4,null,["",""]))],null,function(t,e){t(e,0,0,e.component.cropZone.aspectRatio===e.context.$implicit),t(e,1,0,e.context.$implicit),t(e,4,0,e.context.$implicit)})}function HT(n){return wt(2,[Me(671088640,1,{ratioPreviews:1}),(n()(),P(1,0,null,null,5,"div",[["class","content"]],null,null,null,null,null)),(n()(),P(2,0,null,null,4,"div",[["class","aspect-ratios"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,VT)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,zT)),D(6,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,4,0,!i.config.get("pixie.tools.crop.hideCustomControls")),t(e,6,0,i.aspectRatios)},null)}var a_=function(){return(a_=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},UT=function(){function n(t,e,i,r,o){this.drawTool=t,this.settings=e,this.canvas=i,this.config=r,this.store=o,this.brushSizes$=new cr([]),this.brushTypes$=new cr([]),this.currentDrawings=[],this.brushSizes$.next(this.config.get("pixie.tools.draw.brushSizes")),this.brushTypes$.next(this.config.get("pixie.tools.draw.brushTypes"))}return n.prototype.ngOnInit=function(){this.drawTool.enable(),this.canvas.fabric().on("object:added",this.maybeMarkAsDirty.bind(this)),this.currentDrawings=this.getAllDrawings().map(function(t){return t.data.id}),this.store.dispatch(new Uy)},n.prototype.ngOnDestroy=function(){this.drawTool.disable(),this.canvas.fabric().off("object:added",this.maybeMarkAsDirty.bind(this))},n.prototype.getBrushPreviewUrl=function(t){var e=t.replace("Brush","").toLowerCase();return this.settings.getAssetUrl("images/brushes/"+e+"-square.png")},n.prototype.setBrushType=function(t){this.drawTool.setBrushType(t),this.store.dispatch(new Xy)},n.prototype.maybeMarkAsDirty=function(){var t=this,e=this.getAllDrawings().find(function(i){return t.currentDrawings.indexOf(i.data.id)===-1});this.store.dispatch(new Hy),e&&(e.set(a_({},jo,{strokeWidth:e.strokeWidth})),this.canvas.render())},n.prototype.openBrushControls=function(){this.store.dispatch(new Wy)},n.prototype.getAllDrawings=function(){return this.canvas.fabric().getObjects().filter(function(t){return t.name===oi.drawing.name})},A([_n(tl.brushControlsOpen),E("design:type",c)],n.prototype,"brushControlsOpen$",void 0),n}(),WT=function(n){var t=new De.fabric.PatternBrush(n);return t.getPatternSrc=function(){var e=document.createElement("canvas");e.width=e.height=10;var i=e.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(0,5),i.lineTo(10,5),i.closePath(),i.stroke(),e},t},XT=function(n){var t=new De.fabric.PatternBrush(n);return t.getPatternSrc=function(){var e=document.createElement("canvas");e.width=e.height=10;var i=e.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(5,0),i.lineTo(5,10),i.closePath(),i.stroke(),e},t},YT=function(n){var t=new De.fabric.PatternBrush(n);return t.getPatternSrc=function(){var e=document.createElement("canvas");e.width=e.height=12;var i=e.getContext("2d");return i.fillStyle=this.color,i.fillRect(0,0,10,10),e},t},pc=function(){function n(t,e){this.config=t,this.canvasState=e,this.enabled=!1,this.customBrushes={VLineBrush:WT(this.canvasState.fabric),HLineBrush:XT(this.canvasState.fabric),SquareBrush:YT(this.canvasState.fabric)},this.currentBrush={type:"PencilBrush",color:this.config.get("pixie.objectDefaults.fill"),width:fm[1]}}return n.prototype.enable=function(){this.canvasState.fabric.isDrawingMode=!0,this.setBrushType(this.currentBrush.type),this.enabled=!0,this.canvasState.fabric.on("object:added",this.onDrawingAdded)},n.prototype.disable=function(){this.canvasState.fabric.isDrawingMode=!1,this.enabled=!1,this.canvasState.fabric.off("object:added",this.onDrawingAdded)},n.prototype.getBrushType=function(){return this.currentBrush.type},n.prototype.setBrushType=function(t){this.currentBrush.type=t;var e=De.fabric[t]?new De.fabric[t](this.canvasState.fabric):this.customBrushes[t];this.canvasState.fabric.freeDrawingBrush=e,this.applyBrushStyles()},n.prototype.applyBrushStyles=function(){var t=this;Object.keys(this.currentBrush).forEach(function(e){t.canvasState.fabric.freeDrawingBrush[e]=t.currentBrush[e]})},n.prototype.setBrushSize=function(t){this.currentBrush.width=t,this.applyBrushStyles()},n.prototype.getBrushSize=function(){return this.currentBrush.width},n.prototype.setBrushColor=function(t){this.currentBrush.color=t,this.applyBrushStyles()},n.prototype.getBrushColor=function(){return this.currentBrush.color},n.prototype.onDrawingAdded=function(t){t.target.type==="path"&&(t.target.name=oi.drawing.name)},n}(),GT=Pe({encapsulation:2,styles:[["draw-drawer .brush-sizes{margin-left:25px}draw-drawer .brush-sizes .sizes{display:flex;align-items:center;margin-top:16px}draw-drawer .brush-sizes .sizes .size{width:10px;height:10px;max-width:30px;max-height:30px;border:3px solid currentColor;margin:0 8px;border-radius:50%}draw-drawer .brush-sizes .sizes .size.selected{border-color:#009688}draw-drawer .brush-sizes .bottom-label{margin-top:17px}draw-drawer .brush-type-button-wrapper{margin:0 15px}@media only screen and (max-width:599.99px){draw-drawer .main-content{flex-direction:column;justify-content:center}draw-drawer .bottom-label{display:none}draw-drawer .brush-type-button-wrapper{position:absolute;right:5px;bottom:10px}draw-drawer color-widget{margin-right:auto}draw-drawer .brush-sizes{margin-left:auto}draw-drawer .brush-sizes .sizes{margin-top:10px}draw-drawer.controls-drawer .brush-types-content{justify-content:flex-start}}"]],data:{}});function qT(n){return wt(0,[(n()(),P(0,0,null,null,2,"button",[["class","no-style size control"]],[[2,"selected",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.drawTool.setBrushSize(t.context.$implicit)!==!1&&r),r},null,null)),D(1,278528,null,0,ws,[Pi,lt,un],{ngStyle:[0,"ngStyle"]},null),Dh(2,{width:0,height:1})],function(t,e){var i=t(e,2,0,e.context.$implicit+"px",e.context.$implicit+"px");t(e,1,0,i)},function(t,e){t(e,0,0,e.component.drawTool.getBrushSize()===e.context.$implicit)})}function KT(n){return wt(0,[(n()(),P(0,0,null,null,1,"button",[["class","no-style button-with-image"]],[[2,"selected",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.setBrushType(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,i.drawTool.getBrushType()==e.context.$implicit),t(e,1,0,i.getBrushPreviewUrl(e.context.$implicit),$r(1,"",e.context.$implicit," brush preview"))})}function ZT(n){return wt(2,[(n()(),P(0,0,null,null,25,"div",[["class","content main-content"]],[[2,"hidden",null]],null,null,null,null)),je(131072,We,[ee]),(n()(),P(2,0,null,null,7,"color-widget",[["class","color-widget"],["trans",""]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,i){var r=!0,o=t.component;return e==="ngModelChange"&&(r=(o.drawTool.currentBrush.color=i)!==!1&&r),e==="ngModelChange"&&(r=o.drawTool.setBrushColor(i)!==!1&&r),r},$o,Qo)),D(3,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(5,671744,null,0,lo,[[8,null],[8,null],[8,null],[6,ve]],{model:[0,"model"]},{update:"ngModelChange"}),$t(2048,null,me,null,[lo]),D(7,16384,null,0,Cn,[[4,me]],null,null),D(8,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,0,["Brush Color"])),(n()(),P(10,0,null,null,7,"div",[["class","brush-type-button-wrapper"]],null,null,null,null,null)),(n()(),P(11,0,null,null,3,"button",[["class","round-action-button"],["mat-icon-button",""]],[[4,"color",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openBrushControls()!==!1&&r),r},tn,$e)),D(12,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(13,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","pencil-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(14,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(15,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(16,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Brush Type"])),(n()(),P(18,0,null,null,7,"div",[["class","brush-sizes brush-controls"]],null,null,null,null,null)),(n()(),P(19,0,null,null,3,"div",[["class","sizes controls"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,qT)),D(21,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(131072,We,[ee]),(n()(),P(23,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(24,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Brush Size"])),(n()(),P(26,0,null,null,4,"div",[["class","content brush-types-content"]],[[2,"hidden",null]],null,null,null,null)),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,2,null,KT)),D(29,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,5,0,i.drawTool.currentBrush.color),t(e,14,0,"pencil-custom"),t(e,21,0,fe(e,21,0,d(e,22).transform(i.brushSizes$))),t(e,29,0,fe(e,29,0,d(e,30).transform(i.brushTypes$)))},function(t,e){var i=e.component;t(e,0,0,fe(e,0,0,d(e,1).transform(i.brushControlsOpen$))),t(e,2,0,d(e,3).compact,d(e,7).ngClassUntouched,d(e,7).ngClassTouched,d(e,7).ngClassPristine,d(e,7).ngClassDirty,d(e,7).ngClassValid,d(e,7).ngClassInvalid,d(e,7).ngClassPending),t(e,11,0,i.drawTool.getBrushColor(),d(e,12).disabled||null,d(e,12)._animationMode==="NoopAnimations"),t(e,13,0,d(e,14).inline,d(e,14).color!=="primary"&&d(e,14).color!=="accent"&&d(e,14).color!=="warn"),t(e,26,0,!fe(e,26,0,d(e,27).transform(i.brushControlsOpen$)))})}var dc=function(){function n(t){this.overlayPanel=t,this.selectedFont$=new cr(null)}return n.prototype.openGoogleFontsPanel=function(){var t=this;this.overlayPanel.open(Ud,{position:"center",origin:"global"}).valueChanged().subscribe(function(e){t.selectedFont$.next(e),t.propagateChange(e)})},n.prototype.writeValue=function(t){this.selectedFont$.next(t)},n.prototype.registerOnChange=function(t){this.propagateChange=t},n.prototype.registerOnTouched=function(){},n}(),l_=Pe({encapsulation:2,styles:[["text-font-selector{display:block;position:relative;font-size:16px;font-weight:500;border:1px solid #e0e0e0;padding:0 10px;width:170px;border-radius:4px}text-font-selector button.select-font-button{display:inline-flex;align-items:center;width:100%;line-height:inherit}text-font-selector button.select-font-button .text{flex:1 1 auto;text-align:center;max-width:calc(100% - 24px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}text-font-selector button.select-font-button .mat-icon{flex:0 0 24px}text-font-selector button.select-font-button svg{display:block}"]],data:{}});function u_(n){return wt(2,[(n()(),P(0,0,null,null,6,"button",[["class","select-font-button no-style"]],[[4,"fontFamily",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openGoogleFontsPanel()!==!1&&r),r},null,null)),je(131072,We,[ee]),(n()(),P(2,0,null,null,2,"span",[["class","text"]],null,null,null,null,null)),(n()(),Gt(3,null,["",""])),je(131072,We,[ee]),(n()(),P(5,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","keyboard-arrow-down"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(6,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,6,0,"keyboard-arrow-down")},function(t,e){var i=e.component;t(e,0,0,fe(e,0,0,d(e,1).transform(i.selectedFont$))),t(e,3,0,fe(e,3,0,d(e,4).transform(i.selectedFont$))),t(e,5,0,d(e,6).inline,d(e,6).color!=="primary"&&d(e,6).color!=="accent"&&d(e,6).color!=="warn")})}var JT=function(){function n(t,e){this.store=t,this.activeObject=e}return n.prototype.addText=function(){this.store.dispatch(new ad)},n}(),QT=Pe({encapsulation:2,styles:[["text-drawer{display:block}text-drawer .font-selector-wrapper{margin-left:25px}text-drawer text-font-selector{line-height:48px;margin-bottom:10px}text-drawer .add-text-button-wrapper{margin:0 25px}@media only screen and (max-width:599.99px){text-drawer{overflow:hidden}text-drawer.controls-drawer .content{flex-wrap:wrap}text-drawer.controls-drawer .bottom-label{display:none}text-drawer.controls-drawer .add-text-button-wrapper{margin-left:auto;margin-bottom:5px}text-drawer.controls-drawer .add-text-button{background-color:#009688;color:#fff;border:none;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);margin-bottom:3px}text-drawer.controls-drawer text-font-selector{margin-left:0}}"]],data:{}});function $T(n){return wt(2,[(n()(),P(0,0,null,null,28,"div",[["class","content"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,1).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,1).onReset()!==!1&&r),r},null,null)),D(1,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(3,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(4,0,null,null,7,"color-widget",[["class","color-widget"],["formControlName","fill"],["trans",""]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$o,Qo)),D(5,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(7,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(9,16384,null,0,Cn,[[4,me]],null,null),D(10,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,0,["Color Picker"])),(n()(),P(12,0,null,null,6,"div",[["class","add-text-button-wrapper"]],null,null,null,null,null)),(n()(),P(13,0,null,null,2,"div",[["class","round-action-button add-text-button"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.addText()!==!1&&r),r},null,null)),(n()(),P(14,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","add"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(15,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(16,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(17,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Add Text"])),(n()(),P(19,0,null,null,9,"div",[["class","font-selector-wrapper"]],null,null,null,null,null)),(n()(),P(20,0,null,null,5,"text-font-selector",[["formControlName","fontFamily"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,u_,l_)),D(21,49152,null,0,dc,[ji],null,null),$t(1024,null,ve,function(t){return[t]},[dc]),D(23,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(25,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(26,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(27,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Font"]))],function(t,e){t(e,1,0,e.component.activeObject.form),t(e,7,0,"fill"),t(e,15,0,"add"),t(e,23,0,"fontFamily")},function(t,e){t(e,0,0,d(e,3).ngClassUntouched,d(e,3).ngClassTouched,d(e,3).ngClassPristine,d(e,3).ngClassDirty,d(e,3).ngClassValid,d(e,3).ngClassInvalid,d(e,3).ngClassPending),t(e,4,0,d(e,5).compact,d(e,9).ngClassUntouched,d(e,9).ngClassTouched,d(e,9).ngClassPristine,d(e,9).ngClassDirty,d(e,9).ngClassValid,d(e,9).ngClassInvalid,d(e,9).ngClassPending),t(e,14,0,d(e,15).inline,d(e,15).color!=="primary"&&d(e,15).color!=="accent"&&d(e,15).color!=="warn"),t(e,20,0,d(e,25).ngClassUntouched,d(e,25).ngClassTouched,d(e,25).ngClassPristine,d(e,25).ngClassDirty,d(e,25).ngClassValid,d(e,25).ngClassInvalid,d(e,25).ngClassPending)})}var tI=function(){function n(t,e){this.config=t,this.store=e,this.shapes=this.config.get("pixie.tools.shapes.items")}return n.prototype.addShape=function(t){this.store.dispatch(new $p(t))},A([_n(Qa.dirty),E("design:type",c)],n.prototype,"dirty$",void 0),n}(),eI=Pe({encapsulation:2,styles:[["shapes-drawer{display:block}shapes-drawer .content.stickers-visible{justify-content:flex-start}shapes-drawer .button-with-image>svg path{fill:transparent;stroke:currentColor;stroke-width:25}shapes-drawer .basic-shape{margin:0 10px;cursor:pointer}shapes-drawer .basic-shape .preview{background-color:#009688;height:50px}shapes-drawer .basic-shape .rectangle{width:50px}shapes-drawer .basic-shape .circle{width:50px;border-radius:50%}shapes-drawer .basic-shape .triangle{width:50px;background-color:transparent;border-left:18px solid transparent;border-right:18px solid transparent;border-bottom:33px solid #009688}shapes-drawer .basic-shape .ellipse{width:80px;height:50px;border-radius:50%}shapes-drawer .stickers-drawer .content-wrapper>.shapes{justify-content:initial}shapes-drawer .shape:first-of-type{margin-left:0}@media only screen and (max-width:768px){shapes-drawer.controls-drawer .content{justify-content:flex-start}}"]],data:{}});function nI(n){return wt(0,[(n()(),P(0,0,null,null,1,":svg:svg",[["viewBox","0 -100 512 700"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),P(1,0,null,null,0,":svg:path",[],[[1,"d",0],[1,"stroke-width",0]],null,null,null,null))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.options.path,e.parent.context.$implicit.options.strokeWidth||10)})}function iI(n){return wt(0,[(n()(),P(0,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(1,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,1,0,e.parent.context.$implicit.name+"-custom")},function(t,e){t(e,0,0,d(e,1).inline,d(e,1).color!=="primary"&&d(e,1).color!=="accent"&&d(e,1).color!=="warn")})}function rI(n){return wt(0,[(n()(),P(0,0,null,null,7,"button",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.addShape(t.context.$implicit.name)!==!1&&r),r},null,null)),(n()(),Rt(16777216,null,null,1,null,nI)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),Rt(16777216,null,null,1,null,iI)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(5,0,null,null,2,"span",[["class","name bottom-label"],["trans",""]],null,null,null,null,null)),D(6,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(7,null,["",""]))],function(t,e){t(e,2,0,e.context.$implicit.type==="Path"),t(e,4,0,e.context.$implicit.type!=="Path")},function(t,e){t(e,7,0,e.context.$implicit.name)})}function oI(n){return wt(2,[(n()(),P(0,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,rI)),D(2,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.shapes)},null)}var sI=function(){function n(t,e,i){this.shapesTool=t,this.config=e,this.store=i,this.categories=this.config.get("pixie.tools.stickers.items")}return n.prototype.addSticker=function(t,e){var i=this;this.shapesTool.addSticker(t,e).then(function(){i.store.dispatch(new Yy)})},n.prototype.openStickersCategory=function(t){this.store.dispatch(new id(t))},n.prototype.getStickersIterable=function(t){return t.list?t.list:Array.from(Array(t.items).keys())},A([_n(el.activeCategory),E("design:type",c)],n.prototype,"activeCategory$",void 0),n}(),aI=Pe({encapsulation:2,styles:[["stickers-drawer .button-with-image.dark-bg{background-color:rgba(0,0,0,.12)}"]],data:{}});function lI(n){return wt(0,[(n()(),P(0,0,null,null,2,"span",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(2,null,["",""]))],null,function(t,e){t(e,2,0,e.parent.context.$implicit)})}function uI(n){return wt(0,[(n()(),P(0,0,[["button",1]],null,3,"button",[["class","sticker button-with-image"]],[[2,"no-label",null],[2,"dark-bg",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(t.component.addSticker(t.parent.context.ngIf,t.context.$implicit),r=d(t,0).blur()!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,0,"img",[["alt","Sticker preview image"]],[[8,"src",4]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,lI)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.parent.context.ngIf.list)},function(t,e){var i=e.component;t(e,0,0,!e.parent.context.ngIf.list,e.parent.context.ngIf.darkBg),t(e,1,0,i.shapesTool.getStickerUrl(e.parent.context.ngIf,e.context.$implicit))})}function cI(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,uI)),D(2,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.getStickersIterable(e.context.ngIf))},null)}function hI(n){return wt(0,[(n()(),P(0,0,null,null,4,"div",[["class","category button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openStickersCategory(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,0,"img",[["alt","Sticker category preview image"]],[[8,"src",4]],null,null,null,null)),(n()(),P(2,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(4,null,["",""]))],null,function(t,e){t(e,1,0,e.component.shapesTool.getStickerCategoryUrl(e.context.$implicit)),t(e,4,0,e.context.$implicit.name)})}function pI(n){return wt(0,[(n()(),P(0,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,hI)),D(2,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.categories)},null)}function dI(n){return wt(2,[(n()(),Rt(16777216,null,null,2,null,cI)),D(1,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),je(131072,We,[ee]),(n()(),Rt(0,[["categoryList",2]],null,0,null,pI))],function(t,e){var i=e.component;t(e,1,0,fe(e,1,0,d(e,2).transform(i.activeCategory$)),d(e,3))},null)}var fI=function(){function n(t,e){this.activeObject=t,this.roundTool=e,this.radius=50}return n.prototype.ngOnInit=function(){this.roundTool.showPreview()},n.prototype.ngOnDestroy=function(){this.roundTool.hidePreview()},n}(),gI=Pe({encapsulation:2,styles:[[""]],data:{}});function mI(n){return wt(2,[(n()(),P(0,0,null,null,10,"div",[["class","content"]],null,null,null,null,null)),(n()(),P(1,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(2,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(3,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Radius"])),(n()(),P(5,0,null,null,5,"mat-slider",[["class","mat-slider"],["max","300"],["min","1"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0,o=t.component;return e==="focus"&&(r=d(t,6)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,6)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,6)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,6)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,6)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,6)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,6)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,6)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,6)._onSlideStart(i)!==!1&&r),e==="input"&&(r=o.roundTool.updatePreview(i.value)!==!1&&r),e==="ngModelChange"&&(r=(o.radius=i)!==!1&&r),r},Er,kr)),D(6,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},{input:"input"}),$t(1024,null,ve,function(t){return[t]},[ei]),D(8,671744,null,0,lo,[[8,null],[8,null],[8,null],[6,ve]],{model:[0,"model"]},{update:"ngModelChange"}),$t(2048,null,me,null,[lo]),D(10,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,6,0,"300","1"),t(e,8,0,i.radius)},function(t,e){t(e,5,1,[d(e,6).tabIndex,d(e,6).disabled,d(e,6).max,d(e,6).min,d(e,6).value,d(e,6).vertical?"vertical":"horizontal",d(e,6).disabled,d(e,6).tickInterval,!d(e,6).vertical,d(e,6)._invertAxis,d(e,6)._isSliding,d(e,6).thumbLabel,d(e,6).vertical,d(e,6)._isMinValue,d(e,6).disabled||d(e,6)._isMinValue&&d(e,6)._thumbGap&&d(e,6)._invertAxis,d(e,6)._animationMode==="NoopAnimations",d(e,10).ngClassUntouched,d(e,10).ngClassTouched,d(e,10).ngClassPristine,d(e,10).ngClassDirty,d(e,10).ngClassValid,d(e,10).ngClassInvalid,d(e,10).ngClassPending])})}var vI=function(){function n(t,e,i){this.frameTool=t,this.activeFrame=e,this.store=i,this.frameControlsForm=new _r({size:new ti,color:new ti})}return n.prototype.ngOnInit=function(){var t=this;this.frameControlsForm.get("color").valueChanges.subscribe(function(e){t.frameTool.changeColor(e)}),this.frameControlsForm.valueChanges.pipe(No(150)).subscribe(function(){t.markAsDirty()})},n.prototype.getFrameThumbUrl=function(t){return this.frameTool.patterns.getBaseUrl(t)+"/thumbnail.png"},n.prototype.selectFrame=function(t){this.markAsDirty(),this.frameTool.add(t.name)},n.prototype.scaleFrame=function(t){this.frameTool.resize(t)},n.prototype.frameIsActive=function(t){return this.activeFrame.is(t)},n.prototype.removeFrame=function(){this.activeFrame.remove()},n.prototype.showFrameConfig=function(t){this.frameControlsForm.patchValue({size:t.size.default},{emitEvent:!1}),this.store.dispatch(new zy)},n.prototype.markAsDirty=function(){this.store.dispatch(new Vy)},A([_n($a.controlsOpen),E("design:type",c)],n.prototype,"controlsOpen$",void 0),n}(),c_=function(){return(c_=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},ml=function(){function n(t,e,i){this.config=t,this.activeFrame=e,this.canvas=i}return n.prototype.fillParts=function(t){var e=this;this.patternCache.forEach(function(i){e.fillPartWithPattern(i,t)})},n.prototype.fillPartWithPattern=function(t,e){var i=new De.fabric.StaticCanvas;i.add(t.img);var r=new De.fabric.Pattern({source:function(){var o=t.img.getScaledWidth(),s=t.img.getScaledHeight();return o>1&&s>1&&(i.setDimensions({width:o,height:s}),i.renderAll()),i.getElement()},repeat:e==="repeat"?"repeat":"no-repeat"});this.activeFrame[t.name].set("fill",r)},n.prototype.scale=function(t){var e=this,i=this.activeFrame.config.mode;this.patternCache&&(t/=this.canvas.fabric().getRetinaScaling(),this.patternCache.forEach(function(r){r.name==="top"||r.name==="bottom"?i==="stretch"?(e.scalePatternToWidth(r.img,e.canvas.state.original.width-2*t+4),e.scalePatternToHeight(r.img,t)):r.img.scaleToHeight(t):r.name!=="left"&&r.name!=="right"||i!=="stretch"?r.img.scaleToWidth(t):(e.scalePatternToWidth(r.img,t),e.scalePatternToHeight(r.img,e.canvas.state.original.height-2*t+4))}))},n.prototype.scalePatternToWidth=function(t,e){var i=t.getBoundingRect().width/t.getScaledWidth();t.set("scaleX",e/t.width/i),t.setCoords()},n.prototype.scalePatternToHeight=function(t,e){var i=t.getBoundingRect().height/t.getScaledHeight();t.set("scaleY",e/t.height/i),t.setCoords()},n.prototype.load=function(t){var e=this,i=this.activeFrame.getPartNames().map(function(r){return new Promise(function(o){var s=e.config.get("pixie.crossOrigin"),f=new Image;f.crossOrigin=s,f.setAttribute("crossorigin",s),f.onload=function(){var _=c_({},jo,{crossOrigin:s});o({name:r,img:new De.fabric.Image(f,_)})},f.src=e.getPartUrl(t,r)})});return Promise.all(i).then(function(r){e.patternCache=r,e.fillParts(t.mode)})},n.prototype.getPartUrl=function(t,e){return this.getBaseUrl(t)+"/"+e+".png"},n.prototype.getBaseUrl=function(t){return this.config.getAssetUrl("images/frames/"+t.name)},n}(),_o=function(){function n(t){this.canvas=t,this.corners=["topLeft","topRight","bottomLeft","bottomRight"],this.sides=["top","right","bottom","left"]}return n.prototype.getPartNames=function(){return this.corners.concat(this.sides)},n.prototype.exists=function(){return this.config!=null},n.prototype.remove=function(){var t=this;this.exists()&&(this.canvas.fabric().remove(this.group),this.group.off(),this.group=null,this.config=null,this.getPartNames().forEach(function(e){t[e]=null}),this.canvas.render())},n.prototype.is=function(t){return!!this.config&&this.config.name===t.name},n.prototype.changeColor=function(t){var e=this;this.config.mode==="basic"&&(this.getPartNames().forEach(function(i){e[i].set("fill",t)}),this.canvas.render())},n.prototype.isBasic=function(){return this.config&&this.config.mode==="basic"},n.prototype.getMinSize=function(){if(this.exists())return this.config.size.min||1},n.prototype.getMaxSize=function(){if(this.exists())return this.config.size.max||35},n.prototype.getDefaultSize=function(){if(this.exists())return this.config.size.default||15},n}(),fc=function(){function n(t,e,i,r){this.config=t,this.activeFrame=e,this.canvas=i,this.patterns=r}return n.prototype.build=function(t,e){var i=this;if(this.createGroup(t),this.createParts(),this.resize(e),this.activeFrame.config=t,this.canvas.fabric().add(this.activeFrame.group),t.mode==="basic")return this.canvas.render();this.patterns.load(t).then(function(){i.patterns.scale(e),i.canvas.render()})},n.prototype.createGroup=function(t){this.activeFrame.group=new De.fabric.Group([],Object.assign({name:"frame.group",excludeFromExport:!0,width:this.canvas.state.original.width,height:this.canvas.state.original.height,data:{frameName:t.name}},jo))},n.prototype.createParts=function(){var t=this;this.activeFrame.getPartNames().forEach(function(e){t.activeFrame[e]=new De.fabric.Rect(Object.assign({},jo,{name:"frame.rect."+e})),t.activeFrame.group.add(t.activeFrame[e])})},n.prototype.resize=function(t){var e=this.canvas.state.original.width,i=this.canvas.state.original.height,r=this.activeFrame,o=t;this.positionPart("topLeft",{width:o,height:o}),this.positionPart("topRight",{left:e-r.topLeft.getScaledWidth(),width:o,height:o}),this.positionPart("top",{left:r.topLeft.getScaledWidth()-2,width:e-r.topLeft.getScaledWidth()-r.topRight.getScaledWidth()+4,height:o}),this.positionPart("bottomLeft",{top:i-r.topLeft.getScaledHeight(),width:o,height:o}),this.positionPart("left",{top:r.topLeft.getScaledHeight()-2,width:o,height:i-r.topLeft.getScaledHeight()-r.bottomLeft.getScaledHeight()+4}),this.positionPart("bottomRight",{left:e-r.bottomLeft.getScaledWidth(),top:i-r.topRight.getScaledWidth(),width:o,height:o}),this.positionPart("bottom",{left:r.bottomLeft.getScaledWidth()-2,top:i-r.top.getScaledHeight(),width:r.top.getScaledWidth()+4,height:o}),this.positionPart("right",{left:e-r.left.getScaledWidth(),top:r.topRight.getScaledHeight()-2,width:r.left.width,height:i-r.topRight.getScaledHeight()-r.bottomRight.getScaledHeight()+4})},n.prototype.positionPart=function(t,e){e.top=-this.activeFrame.group.height/2+(e.top||0),e.left=-this.activeFrame.group.width/2+(e.left||0),this.activeFrame[t].set(e)},n}(),Bs=function(){function n(t,e,i,r,o){var s=this;this.config=t,this.canvas=e,this.patterns=i,this.activeFrame=r,this.frameBuilder=o,this.frames=[],this.config.onChange.subscribe(function(){s.frames=s.config.get("pixie.tools.frame.items")}),this.canvas.state.loaded.subscribe(function(){s.canvas.fabric().on("object:added",function(){s.activeFrame.group&&s.activeFrame.group.moveTo(98)})})}return n.prototype.add=function(t){var e=this.getByName(t);if(!this.activeFrame.is(e)){this.activeFrame.exists()&&this.activeFrame.remove();var i=this.calcFrameSize(e.size.default);this.frameBuilder.build(e,i)}},n.prototype.resize=function(t){var e=this.calcFrameSize(t);this.frameBuilder.resize(e),this.patterns.scale(e),this.canvas.render()},n.prototype.changeColor=function(t){this.activeFrame.changeColor(t)},n.prototype.remove=function(){this.activeFrame.remove()},n.prototype.getByName=function(t){return this.getAll().find(function(e){return e.name===t})},n.prototype.getActive=function(){return this.activeFrame.config},n.prototype.getAll=function(){return this.frames},n.prototype.calcFrameSize=function(t){return t/100*Math.min(this.canvas.state.original.width,this.canvas.state.original.height)},n.ngInjectableDef=Ce({factory:function(){return new n(re(Bt),re(bn),re(ml),re(_o),re(fc))},token:n,providedIn:"root"}),n}(),yI=Pe({encapsulation:2,styles:[["frame-drawer .button-with-image{position:relative}frame-drawer .button-with-image img{border-radius:4px;width:65px;height:65px}frame-drawer .button-with-image .bottom-label{margin-top:3px;font-size:11px}@media only screen and (max-width:599.99px){frame-drawer.controls-drawer .main-content{justify-content:flex-start}frame-drawer .frame-controls{padding:0 15px}}"]],data:{}});function bI(n){return wt(0,[(n()(),P(0,0,null,null,8,"div",[["class","overlay"]],null,null,null,null,null)),(n()(),P(1,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(t.component.removeFrame(),r=i.stopPropagation()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(3,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","cancel"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(4,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(5,0,null,null,3,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(t.component.showFrameConfig(t.parent.context.$implicit),r=i.stopPropagation()!==!1&&r),r},tn,$e)),D(6,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(7,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","settings"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(8,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){t(e,4,0,"cancel"),t(e,8,0,"settings")},function(t,e){t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,3,0,d(e,4).inline,d(e,4).color!=="primary"&&d(e,4).color!=="accent"&&d(e,4).color!=="warn"),t(e,5,0,d(e,6).disabled||null,d(e,6)._animationMode==="NoopAnimations"),t(e,7,0,d(e,8).inline,d(e,8).color!=="primary"&&d(e,8).color!=="accent"&&d(e,8).color!=="warn")})}function _I(n){return wt(0,[(n()(),P(0,0,null,null,7,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.selectFrame(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,3,"div",[["class","image-container"]],null,null,null,null,null)),(n()(),P(2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,bI)),D(4,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(5,0,null,null,2,"span",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(6,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(7,null,["",""]))],function(t,e){t(e,4,0,e.component.frameIsActive(e.context.$implicit))},function(t,e){t(e,2,0,e.component.getFrameThumbUrl(e.context.$implicit)),t(e,7,0,e.context.$implicit.display_name||e.context.$implicit.name)})}function wI(n){return wt(0,[(n()(),P(0,0,null,null,5,"color-widget",[["class","color-widget"],["formControlName","color"]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$o,Qo)),D(1,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(3,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(5,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){t(e,3,0,"color")},function(t,e){t(e,0,0,d(e,1).compact,d(e,5).ngClassUntouched,d(e,5).ngClassTouched,d(e,5).ngClassPristine,d(e,5).ngClassDirty,d(e,5).ngClassValid,d(e,5).ngClassInvalid,d(e,5).ngClassPending)})}function xI(n){return wt(2,[(n()(),P(0,0,null,null,3,"section",[["class","content main-content"]],[[2,"hidden",null]],null,null,null,null)),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,1,null,_I)),D(3,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null),(n()(),P(4,0,null,null,16,"section",[["class","content frame-controls"]],[[2,"hidden",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,5).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,5).onReset()!==!1&&r),r},null,null)),D(5,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(7,16384,null,0,Fr,[[4,Xe]],null,null),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,1,null,wI)),D(10,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(11,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(12,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(13,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Size"])),(n()(),P(15,0,null,null,5,"mat-slider",[["class","mat-slider"],["formControlName","size"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0,o=t.component;return e==="focus"&&(r=d(t,16)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,16)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,16)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,16)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,16)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,16)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,16)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,16)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,16)._onSlideStart(i)!==!1&&r),e==="input"&&(r=o.scaleFrame(i.value)!==!1&&r),r},Er,kr)),D(16,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},{input:"input"}),$t(1024,null,ve,function(t){return[t]},[ei]),D(18,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(20,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,3,0,i.frameTool.getAll()),t(e,5,0,i.frameControlsForm),t(e,10,0,i.activeFrame.isBasic()),t(e,16,0,i.activeFrame.getMaxSize(),i.activeFrame.getMinSize()),t(e,18,0,"size")},function(t,e){var i=e.component;t(e,0,0,fe(e,0,0,d(e,1).transform(i.controlsOpen$))),t(e,4,0,!fe(e,4,0,d(e,8).transform(i.controlsOpen$)),d(e,7).ngClassUntouched,d(e,7).ngClassTouched,d(e,7).ngClassPristine,d(e,7).ngClassDirty,d(e,7).ngClassValid,d(e,7).ngClassInvalid,d(e,7).ngClassPending),t(e,15,1,[d(e,16).tabIndex,d(e,16).disabled,d(e,16).max,d(e,16).min,d(e,16).value,d(e,16).vertical?"vertical":"horizontal",d(e,16).disabled,d(e,16).tickInterval,!d(e,16).vertical,d(e,16)._invertAxis,d(e,16)._isSliding,d(e,16).thumbLabel,d(e,16).vertical,d(e,16)._isMinValue,d(e,16).disabled||d(e,16)._isMinValue&&d(e,16)._thumbGap&&d(e,16)._invertAxis,d(e,16)._animationMode==="NoopAnimations",d(e,20).ngClassUntouched,d(e,20).ngClassTouched,d(e,20).ngClassPristine,d(e,20).ngClassDirty,d(e,20).ngClassValid,d(e,20).ngClassInvalid,d(e,20).ngClassPending])})}var CI=function(){function n(t,e){this.store=t,this.canvas=e,this.colorControl=new ti}return n.prototype.ngOnInit=function(){var t=this;this.colorControl.valueChanges.subscribe(function(e){e&&(t.canvas.fabric().setBackgroundColor(e),t.canvas.render(),t.store.dispatch(new Gy))})},n}(),SI=Pe({encapsulation:2,styles:[[""]],data:{}});function kI(n){return wt(2,[(n()(),P(0,0,null,null,8,"div",[["class","content"]],null,null,null,null,null)),(n()(),P(1,0,null,null,7,"color-widget",[["class","color-widget"],["trans",""]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$o,Qo)),D(2,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(4,540672,null,0,uo,[[8,null],[8,null],[6,ve],[2,Dn]],{form:[0,"form"]},null),$t(2048,null,me,null,[uo]),D(6,16384,null,0,Cn,[[4,me]],null,null),D(7,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,0,["Canvas Background"]))],function(t,e){t(e,4,0,e.component.colorControl)},function(t,e){t(e,1,0,d(e,2).compact,d(e,6).ngClassUntouched,d(e,6).ngClassTouched,d(e,6).ngClassPristine,d(e,6).ngClassDirty,d(e,6).ngClassValid,d(e,6).ngClassInvalid,d(e,6).ngClassPending)})}var wo=new de("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),h_=function(){return function(){}}(),p_=0,d_=function(){return function(n,t){this.source=n,this.value=t}}(),ir=function(){function n(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+p_++,this.valueChange=new le,this.change=new le,this.appearance=e&&e.appearance?e.appearance:"standard"}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){var e=this;this._name=t,this._buttonToggles&&this._buttonToggles.forEach(function(i){return i.name=e._name})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(function(e){return e.value}):t[0]?t[0].value:void 0},set:function(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){var t=this._selectionModel.selected;return this.multiple?t:t[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiple",{get:function(){return this._multiple},set:function(t){this._multiple=rn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=rn(t),this._buttonToggles&&this._buttonToggles.forEach(function(e){return e._markForCheck()})},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this._selectionModel=new by(this.multiple,void 0,!1)},n.prototype.ngAfterContentInit=function(){var t;(t=this._selectionModel).select.apply(t,this._buttonToggles.filter(function(e){return e.checked}))},n.prototype.writeValue=function(t){this.value=t,this._changeDetector.markForCheck()},n.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},n.prototype.registerOnTouched=function(t){this._onTouched=t},n.prototype.setDisabledState=function(t){this.disabled=t},n.prototype._emitChangeEvent=function(){var t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,i=new d_(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)},n.prototype._syncButtonToggle=function(t,e,i){i===void 0&&(i=!1),this.multiple||!this.selected||t.checked||(this.selected.checked=!1),e?this._selectionModel.select(t):this._selectionModel.deselect(t),i&&this._emitChangeEvent(),this.valueChange.emit(this.value)},n.prototype._isSelected=function(t){return this._selectionModel.isSelected(t)},n.prototype._isPrechecked=function(t){return this._rawValue!==void 0&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(function(e){return t.value!=null&&e===t.value}):t.value===this._rawValue)},n.prototype._setSelectionByValue=function(t){var e=this;if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(function(i){return e._selectValue(i)})}else this._clearSelection(),this._selectValue(t)},n.prototype._clearSelection=function(){this._selectionModel.clear(),this._buttonToggles.forEach(function(t){return t.checked=!1})},n.prototype._selectValue=function(t){var e=this._buttonToggles.find(function(i){return i.value!=null&&i.value===t});e&&(e.checked=!0,this._selectionModel.select(e))},n}(),Vs=function(n){function t(e,i,r,o,s,f){var _=n.call(this)||this;_._changeDetectorRef=i,_._elementRef=r,_._focusMonitor=o,_._isSingleSelector=!1,_._checked=!1,_.ariaLabelledby=null,_._disabled=!1,_.change=new le;var S=Number(s);return _.tabIndex=S||S===0?S:null,_.buttonToggleGroup=e,_.appearance=f&&f.appearance?f.appearance:"standard",_}return k(t,n),Object.defineProperty(t.prototype,"buttonId",{get:function(){return this.id+"-button"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appearance",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(e){this._appearance=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(e){var i=rn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(e){this._disabled=rn(e)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||"mat-button-toggle-"+p_++,this._isSingleSelector&&(this.name=this.buttonToggleGroup.name),this.buttonToggleGroup&&this.buttonToggleGroup._isPrechecked(this)&&(this.checked=!0),this._focusMonitor.monitor(this._elementRef,!0)},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},t.prototype.focus=function(){this._buttonElement.nativeElement.focus()},t.prototype._onButtonClick=function(){var e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new d_(this,this.value))},t.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},t}(Is(function(){return function(){}}())),f_=function(){return function(){}}(),zs=Pe({encapsulation:2,styles:[".mat-button-toggle-group,.mat-button-toggle-standalone{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}@media (-ms-high-contrast:active){.mat-button-toggle-group,.mat-button-toggle-standalone{outline:solid 1px}}.mat-button-toggle-group-appearance-standard,.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{border-radius:4px}@media (-ms-high-contrast:active){.mat-button-toggle-group-appearance-standard,.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}@media (-ms-high-contrast:active){.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media (-ms-high-contrast:active){.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}}@media (hover:none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}@media (-ms-high-contrast:active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}}@media (-ms-high-contrast:active){.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:0 0;color:inherit;padding:0;margin:0;font:inherit;outline:0;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],data:{}});function Hs(n){return wt(2,[Me(402653184,1,{_buttonElement:0}),(n()(),P(1,0,[[1,0],["button",1]],null,2,"button",[["class","mat-button-toggle-button"],["type","button"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-pressed",0],[8,"disabled",0],[1,"name",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component._onButtonClick()!==!1&&r),r},null,null)),(n()(),P(2,0,null,null,1,"div",[["class","mat-button-toggle-label-content"]],null,null,null,null,null)),Gn(null,0),(n()(),P(4,0,null,null,0,"div",[["class","mat-button-toggle-focus-overlay"]],null,null,null,null,null)),(n()(),P(5,0,null,null,1,"div",[["class","mat-button-toggle-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),D(6,212992,null,0,Ps,[lt,xe,he,[2,As],[2,ge]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var i=e.component;t(e,6,0,i.disableRipple||i.disabled,d(e,1))},function(t,e){var i=e.component;t(e,1,0,i.buttonId,i.disabled?-1:i.tabIndex,i.checked,i.disabled||null,i.name||null,i.ariaLabel,i.ariaLabelledby),t(e,5,0,d(e,6).unbounded)})}var EI=function(){function n(t){this.activeObject=t}return n.prototype.setTextStyle=function(t){this.activeObject.form.patchValue({underline:t.value.indexOf("underline")>-1,linethrough:t.value.indexOf("linethrough")>-1,fontStyle:t.value.indexOf("italic")>-1?"italic":"normal"})},n}(),OI=Pe({encapsulation:2,styles:[["text-controls-drawer .mat-button-toggle-group{margin-right:15px}text-controls-drawer text-font-selector{line-height:48px}"]],data:{}});function TI(n){return wt(2,[(n()(),P(0,0,null,null,46,null,null,null,null,function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,1).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,1).onReset()!==!1&&r),r},null,null)),D(1,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(3,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(4,0,null,null,19,"mat-button-toggle-group",[["aria-label","Text Align"],["class","text-align-group mat-button-toggle-group"],["formControlName","textAlign"],["role","group"]],[[1,"aria-disabled",0],[2,"mat-button-toggle-vertical",null],[2,"mat-button-toggle-group-appearance-standard",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),$t(6144,null,h_,null,[ir]),D(6,1130496,null,1,ir,[ee,[2,wo]],null,null),Me(603979776,1,{_buttonToggles:1}),$t(1024,null,ve,function(t){return[t]},[ir]),D(9,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(11,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(12,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","left"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,13).focus()!==!1&&r),r},Hs,zs)),D(13,245760,[[1,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"]},null),(n()(),P(14,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-align-left"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(15,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(16,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","center"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,17).focus()!==!1&&r),r},Hs,zs)),D(17,245760,[[1,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"]},null),(n()(),P(18,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-align-center"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(19,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(20,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","right"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,21).focus()!==!1&&r),r},Hs,zs)),D(21,245760,[[1,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"]},null),(n()(),P(22,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-align-right"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(23,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(24,0,null,null,16,"mat-button-toggle-group",[["aria-label","Text Style"],["class","mat-button-toggle-group"],["role","group"]],[[1,"aria-disabled",0],[2,"mat-button-toggle-vertical",null],[2,"mat-button-toggle-group-appearance-standard",null]],[[null,"change"]],function(t,e,i){var r=!0;return e==="change"&&(r=t.component.setTextStyle(i)!==!1&&r),r},null,null)),$t(5120,null,ve,function(t){return[t]},[ir]),$t(6144,null,h_,null,[ir]),D(27,1130496,null,1,ir,[ee,[2,wo]],{multiple:[0,"multiple"]},{change:"change"}),Me(603979776,2,{_buttonToggles:1}),(n()(),P(29,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","underline"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,30).focus()!==!1&&r),r},Hs,zs)),D(30,245760,[[2,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"],checked:[1,"checked"]},null),(n()(),P(31,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-underlined"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(32,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(33,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","linethrough"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,34).focus()!==!1&&r),r},Hs,zs)),D(34,245760,[[2,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"],checked:[1,"checked"]},null),(n()(),P(35,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-strikethrough"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(36,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(37,0,null,null,3,"mat-button-toggle",[["class","mat-button-toggle"],["value","italic"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[2,"mat-button-toggle-appearance-standard",null],[1,"tabindex",0],[1,"id",0]],[[null,"focus"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,38).focus()!==!1&&r),r},Hs,zs)),D(38,245760,[[2,4]],0,Vs,[[2,ir],ee,lt,ne,[8,null],[2,wo]],{value:[0,"value"],checked:[1,"checked"]},null),(n()(),P(39,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","format-italic"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(40,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(41,0,null,null,5,"text-font-selector",[["formControlName","fontFamily"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,u_,l_)),D(42,49152,null,0,dc,[ji],null,null),$t(1024,null,ve,function(t){return[t]},[dc]),D(44,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(46,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,1,0,i.activeObject.form),t(e,6,0),t(e,9,0,"textAlign"),t(e,13,0,"left"),t(e,15,0,"format-align-left"),t(e,17,0,"center"),t(e,19,0,"format-align-center"),t(e,21,0,"right"),t(e,23,0,"format-align-right"),t(e,27,0,!0),t(e,30,0,"underline",i.activeObject.form.get("underline").value),t(e,32,0,"format-underlined"),t(e,34,0,"linethrough",i.activeObject.form.get("linethrough").value),t(e,36,0,"format-strikethrough"),t(e,38,0,"italic",i.activeObject.form.get("fontStyle").value==="italic"),t(e,40,0,"format-italic"),t(e,44,0,"fontFamily")},function(t,e){t(e,4,0,d(e,6).disabled,d(e,6).vertical,d(e,6).appearance==="standard",d(e,11).ngClassUntouched,d(e,11).ngClassTouched,d(e,11).ngClassPristine,d(e,11).ngClassDirty,d(e,11).ngClassValid,d(e,11).ngClassInvalid,d(e,11).ngClassPending),t(e,12,0,!d(e,13).buttonToggleGroup,d(e,13).checked,d(e,13).disabled,d(e,13).appearance==="standard",-1,d(e,13).id),t(e,14,0,d(e,15).inline,d(e,15).color!=="primary"&&d(e,15).color!=="accent"&&d(e,15).color!=="warn"),t(e,16,0,!d(e,17).buttonToggleGroup,d(e,17).checked,d(e,17).disabled,d(e,17).appearance==="standard",-1,d(e,17).id),t(e,18,0,d(e,19).inline,d(e,19).color!=="primary"&&d(e,19).color!=="accent"&&d(e,19).color!=="warn"),t(e,20,0,!d(e,21).buttonToggleGroup,d(e,21).checked,d(e,21).disabled,d(e,21).appearance==="standard",-1,d(e,21).id),t(e,22,0,d(e,23).inline,d(e,23).color!=="primary"&&d(e,23).color!=="accent"&&d(e,23).color!=="warn"),t(e,24,0,d(e,27).disabled,d(e,27).vertical,d(e,27).appearance==="standard"),t(e,29,0,!d(e,30).buttonToggleGroup,d(e,30).checked,d(e,30).disabled,d(e,30).appearance==="standard",-1,d(e,30).id),t(e,31,0,d(e,32).inline,d(e,32).color!=="primary"&&d(e,32).color!=="accent"&&d(e,32).color!=="warn"),t(e,33,0,!d(e,34).buttonToggleGroup,d(e,34).checked,d(e,34).disabled,d(e,34).appearance==="standard",-1,d(e,34).id),t(e,35,0,d(e,36).inline,d(e,36).color!=="primary"&&d(e,36).color!=="accent"&&d(e,36).color!=="warn"),t(e,37,0,!d(e,38).buttonToggleGroup,d(e,38).checked,d(e,38).disabled,d(e,38).appearance==="standard",-1,d(e,38).id),t(e,39,0,d(e,40).inline,d(e,40).color!=="primary"&&d(e,40).color!=="accent"&&d(e,40).color!=="warn"),t(e,41,0,d(e,46).ngClassUntouched,d(e,46).ngClassTouched,d(e,46).ngClassPristine,d(e,46).ngClassDirty,d(e,46).ngClassValid,d(e,46).ngClassInvalid,d(e,46).ngClassPending)})}var g_=function(){return function(n){this.activeObject=n}}(),m_=Pe({encapsulation:2,styles:[["color-controls-drawer{display:block}color-controls-drawer color-widget{margin:0 auto}"]],data:{}});function v_(n){return wt(2,[(n()(),P(0,0,null,null,6,"color-widget",[["class","color-widget"]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$o,Qo)),D(1,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(3,540672,null,0,uo,[[8,null],[8,null],[6,ve],[2,Dn]],{form:[0,"form"]},null),$t(2048,null,me,null,[uo]),D(5,16384,null,0,Cn,[[4,me]],null,null),Gn(0,0)],function(t,e){var i=e.component;t(e,3,0,i.activeObject.form.get(i.controlName))},function(t,e){t(e,0,0,d(e,1).compact,d(e,5).ngClassUntouched,d(e,5).ngClassTouched,d(e,5).ngClassPristine,d(e,5).ngClassDirty,d(e,5).ngClassValid,d(e,5).ngClassInvalid,d(e,5).ngClassPending)})}var II=function(){function n(t,e){this.overlayPanel=t,this.activeObject=e}return n.prototype.openColorPicker=function(){var t=this;this.overlayPanel.open(Bu,{position:n_,origin:this.colorPickerButton}).valueChanged().subscribe(function(e){t.activeObject.form.get("shadow.color").patchValue(e)})},n}(),AI=Pe({encapsulation:2,styles:[["shadow-controls-drawer{padding:0 20px}@media only screen and (max-width:599.99px){shadow-controls-drawer{padding:0 5px}shadow-controls-drawer .slider-container{margin:0 5px}}"]],data:{}});function PI(n){return wt(0,[Me(402653184,1,{colorPickerButton:0}),(n()(),P(1,0,[[1,0]],null,3,"button",[["class","round-action-button color-picker-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openColorPicker()!==!1&&r),r},tn,$e)),D(2,180224,[["colorPickerButton",4]],0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),P(3,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","color-wheel-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(4,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(5,0,null,null,33,null,null,null,null,function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,6).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,6).onReset()!==!1&&r),r},null,null)),D(6,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(8,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(9,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(10,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(11,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Blur"])),(n()(),P(13,0,null,null,5,"mat-slider",[["class","mat-slider"],["formControlName","blur"],["max","20"],["min","1"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,14)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,14)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,14)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,14)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,14)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,14)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,14)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,14)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,14)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(14,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(16,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(18,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(19,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(20,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(21,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Offset X"])),(n()(),P(23,0,null,null,5,"mat-slider",[["class","mat-slider"],["formControlName","offsetX"],["max","20"],["min","1"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,24)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,24)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,24)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,24)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,24)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,24)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,24)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,24)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,24)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(24,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(26,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(28,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(29,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(30,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(31,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Offset Y"])),(n()(),P(33,0,null,null,5,"mat-slider",[["class","mat-slider"],["formControlName","offsetY"],["max","20"],["min","1"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,34)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,34)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,34)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,34)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,34)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,34)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,34)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,34)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,34)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(34,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(36,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(38,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,4,0,"color-wheel-custom"),t(e,6,0,i.activeObject.form.get("shadow")),t(e,14,0,"20","1"),t(e,16,0,"blur"),t(e,24,0,"20","1"),t(e,26,0,"offsetX"),t(e,34,0,"20","1"),t(e,36,0,"offsetY")},function(t,e){t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,3,0,d(e,4).inline,d(e,4).color!=="primary"&&d(e,4).color!=="accent"&&d(e,4).color!=="warn"),t(e,13,1,[d(e,14).tabIndex,d(e,14).disabled,d(e,14).max,d(e,14).min,d(e,14).value,d(e,14).vertical?"vertical":"horizontal",d(e,14).disabled,d(e,14).tickInterval,!d(e,14).vertical,d(e,14)._invertAxis,d(e,14)._isSliding,d(e,14).thumbLabel,d(e,14).vertical,d(e,14)._isMinValue,d(e,14).disabled||d(e,14)._isMinValue&&d(e,14)._thumbGap&&d(e,14)._invertAxis,d(e,14)._animationMode==="NoopAnimations",d(e,18).ngClassUntouched,d(e,18).ngClassTouched,d(e,18).ngClassPristine,d(e,18).ngClassDirty,d(e,18).ngClassValid,d(e,18).ngClassInvalid,d(e,18).ngClassPending]),t(e,23,1,[d(e,24).tabIndex,d(e,24).disabled,d(e,24).max,d(e,24).min,d(e,24).value,d(e,24).vertical?"vertical":"horizontal",d(e,24).disabled,d(e,24).tickInterval,!d(e,24).vertical,d(e,24)._invertAxis,d(e,24)._isSliding,d(e,24).thumbLabel,d(e,24).vertical,d(e,24)._isMinValue,d(e,24).disabled||d(e,24)._isMinValue&&d(e,24)._thumbGap&&d(e,24)._invertAxis,d(e,24)._animationMode==="NoopAnimations",d(e,28).ngClassUntouched,d(e,28).ngClassTouched,d(e,28).ngClassPristine,d(e,28).ngClassDirty,d(e,28).ngClassValid,d(e,28).ngClassInvalid,d(e,28).ngClassPending]),t(e,33,1,[d(e,34).tabIndex,d(e,34).disabled,d(e,34).max,d(e,34).min,d(e,34).value,d(e,34).vertical?"vertical":"horizontal",d(e,34).disabled,d(e,34).tickInterval,!d(e,34).vertical,d(e,34)._invertAxis,d(e,34)._isSliding,d(e,34).thumbLabel,d(e,34).vertical,d(e,34)._isMinValue,d(e,34).disabled||d(e,34)._isMinValue&&d(e,34)._thumbGap&&d(e,34)._invertAxis,d(e,34)._animationMode==="NoopAnimations",d(e,38).ngClassUntouched,d(e,38).ngClassTouched,d(e,38).ngClassPristine,d(e,38).ngClassDirty,d(e,38).ngClassValid,d(e,38).ngClassInvalid,d(e,38).ngClassPending])})}var DI=function(){return function(n){this.activeObject=n}}(),RI=Pe({encapsulation:2,styles:[["outline-controls-drawer{display:block}outline-controls-drawer .slider-container{margin:0}outline-controls-drawer .content{flex-direction:column}"]],data:{}});function jI(n){return wt(2,[(n()(),P(0,0,null,null,19,null,null,null,null,function(t,e,i){var r=!0;return e==="submit"&&(r=d(t,1).onSubmit(i)!==!1&&r),e==="reset"&&(r=d(t,1).onReset()!==!1&&r),r},null,null)),D(1,540672,null,0,Kn,[[8,null],[8,null]],{form:[0,"form"]},null),$t(2048,null,Xe,null,[Kn]),D(3,16384,null,0,Fr,[[4,Xe]],null,null),(n()(),P(4,0,null,null,5,"color-widget",[["class","color-widget"],["formControlName","stroke"]],[[2,"compact",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$o,Qo)),D(5,49152,null,0,Ni,[ji,Bt],null,null),$t(1024,null,ve,function(t){return[t]},[Ni]),D(7,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(9,16384,null,0,Cn,[[4,me]],null,null),(n()(),P(10,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(11,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(12,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Outline Width"])),(n()(),P(14,0,null,null,5,"mat-slider",[["class","mat-slider"],["formControlName","strokeWidth"],["max","20"],["min","0"],["role","slider"],["step","1"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,15)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,15)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,15)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,15)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,15)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,15)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,15)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,15)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,15)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(15,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"],step:[2,"step"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(17,671744,null,0,Ye,[[3,Xe],[8,null],[8,null],[6,ve],[2,Dn]],{name:[0,"name"]},null),$t(2048,null,me,null,[Ye]),D(19,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){t(e,1,0,e.component.activeObject.form),t(e,7,0,"stroke"),t(e,15,0,"20","0","1"),t(e,17,0,"strokeWidth")},function(t,e){t(e,4,0,d(e,5).compact,d(e,9).ngClassUntouched,d(e,9).ngClassTouched,d(e,9).ngClassPristine,d(e,9).ngClassDirty,d(e,9).ngClassValid,d(e,9).ngClassInvalid,d(e,9).ngClassPending),t(e,14,1,[d(e,15).tabIndex,d(e,15).disabled,d(e,15).max,d(e,15).min,d(e,15).value,d(e,15).vertical?"vertical":"horizontal",d(e,15).disabled,d(e,15).tickInterval,!d(e,15).vertical,d(e,15)._invertAxis,d(e,15)._isSliding,d(e,15).thumbLabel,d(e,15).vertical,d(e,15)._isMinValue,d(e,15).disabled||d(e,15)._isMinValue&&d(e,15)._thumbGap&&d(e,15)._invertAxis,d(e,15)._animationMode==="NoopAnimations",d(e,19).ngClassUntouched,d(e,19).ngClassTouched,d(e,19).ngClassPristine,d(e,19).ngClassDirty,d(e,19).ngClassValid,d(e,19).ngClassInvalid,d(e,19).ngClassPending])})}var FI=function(){function n(t,e,i,r,o){this.activeObject=t,this.settings=e,this.sanitizer=i,this.fillTool=r,this.importTool=o,this.defaultTextures=Array.from(Array(28).keys())}return n.prototype.getTextureBgStyle=function(t){return this.sanitizer.bypassSecurityTrustStyle("url("+this.getTextureUrl(t)+")")},n.prototype.getTextureUrl=function(t){return this.settings.getAssetUrl("images/textures/"+t+".png")},n.prototype.fillWithPattern=function(t){this.fillTool.withPattern(this.getTextureUrl(t))},n.prototype.openUploadDialog=function(){var t=this;this.importTool.importAndGetData().then(function(e){t.fillTool.withPattern(e)})},n}(),af=[{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}},{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#ff4040",1:"#e6399b"}},{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#200772"}},{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:0,y2:0,colorStops:{0:"#FF4F4F",1:"rgb(255, 239, 64)"}},{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:20,y2:20,colorStops:{0:"#ffe47b",.5:"rgb(111,154,211)",1:"rgb(166,111,213)"}},{type:"radial",r1:50,r2:80,x1:45,y1:45,x2:52,y2:50,colorStops:{0:"rgb(155, 237, 0)",1:"rgba(0, 164, 128,0.4)"}},{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"#9ecb2d",.5:"#72aa00",1:"#bfd255"}},{type:"radial",r1:100,r2:50,x1:30,y1:0,x2:0,y2:0,colorStops:{0:"#aebcbf",1:"#0a0809"}},{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffffff",1:"#f6f6f6"}},{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#fefcea",1:"#f1da36"}},{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#ff1a00"}},{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#b7deed",1:"#21b4e2"}},{type:"linear",x1:-80,y1:100,x2:80,y2:-100,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}}],vl=function(){function n(t,e){this.activeObject=t,this.canvas=e}return n.prototype.withPattern=function(t){var e=this;De.fabric.util.loadImage(t,function(i){var r=new De.fabric.Pattern({source:i,repeat:"repeat"});e.activeObject.setValues({fill:r})})},n.prototype.withGradient=function(t,e){e===void 0&&(e="fill");var i=this.activeObject.get();i&&(i.setGradient(e,af[t]),this.activeObject.propsChanged$.next(),this.canvas.render())},n.prototype.addGradient=function(t){af.unshift(t)},n}(),MI=Pe({encapsulation:2,styles:[["texture-controls-drawer .texture{margin:0 5px}texture-controls-drawer .texture:first-of-type{margin-left:0}"]],data:{}});function LI(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","texture button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.fillWithPattern(t.context.$implicit)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,0,"div",[["class","bg-image"]],[[4,"background-image",null]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.getTextureBgStyle(e.context.$implicit))})}function NI(n){return wt(2,[(n()(),P(0,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openUploadDialog()!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","add-image-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(2,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(3,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(4,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Upload"])),(n()(),Rt(16777216,null,null,1,null,LI)),D(7,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,2,0,"add-image-custom"),t(e,7,0,i.defaultTextures)},function(t,e){t(e,1,0,d(e,2).inline,d(e,2).color!=="primary"&&d(e,2).color!=="accent"&&d(e,2).color!=="warn")})}var BI=function(){function n(t,e,i,r){this.activeObject=t,this.settings=e,this.sanitizer=i,this.fillTool=r,this.defaultGradients=af}return n.prototype.getGradientBgStyle=function(t){return this.sanitizer.bypassSecurityTrustStyle("url("+this.getGradientUrl(t)+")")},n.prototype.getGradientUrl=function(t){return this.settings.getAssetUrl("images/gradients/"+t+".png")},n.prototype.fillWithGradient=function(t){this.fillTool.withGradient(t)},n}(),VI=Pe({encapsulation:2,styles:[["@media only screen and (max-width:768px){gradient-controls-drawer{justify-content:flex-start}}"]],data:{}});function zI(n){return wt(0,[(n()(),P(0,0,null,null,1,"div",[["class","gradient button-with-image no-label"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.fillWithGradient(t.context.index)!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,0,"div",[["class","bg-image"]],[[4,"background-image",null]],null,null,null,null))],null,function(t,e){t(e,1,0,e.component.getGradientBgStyle(e.context.index+1))})}function HI(n){return wt(2,[(n()(),Rt(16777216,null,null,1,null,zI)),D(1,278528,null,0,qn,[jt,Lt,An],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.defaultGradients)},null)}var UI=function(){return function(n){this.activeObject=n}}(),WI=Pe({encapsulation:2,styles:[[""]],data:{}});function XI(n){return wt(2,[(n()(),P(0,0,null,null,9,"div",[["class","slider-container"]],null,null,null,null,null)),(n()(),P(1,0,null,null,2,"div",[["class","slider-label"],["trans",""]],null,null,null,null,null)),D(2,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Opacity"])),(n()(),P(4,0,null,null,5,"mat-slider",[["class","mat-slider"],["max","1"],["min","0.1"],["role","slider"],["step","0.1"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,i){var r=!0;return e==="focus"&&(r=d(t,5)._onFocus()!==!1&&r),e==="blur"&&(r=d(t,5)._onBlur()!==!1&&r),e==="mousedown"&&(r=d(t,5)._onMousedown(i)!==!1&&r),e==="keydown"&&(r=d(t,5)._onKeydown(i)!==!1&&r),e==="keyup"&&(r=d(t,5)._onKeyup()!==!1&&r),e==="mouseenter"&&(r=d(t,5)._onMouseenter()!==!1&&r),e==="slide"&&(r=d(t,5)._onSlide(i)!==!1&&r),e==="slideend"&&(r=d(t,5)._onSlideEnd()!==!1&&r),e==="slidestart"&&(r=d(t,5)._onSlideStart(i)!==!1&&r),r},Er,kr)),D(5,245760,null,0,ei,[lt,ne,ee,[2,pn],[8,null],[2,ge]],{max:[0,"max"],min:[1,"min"],step:[2,"step"]},null),$t(1024,null,ve,function(t){return[t]},[ei]),D(7,540672,null,0,uo,[[8,null],[8,null],[6,ve],[2,Dn]],{form:[0,"form"]},null),$t(2048,null,me,null,[uo]),D(9,16384,null,0,Cn,[[4,me]],null,null)],function(t,e){var i=e.component;t(e,5,0,"1","0.1","0.1"),t(e,7,0,i.activeObject.form.get("opacity"))},function(t,e){t(e,4,1,[d(e,5).tabIndex,d(e,5).disabled,d(e,5).max,d(e,5).min,d(e,5).value,d(e,5).vertical?"vertical":"horizontal",d(e,5).disabled,d(e,5).tickInterval,!d(e,5).vertical,d(e,5)._invertAxis,d(e,5)._isSliding,d(e,5).thumbLabel,d(e,5).vertical,d(e,5)._isMinValue,d(e,5).disabled||d(e,5)._isMinValue&&d(e,5)._thumbGap&&d(e,5)._invertAxis,d(e,5)._animationMode==="NoopAnimations",d(e,9).ngClassUntouched,d(e,9).ngClassTouched,d(e,9).ngClassPristine,d(e,9).ngClassDirty,d(e,9).ngClassValid,d(e,9).ngClassInvalid,d(e,9).ngClassPending])})}var YI=function(){function n(t,e,i){this.activeObject=t,this.history=e,this.store=i}return n.prototype.ngOnInit=function(){var t=this;this.subscription=this.activeObject.propsChanged$.pipe(Xn(1)).subscribe(function(){t.store.dispatch(new $v)})},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.openPanel=function(t){this.store.dispatch(new Rp(t))},A([_n(Ba.activePanel),E("design:type",c)],n.prototype,"activePanel$",void 0),A([_n(gn.activeObjIsText),E("design:type",c)],n.prototype,"activeObjIsText$",void 0),A([_n(gn.activeObjIsShape),E("design:type",c)],n.prototype,"activeObjIsShape$",void 0),n}(),GI=Pe({encapsulation:2,styles:[["object-settings-drawer .button-with-image mat-icon{margin-top:8px;vertical-align:middle}"]],data:{}});function qI(n){return wt(0,[(n()(),P(0,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("textStyle")!==!1&&r),r},null,null)),(n()(),P(1,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","text-options-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(2,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(3,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(4,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Text Style"]))],function(t,e){t(e,2,0,"text-options-custom")},function(t,e){t(e,1,0,d(e,2).inline,d(e,2).color!=="primary"&&d(e,2).color!=="accent"&&d(e,2).color!=="warn")})}function KI(n){return wt(0,[(n()(),P(0,0,null,null,1,"text-controls-drawer",[["class","content"]],null,null,null,TI,OI)),D(1,49152,null,0,EI,[En],null,null)],null,null)}function ZI(n){return wt(0,[(n()(),P(0,0,null,null,3,"color-controls-drawer",[["class","content"],["controlName","fill"],["trans",""]],null,null,null,v_,m_)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),D(2,49152,null,0,g_,[En],{controlName:[0,"controlName"]},null),(n()(),Gt(-1,0,["Color"]))],function(t,e){t(e,2,0,"fill")},null)}function JI(n){return wt(0,[(n()(),P(0,0,null,null,1,"shadow-controls-drawer",[["class","content"]],null,null,null,PI,AI)),D(1,49152,null,0,II,[ji,En],null,null)],null,null)}function QI(n){return wt(0,[(n()(),P(0,0,null,null,1,"outline-controls-drawer",[["class","content"]],null,null,null,jI,RI)),D(1,49152,null,0,DI,[En],null,null)],null,null)}function $I(n){return wt(0,[(n()(),P(0,0,null,null,3,"color-controls-drawer",[["class","content"],["controlName","backgroundColor"],["trans",""]],null,null,null,v_,m_)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),D(2,49152,null,0,g_,[En],{controlName:[0,"controlName"]},null),(n()(),Gt(-1,0,["Background Color"]))],function(t,e){t(e,2,0,"backgroundColor")},null)}function tA(n){return wt(0,[(n()(),P(0,0,null,null,1,"texture-controls-drawer",[["class","content"]],null,null,null,NI,MI)),D(1,49152,null,0,FI,[En,Bt,Rr,vl,Ho],null,null)],null,null)}function eA(n){return wt(0,[(n()(),P(0,0,null,null,1,"gradient-controls-drawer",[["class","content"]],null,null,null,HI,VI)),D(1,49152,null,0,BI,[En,Bt,Rr,vl],null,null)],null,null)}function nA(n){return wt(0,[(n()(),P(0,0,null,null,1,"opacity-controls-drawer",[["class","content"]],null,null,null,XI,WI)),D(1,49152,null,0,UI,[En],null,null)],null,null)}function iA(n){return wt(2,[(n()(),P(0,0,null,null,46,"div",[["class","content"]],[[2,"hidden",null]],null,null,null,null)),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,2,null,qI)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),P(5,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("color")!==!1&&r),r},null,null)),(n()(),P(6,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","color-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(7,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(8,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(9,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Color"])),(n()(),P(11,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("shadow")!==!1&&r),r},null,null)),(n()(),P(12,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","shadow-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(13,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(14,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(15,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Shadow"])),(n()(),P(17,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("outline")!==!1&&r),r},null,null)),(n()(),P(18,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","outline-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(19,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(20,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(21,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Outline"])),(n()(),P(23,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("background")!==!1&&r),r},null,null)),(n()(),P(24,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","background-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(25,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(26,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(27,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Background"])),(n()(),P(29,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("texture")!==!1&&r),r},null,null)),(n()(),P(30,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","texture-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(31,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(32,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(33,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Texture"])),(n()(),P(35,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("gradient")!==!1&&r),r},null,null)),(n()(),P(36,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","gradient-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(37,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(38,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(39,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Gradient"])),(n()(),P(41,0,null,null,5,"div",[["class","button-with-image"]],null,[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.openPanel("opacity")!==!1&&r),r},null,null)),(n()(),P(42,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","opacity-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(43,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(44,0,null,null,2,"div",[["class","bottom-label"],["trans",""]],null,null,null,null,null)),D(45,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Opacity"])),(n()(),P(47,0,null,null,18,null,null,null,null,null,null,null)),D(48,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,1,null,KI)),D(51,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,ZI)),D(53,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,JI)),D(55,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,QI)),D(57,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,$I)),D(59,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,tA)),D(61,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,eA)),D(63,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,nA)),D(65,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var i=e.component;t(e,3,0,fe(e,3,0,d(e,4).transform(i.activeObjIsText$))),t(e,7,0,"color-custom"),t(e,13,0,"shadow-custom"),t(e,19,0,"outline-custom"),t(e,25,0,"background-custom"),t(e,31,0,"texture-custom"),t(e,37,0,"gradient-custom"),t(e,43,0,"opacity-custom"),t(e,48,0,fe(e,48,0,d(e,49).transform(i.activePanel$))),t(e,51,0,"textStyle"),t(e,53,0,"color"),t(e,55,0,"shadow"),t(e,57,0,"outline"),t(e,59,0,"background"),t(e,61,0,"texture"),t(e,63,0,"gradient"),t(e,65,0,"opacity")},function(t,e){var i=e.component;t(e,0,0,fe(e,0,0,d(e,1).transform(i.activePanel$))),t(e,6,0,d(e,7).inline,d(e,7).color!=="primary"&&d(e,7).color!=="accent"&&d(e,7).color!=="warn"),t(e,12,0,d(e,13).inline,d(e,13).color!=="primary"&&d(e,13).color!=="accent"&&d(e,13).color!=="warn"),t(e,18,0,d(e,19).inline,d(e,19).color!=="primary"&&d(e,19).color!=="accent"&&d(e,19).color!=="warn"),t(e,24,0,d(e,25).inline,d(e,25).color!=="primary"&&d(e,25).color!=="accent"&&d(e,25).color!=="warn"),t(e,30,0,d(e,31).inline,d(e,31).color!=="primary"&&d(e,31).color!=="accent"&&d(e,31).color!=="warn"),t(e,36,0,d(e,37).inline,d(e,37).color!=="primary"&&d(e,37).color!=="accent"&&d(e,37).color!=="warn"),t(e,42,0,d(e,43).inline,d(e,43).color!=="primary"&&d(e,43).color!=="accent"&&d(e,43).color!=="warn")})}var rA=function(){function n(t,e,i,r,o,s){this.history=t,this.activeObject=e,this.controls=i,this.breakpoints=r,this.objects=o,this.store=s}return n.prototype.deleteObject=function(){var t=this.activeObject.get();t&&(this.activeObject.delete(),this.history.add({name:"Deleted: "+t.name,icon:"delete-custom"}))},n.prototype.openObjectDrawer=function(){switch(this.activeObject.get().name){case oi.shape.name:this.controls.openPanel(Be.SHAPES);break;case oi.sticker.name:this.controls.openPanel(Be.STICKERS);break;case oi.text.name:this.controls.openPanel(Be.TEXT)}},n.prototype.openObjSettingsPanel=function(){this.store.dispatch(new yr(Be.OBJECT_SETTINGS))},n.prototype.bringActiveObjectToFront=function(){this.activeObject.bringToFront(),this.objects.syncObjects()},A([_n(pi.canUndo),E("design:type",c)],n.prototype,"canUndo$",void 0),A([_n(pi.canRedo),E("design:type",c)],n.prototype,"canRedo$",void 0),A([_n(gn.activeObjId),E("design:type",c)],n.prototype,"activeObjId$",void 0),A([_n(gn.dirty),E("design:type",c)],n.prototype,"dirty$",void 0),n}(),oA=Pe({encapsulation:2,styles:[["floating-object-controls{display:flex;position:absolute;bottom:-60px;height:50px;left:10px;right:10px;padding:5px;max-width:210px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);border-radius:2px}floating-object-controls .left{flex:1 1 auto;text-align:left}floating-object-controls .right{flex:0 0 100px;text-align:right}@media only screen and (max-width:768px){floating-object-controls{top:-50px;height:40px;bottom:0;background-color:transparent;box-shadow:none;padding:0;max-width:none}floating-object-controls .mat-icon-button{background-color:#fff;border-radius:3px;margin:0 3px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}floating-object-controls .mat-icon-button .mat-button-ripple{border-radius:3px}}"]],data:{}});function sA(n){return wt(0,[(n()(),P(0,0,null,null,31,null,null,null,null,null,null,null)),(n()(),P(1,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,3).show()!==!1&&r),e==="keydown"&&(r=d(t,3)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,3)._handleTouchend()!==!1&&r),e==="click"&&(r=o.activeObject.duplicate()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(3,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(4,1),(n()(),P(5,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","copy-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(6,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(7,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,9).show()!==!1&&r),e==="keydown"&&(r=d(t,9)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,9)._handleTouchend()!==!1&&r),e==="click"&&(r=o.activeObject.flipHorizontal()!==!1&&r),r},tn,$e)),D(8,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(9,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(10,1),(n()(),P(11,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","flip"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(12,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(13,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,15).show()!==!1&&r),e==="keydown"&&(r=d(t,15)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,15)._handleTouchend()!==!1&&r),e==="click"&&(r=o.bringActiveObjectToFront()!==!1&&r),r},tn,$e)),D(14,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(15,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(16,1),(n()(),P(17,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","flip-to-front"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(18,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(19,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,21).show()!==!1&&r),e==="keydown"&&(r=d(t,21)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,21)._handleTouchend()!==!1&&r),e==="click"&&(r=o.deleteObject()!==!1&&r),r},tn,$e)),D(20,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),D(21,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(22,1),(n()(),P(23,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","delete-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(24,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(25,16777216,null,null,6,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,i){var r=!0,o=t.component;return e==="longpress"&&(r=d(t,28).show()!==!1&&r),e==="keydown"&&(r=d(t,28)._handleKeydown(i)!==!1&&r),e==="touchend"&&(r=d(t,28)._handleTouchend()!==!1&&r),e==="click"&&(r=o.openObjSettingsPanel()!==!1&&r),r},tn,$e)),D(26,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),je(131072,We,[ee]),D(28,147456,null,0,Mi,[On,lt,ki,jt,xe,he,Ri,ne,Oi,[2,pn],[2,Fi],[2,yi]],{message:[0,"message"]},null),Qn(29,1),(n()(),P(30,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","settings-custom"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(31,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component,r=fe(e,3,0,t(e,4,0,d(e.parent,0),"Duplicate"));t(e,3,0,r),t(e,6,0,"copy-custom");var o=fe(e,9,0,t(e,10,0,d(e.parent,0),"Flip"));t(e,9,0,o),t(e,12,0,"flip");var s=fe(e,15,0,t(e,16,0,d(e.parent,0),"Bring to front"));t(e,15,0,s),t(e,18,0,"flip-to-front");var f=fe(e,21,0,t(e,22,0,d(e.parent,0),"Delete"));t(e,21,0,f),t(e,24,0,"delete-custom"),t(e,26,0,fe(e,26,0,d(e,27).transform(i.dirty$)));var _=fe(e,28,0,t(e,29,0,d(e.parent,0),"Customize"));t(e,28,0,_),t(e,31,0,"settings-custom")},function(t,e){t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,5,0,d(e,6).inline,d(e,6).color!=="primary"&&d(e,6).color!=="accent"&&d(e,6).color!=="warn"),t(e,7,0,d(e,8).disabled||null,d(e,8)._animationMode==="NoopAnimations"),t(e,11,0,d(e,12).inline,d(e,12).color!=="primary"&&d(e,12).color!=="accent"&&d(e,12).color!=="warn"),t(e,13,0,d(e,14).disabled||null,d(e,14)._animationMode==="NoopAnimations"),t(e,17,0,d(e,18).inline,d(e,18).color!=="primary"&&d(e,18).color!=="accent"&&d(e,18).color!=="warn"),t(e,19,0,d(e,20).disabled||null,d(e,20)._animationMode==="NoopAnimations"),t(e,23,0,d(e,24).inline,d(e,24).color!=="primary"&&d(e,24).color!=="accent"&&d(e,24).color!=="warn"),t(e,25,0,d(e,26).disabled||null,d(e,26)._animationMode==="NoopAnimations"),t(e,30,0,d(e,31).inline,d(e,31).color!=="primary"&&d(e,31).color!=="accent"&&d(e,31).color!=="warn")})}function aA(n){return wt(0,[(n()(),P(0,0,null,null,10,"div",[["class","right"]],null,null,null,null,null)),(n()(),P(1,0,null,null,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.history.undo()!==!1&&r),r},tn,$e)),D(2,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),je(131072,We,[ee]),(n()(),P(4,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","undo"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(5,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null),(n()(),P(6,0,null,null,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.history.redo()!==!1&&r),r},tn,$e)),D(7,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"]},null),je(131072,We,[ee]),(n()(),P(9,0,null,0,1,"mat-icon",[["class","mat-icon"],["role","img"],["svgIcon","redo"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ie,Te)),D(10,9158656,null,0,Oe,[lt,Se,[8,null],[2,Ee]],{svgIcon:[0,"svgIcon"]},null)],function(t,e){var i=e.component;t(e,2,0,!fe(e,2,0,d(e,3).transform(i.canUndo$))),t(e,5,0,"undo"),t(e,7,0,!fe(e,7,0,d(e,8).transform(i.canRedo$))),t(e,10,0,"redo")},function(t,e){t(e,1,0,d(e,2).disabled||null,d(e,2)._animationMode==="NoopAnimations"),t(e,4,0,d(e,5).inline,d(e,5).color!=="primary"&&d(e,5).color!=="accent"&&d(e,5).color!=="warn"),t(e,6,0,d(e,7).disabled||null,d(e,7)._animationMode==="NoopAnimations"),t(e,9,0,d(e,10).inline,d(e,10).color!=="primary"&&d(e,10).color!=="accent"&&d(e,10).color!=="warn")})}function lA(n){return wt(0,[je(0,Jd,[te]),(n()(),P(1,0,null,null,3,"div",[["class","left"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,sA)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,2,null,aA)),D(6,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,3,0,fe(e,3,0,d(e,4).transform(i.activeObjId$))),t(e,6,0,fe(e,6,0,d(e,7).transform(i.breakpoints.isMobile$)))},null)}var y_=function(){function n(t,e,i,r,o){this.controls=t,this.settings=e,this.activeObject=i,this.store=r,this.breakpoints=o}return n.prototype.applyChanges=function(){var t=this.store.selectSnapshot(gn.activePanel);this.store.dispatch(new Jl(t))},n.prototype.cancelChanges=function(){var t=this.store.selectSnapshot(gn.activePanel);this.store.dispatch(new Wh(t))},A([_n(gn.activePanel),E("design:type",c)],n.prototype,"activePanel$",void 0),A([_n(gn.controlsPosition),E("design:type",c)],n.prototype,"controlsPosition$",void 0),A([_n(gn.activeObjId),E("design:type",c)],n.prototype,"activeObjId$",void 0),A([_n(gn.dirty),E("design:type",c)],n.prototype,"dirty$",void 0),n}(),b_=Pe({encapsulation:2,styles:[["editor-controls{display:block;z-index:2;width:100%;background-color:#fff;height:115px;position:relative;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}editor-controls .drawer,editor-controls navigation-bar{position:absolute;top:0;left:0}editor-controls .bottom-label{display:block;margin-top:5px;text-align:center;font-size:13px;text-transform:capitalize}editor-controls .button-with-image{text-align:center;cursor:pointer;margin:0 5px;padding:5px;width:90px;height:90px;flex-shrink:0;border:1px solid #e0e0e0;border-radius:4px;background-color:#fafafa;transition:box-shadow .3s ease}editor-controls .button-with-image.no-label>img,editor-controls .button-with-image.no-label>mat-icon{width:80px;height:80px}editor-controls .button-with-image:hover{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}editor-controls .button-with-image>.bottom-label{font-size:12px}editor-controls .button-with-image img,editor-controls .button-with-image>svg{display:block;width:60px;height:60px;margin:0 auto}editor-controls .button-with-image mat-icon{width:40px;height:40px;margin:auto}editor-controls .button-with-image .bg-image{width:100%;height:100%}editor-controls .button-with-image .image-container{width:100%;position:relative;border-radius:3px;overflow:hidden}editor-controls .button-with-image .overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.8);color:#009688;padding-top:5px}editor-controls .button-with-image .overlay mat-icon{width:34px;height:34px;line-height:34px}editor-controls .round-action-button{display:flex;justify-content:center;align-items:center;border:1px solid #e0e0e0;width:60px;height:60px;line-height:60px;border-radius:50%;cursor:pointer}editor-controls .round-action-button mat-icon{width:45px;height:45px}@media only screen and (max-width:768px){editor-controls .round-action-button{width:40px;height:40px;line-height:40px}editor-controls .round-action-button mat-icon{width:25px;height:25px}}editor-controls .slider-container{display:inline-flex;align-items:center;width:100%;max-width:400px;margin:0 30px}editor-controls .slider-container>.slider-label{text-transform:capitalize;white-space:nowrap;font-size:13px;margin-right:10px;padding-left:8px}editor-controls .slider-container>.mat-slider{flex:1 1 auto}editor-controls.position-bottom floating-object-controls{bottom:120px}"]],data:{animation:[{type:7,name:"controlsAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"225ms cubic-bezier(.4,0,.2,1)"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"0ms cubic-bezier(.4,0,.2,1)"}],options:null}],options:{}}]}});function uA(n){return wt(0,[(n()(),P(0,0,null,null,1,"navigation-bar",[],[[24,"@controlsAnimation",0]],null,null,hT,aT)),D(1,114688,null,0,sT,[hr,bn,bo,Bt,gl,Fn,Cr,Ge,hi,ee],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function cA(n){return wt(0,[(n()(),P(0,0,null,null,2,"span",[["trans",""]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Cancel"]))],null,null)}function hA(n){return wt(0,[(n()(),P(0,0,null,null,2,"span",[["trans",""]],null,null,null,null,null)),D(1,4341760,null,0,ue,[lt,te,Bt],null,null),(n()(),Gt(-1,null,["Close"]))],null,null)}function pA(n){return wt(0,[(n()(),P(0,0,null,null,1,"filter-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,IT,CT)),D(1,114688,null,0,xT,[Bt,Jo,Ge,Bt],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function dA(n){return wt(0,[(n()(),P(0,0,null,null,1,"resize-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,jT,RT)),D(1,114688,null,0,DT,[bn,Fn,Ua,hr,Cr,Ge],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function fA(n){return wt(0,[(n()(),P(0,0,null,null,1,"transform-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,LT,MT)),D(1,49152,null,0,FT,[Ge,hc],null,null)],null,function(t,e){t(e,0,0,void 0)})}function gA(n){return wt(0,[(n()(),P(0,0,null,null,1,"crop-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,HT,BT)),D(1,4440064,null,0,NT,[po,Bt],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function mA(n){return wt(0,[(n()(),P(0,0,null,null,1,"draw-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,ZT,GT)),D(1,245760,null,0,UT,[pc,Bt,bn,Bt,Ge],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function vA(n){return wt(0,[(n()(),P(0,0,null,null,1,"text-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,$T,QT)),D(1,49152,null,0,JT,[Ge,En],null,null)],null,function(t,e){t(e,0,0,void 0)})}function yA(n){return wt(0,[(n()(),P(0,0,null,null,1,"shapes-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,oI,eI)),D(1,49152,null,0,tI,[Bt,Ge],null,null)],null,function(t,e){t(e,0,0,void 0)})}function bA(n){return wt(0,[(n()(),P(0,0,null,null,1,"stickers-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,dI,aI)),D(1,49152,null,0,sI,[Ja,Bt,Ge],null,null)],null,function(t,e){t(e,0,0,void 0)})}function _A(n){return wt(0,[(n()(),P(0,0,null,null,1,"round-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,mI,gI)),D(1,245760,null,0,fI,[En,nl],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function wA(n){return wt(0,[(n()(),P(0,0,null,null,1,"frame-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,xI,yI)),D(1,114688,null,0,vI,[Bs,_o,Ge],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function xA(n){return wt(0,[(n()(),P(0,0,null,null,1,"canvas-background-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,kI,SI)),D(1,114688,null,0,CI,[Ge,bn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function CA(n){return wt(0,[(n()(),P(0,0,null,null,1,"object-settings-drawer",[["class","controls-drawer"]],[[24,"@controlsAnimation",0]],null,null,iA,GI)),D(1,245760,null,0,YI,[En,Fn,Ge],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,void 0)})}function SA(n){return wt(0,[(n()(),P(0,0,null,null,1,"floating-object-controls",[],null,null,null,lA,oA)),D(1,49152,null,0,rA,[Fn,En,hr,Wi,yo,Ge],null,null)],null,null)}function kA(n){return wt(0,[(n()(),P(0,0,null,null,46,null,null,null,null,null,null,null)),(n()(),Rt(16777216,null,null,1,null,uA)),D(2,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),(n()(),P(3,0,null,null,39,"div",[["class","tool-panel-container"]],[[2,"hidden",null]],null,null,null,null)),D(4,16384,null,0,cn,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),P(5,0,null,null,6,"button",[["class","cancel-button"],["mat-raised-button",""],["trans",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.cancelChanges()!==!1&&r),r},tn,$e)),D(6,4341760,null,0,ue,[lt,te,Bt],null,null),D(7,180224,null,0,Qe,[lt,he,ne,[2,ge]],null,null),(n()(),Rt(16777216,null,0,2,null,cA)),D(9,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),je(131072,We,[ee]),(n()(),Rt(0,[["close",2]],0,0,null,hA)),(n()(),P(12,0,null,null,25,"div",[["class","drawer-wrapper"],["customScrollbar",""]],null,null,null,null,null)),D(13,4341760,null,0,sc,[lt,un,Wi,xe,Wo,Bt,ac],{suppressX:[0,"suppressX"]},null),(n()(),Rt(16777216,null,null,1,null,pA)),D(15,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,dA)),D(17,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,fA)),D(19,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,gA)),D(21,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,mA)),D(23,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,vA)),D(25,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,yA)),D(27,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,bA)),D(29,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,_A)),D(31,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,wA)),D(33,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,xA)),D(35,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Rt(16777216,null,null,1,null,CA)),D(37,278528,null,0,Pn,[jt,Lt,cn],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),P(38,0,null,null,4,"button",[["class","apply-button"],["color","accent"],["mat-raised-button",""],["trans",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,i){var r=!0;return e==="click"&&(r=t.component.applyChanges()!==!1&&r),r},tn,$e)),D(39,4341760,null,0,ue,[lt,te,Bt],null,null),D(40,180224,null,0,Qe,[lt,he,ne,[2,ge]],{disabled:[0,"disabled"],color:[1,"color"]},null),je(131072,We,[ee]),(n()(),Gt(-1,0,["Apply"])),(n()(),Rt(16777216,null,null,3,null,SA)),D(44,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),je(131072,We,[ee]),(n()(),Rt(0,null,null,0))],function(t,e){var i=e.component;t(e,2,0,e.context.ngIf==="navigation"),t(e,4,0,e.context.ngIf),t(e,9,0,fe(e,9,0,d(e,10).transform(i.dirty$)),d(e,11)),t(e,13,0,!1),t(e,15,0,"filter"),t(e,17,0,"resize"),t(e,19,0,"transform"),t(e,21,0,"crop"),t(e,23,0,"draw"),t(e,25,0,"text"),t(e,27,0,"shapes"),t(e,29,0,"stickers"),t(e,31,0,"corners"),t(e,33,0,"frame"),t(e,35,0,"background"),t(e,37,0,"objectSettings"),t(e,40,0,!fe(e,40,0,d(e,41).transform(i.dirty$)),"accent"),t(e,44,0,fe(e,44,0,d(e,45).transform(i.activeObjId$))||fe(e,44,0,d(e,46).transform(i.breakpoints.isMobile$)))},function(t,e){t(e,3,0,e.context.ngIf==="navigation"),t(e,5,0,d(e,7).disabled||null,d(e,7)._animationMode==="NoopAnimations"),t(e,38,0,d(e,40).disabled||null,d(e,40)._animationMode==="NoopAnimations")})}function __(n){return wt(2,[(n()(),Rt(16777216,null,null,2,null,kA)),D(1,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,1,0,fe(e,1,0,d(e,2).transform(i.activePanel$)))},null)}var w_=function(){function n(t,e,i){this.domSanitizer=t,this.el=e,this.config=i}return n.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.backgroundImage=this.getStyle()},n.prototype.getStyle=function(){return"url("+this.config.getAssetUrl(this.url)+")"},n}(),EA=function(){function n(t,e,i,r,o,s,f,_,S,T,F,U){this.canvas=t,this.history=e,this.controls=i,this.breakpoints=r,this.floatingPanels=o,this.canvasKeybinds=s,this.el=f,this.activeObject=_,this.state=S,this.config=T,this.store=F,this.i18n=U}return n.prototype.ngOnInit=function(){var t=this;this.state.wrapperEl=this.canvasWrapper.nativeElement,this.state.maskWrapperEl=this.canvasMaskWrapper.nativeElement,this.setLocalization(),this.config.onChange.subscribe(function(){t.setLocalization()}),this.canvas.init().subscribe(function(){t.activeObject.init(),t.canvasKeybinds.init(),t.fitCanvasToScreenOnResize(),t.openObjectSettingsOnDoubleClick(),t.closePanelsOnObjectDelete(),t.handleObjectSelection(),t.updateHistoryOnObjectModification(),t.canvasMaskWrapper.nativeElement.classList.remove("not-loaded")})},n.prototype.closePanelsOnObjectDelete=function(){var t=this;this.canvas.fabric().on("object:delete",function(){return t.controls.closeCurrentPanel()})},n.prototype.openObjectSettingsOnDoubleClick=function(){var t=this;this.canvas.fabric().on("mouse:dblclick",function(){t.activeObject.getId()&&!t.store.selectSnapshot(gn.dirty)&&t.store.dispatch(new yr(Be.OBJECT_SETTINGS))})},n.prototype.updateHistoryOnObjectModification=function(){var t=this;this.canvas.fabric().on("object:modified",function(e){e.e&&!t.store.selectSnapshot(gn.dirty)&&t.history.replaceCurrent()})},n.prototype.handleObjectSelection=function(){var t=this;this.canvas.fabric().on("selection:created",function(e){return t.onObjectSelection(e)}),this.canvas.fabric().on("selection:updated",function(e){return t.onObjectSelection(e)}),this.canvas.fabric().on("selection:cleared",function(e){t.store.dispatch(new _m(e.e!=null))})},n.prototype.onObjectSelection=function(t){this.store.dispatch(new Xh(t.target.name,t.e!=null))},n.prototype.fitCanvasToScreenOnResize=function(){var t=this;Es(window,"resize").pipe(No(200),gu()).subscribe(function(){t.canvas.zoom.fitToScreen()})},n.prototype.setLocalization=function(){var t=this.config.get("pixie.languages.active","default");if(t!=="default"){this.config.set("i18n.enable",!0);var e=this.config.get("pixie.languages.custom."+t);this.i18n.setLocalization({model:new ay({name:t}),lines:e})}},A([_n(gn.controlsPosition),E("design:type",c)],n.prototype,"controlsPosition$",void 0),A([_n(gn.toolbarHidden),E("design:type",c)],n.prototype,"toolbarHidden$",void 0),A([_n(gn.contentLoaded),E("design:type",c)],n.prototype,"contentLoaded$",void 0),n}(),lf=function(){function n(t,e,i){this.state=t,this.keybinds=e,this.activeObject=i}return n.prototype.init=function(){var t=this;this.state.loaded.subscribe(function(){t.keybinds.listenOn(document),t.keybinds.add("arrow_up",function(e){t.maybePreventDefault(e),t.activeObject.move("top",-1)}),t.keybinds.add("arrow_right",function(e){t.maybePreventDefault(e),t.activeObject.move("left",1)}),t.keybinds.add("arrow_down",function(e){t.maybePreventDefault(e),t.activeObject.move("top",1)}),t.keybinds.add("arrow_left",function(e){t.maybePreventDefault(e),t.activeObject.move("left",-1)}),t.keybinds.add("delete",function(e){t.maybePreventDefault(e),t.activeObject.isEditing()||t.activeObject.delete()})})},n.prototype.maybePreventDefault=function(t){t.preventDefault&&document.activeElement.tagName.toLowerCase()==="ui-pixie-editor"&&t.preventDefault()},n}(),OA=Pe({encapsulation:2,styles:[["image-editor{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden;margin:0 auto;position:relative}image-editor .canvas-wrapper{height:calc(100% - 165px);width:100%;display:flex;align-items:center}image-editor .canvas-wrapper .canvas-mask-wrapper{margin:auto}image-editor .canvas-wrapper .canvas-mask-wrapper.empty,image-editor .canvas-wrapper .canvas-mask-wrapper.not-loaded{visibility:hidden}image-editor .canvas-wrapper .canvas-container{margin:auto;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}"]],data:{}});function TA(n){return wt(0,[(n()(),P(0,0,null,null,1,"toolbar",[],null,null,null,oT,GO)),D(1,4243456,null,0,YO,[Fn,Bt,uc,fl,Wi,Ho,bo,Jo,bn,fl,Ge],null,null)],null,null)}function IA(n){return wt(0,[(n()(),P(0,0,null,null,1,"editor-controls",[["class","position-top"]],null,null,null,__,b_)),D(1,49152,null,0,y_,[hr,Bt,En,Ge,Wi],null,null)],null,null)}function AA(n){return wt(0,[(n()(),P(0,0,null,null,1,"editor-controls",[["class","position-bottom"]],null,null,null,__,b_)),D(1,49152,null,0,y_,[hr,Bt,En,Ge,Wi],null,null)],null,null)}function PA(n){return wt(2,[Me(402653184,1,{canvasWrapper:0}),Me(402653184,2,{canvasMaskWrapper:0}),(n()(),Rt(16777216,null,null,2,null,TA)),D(3,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),Rt(16777216,null,null,2,null,IA)),D(6,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee]),(n()(),P(8,0,[[1,0],["canvasWrapper",1]],null,5,"div",[["backgroundImage","images/viewport-bg.png"],["class","canvas-wrapper"]],null,null,null,null,null)),D(9,4210688,null,0,w_,[Rr,lt,Bt],{url:[0,"url"]},null),(n()(),P(10,0,[[2,0],["canvasMaskWrapper",1]],null,3,"div",[["backgroundImage","images/canvas-bg.png"],["class","canvas-mask-wrapper not-loaded"]],[[2,"empty",null]],null,null,null,null)),D(11,4210688,null,0,w_,[Rr,lt,Bt],{url:[0,"url"]},null),je(131072,We,[ee]),(n()(),P(13,0,null,null,0,"canvas",[["id","pixie-canvas"]],null,null,null,null,null)),(n()(),Rt(16777216,null,null,2,null,AA)),D(15,16384,null,0,oe,[jt,Lt],{ngIf:[0,"ngIf"]},null),je(131072,We,[ee])],function(t,e){var i=e.component;t(e,3,0,!fe(e,3,0,d(e,4).transform(i.toolbarHidden$))),t(e,6,0,fe(e,6,0,d(e,7).transform(i.controlsPosition$))==="top"),t(e,9,0,"images/viewport-bg.png"),t(e,11,0,"images/canvas-bg.png"),t(e,15,0,fe(e,15,0,d(e,16).transform(i.controlsPosition$))==="bottom")},function(t,e){var i=e.component;t(e,10,0,!fe(e,10,0,d(e,12).transform(i.contentLoaded$)))})}var DA=Pe({encapsulation:2,styles:[["ui-pixie-editor{display:block;width:100%;height:100%}ui-pixie-editor .overlay{display:none}"]],data:{}});function RA(n){return wt(2,[Me(402653184,1,{overlay:0}),(n()(),P(1,0,null,null,1,"image-editor",[],null,null,null,PA,OA)),D(2,114688,null,0,EA,[bn,Fn,hr,Wi,fl,lf,lt,En,Ei,Bt,Ge,te],null,null),(n()(),P(3,0,[[1,0],["overlay",1]],null,0,"div",[["class","overlay"]],null,null,null,null,null)),(n()(),P(4,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),Gn(null,0)],function(t,e){t(e,2,0)},null)}function jA(n){return wt(0,[(n()(),P(0,0,null,null,1,"ui-pixie-editor",[],[[4,"display",null],[2,"theme-dark",null],[2,"theme-light",null],[2,"mode-overlay",null],[2,"mode-inline",null],[4,"width",null],[4,"height",null],[2,"ui-compact",null]],null,null,RA,DA)),D(1,114688,null,0,hd,[lt,Ge,Bt,Jo],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,d(e,1).display,d(e,1).darkTheme,d(e,1).lightTheme,d(e,1).overlayMode,d(e,1).inlineMode,d(e,1).width,d(e,1).height,d(e,1).compact)})}var FA=$i("ui-pixie-editor",hd,jA,{},{},["*"]),gc=function(){function n(t){this.state=t,this.lastPosX=0,this.lastPosY=0,this.isDragging=!1}return n.prototype.set=function(t){if(t||(t=this.lastE),t){var e=this.state.calcWrapperSize(),i=this.state.fabric.getWidth(),r=this.state.fabric.getHeight(),o=this.getClientCoords(t),s=this.state.fabric.viewportTransform[4]+o.clientX-this.lastPosX,f=this.state.fabric.viewportTransform[5]+o.clientY-this.lastPosY;s>0||e.width>i?s=0:s+Math.floor(i)-e.width<0&&(s=e.width-Math.floor(i)),f>0||e.height>r?f=0:f+Math.floor(r)-e.height<0&&(f=e.height-Math.floor(r)),this.state.fabric.viewportTransform[4]=s,this.state.fabric.viewportTransform[5]=f,this.state.fabric.requestRenderAll(),this.lastPosX=o.clientX,this.lastPosY=o.clientY,this.lastE=t}},n.prototype.reset=function(){this.lastPosX=0,this.lastPosY=0,this.lastE=null,this.state.fabric.viewportTransform[4]=0,this.state.fabric.viewportTransform[5]=0},n.prototype.init=function(){var t=this;this.state.fabric.on("mouse:down",function(e){if(e.target||t.state.fabric.isDrawingMode)return t.isDragging=!1;var i=t.getClientCoords(e.e);t.isDragging=!0,t.lastPosX=i.clientX,t.lastPosY=i.clientY}),this.state.fabric.on("mouse:move",function(e){t.isDragging&&t.set(e.e)}),this.state.fabric.on("mouse:up",function(){t.isDragging=!1})},n.prototype.getClientCoords=function(t){var e=0,i=0;return(t=t).touches&&t.touches[0]?(e=t.touches[0].clientX,i=t.touches[0].clientY):(e=t.clientX,i=t.clientY),{clientX:e,clientY:i}},n}();function MA(n){return Math.round(100*n.loaded/n.total)}function x_(n,t){if(!n.loaded)return 0;var e=new Date-t;return n.loaded/(e/1e3)}function LA(n,t){if(!n.loaded)return 0;var e=x_(n,t);return Math.round((n.total-n.loaded)/e*10)/10}function NA(n){var t,e=(t=n,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)});e.seconds||(e.seconds=1);var i=e.hours?e.hours+"h ":"",r=e.hours?("0"+e.minutes).substr(-2):e.minutes;return i+(r?r+"m ":"")+(r?("0"+e.seconds).substr(-2):e.seconds)+"s"}var yl,BA=["bytes","KB","MB","GB","TB","PB"];function C_(n,t){if(isNaN(parseFloat(String(n)))||!isFinite(n))return null;for(var e=0;n>=1024;)n/=1024,e++;var i=BA[e];return t||(t=function(r){switch(r){case"MB":return 1;case"GB":case"TB":case"PB":return 2;default:return 0}}(i)),i==="bytes"&&n<2&&(i="byte"),parseFloat(n.toFixed(+t).toString()).toString()+" "+i}(function(n){n.STARTED="uploadStarted",n.PROGRESS="uploadProgress",n.COMPLETED="uploadCompleted",n.OTHER="unrecognizedEvent"})(yl||(yl={}));var mc=function(){function n(t){this.i18n=t}return n.prototype.handle=function(t,e){var i=this.parseJson(t.error),r={uri:e,messages:i.messages,type:"http",status:t.status,originalError:new Error(t.message)};return t.status!==403&&t.status!==401||this.handle403Error(i),Aa(r)},n.prototype.parseJson=function(t){var e;if(typeof t!="string")e=t;else try{e=JSON.parse(t)}catch{e=this.getEmptyErrorBody()}var i=this.getEmptyErrorBody();return e&&e.messages&&Object.keys(e.messages).forEach(function(r){var o=e.messages[r];i.messages[r]=Array.isArray(o)?o[0]:o}),i},n.prototype.getEmptyErrorBody=function(){return{status:"error",messages:{}}},n.ngInjectableDef=Ce({factory:function(){return new n(re(te))},token:n,providedIn:"root"}),n}(),S_=function(){return(S_=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},VA=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.http=e,r.errorHandler=i,r.cache={},r}return k(t,n),t.prototype.getWithCache=function(e,i){var r=this;i===void 0&&(i={});var o=this.makeCacheKey(e,i);if(this.cache[o]instanceof c)return this.cache[o];if(this.cache[o])return $n(this.cache[o]);var s=this.get(e,i).pipe(be());return s.subscribe(function(f){return r.cache[o]=f},function(){}),this.cache[o]=s},t.prototype.post=function(e,i,r){return this.clearCache(),n.prototype.post.call(this,e,i)},t.prototype.put=function(e,i,r){return i===void 0&&(i={}),this.clearCache(),n.prototype.put.call(this,e,i)},t.prototype.delete=function(e,i,r){return i===void 0&&(i={}),this.clearCache(),n.prototype.delete.call(this,e,i)},t.prototype.clearCache=function(){this.cache={}},t.prototype.makeCacheKey=function(e,i){return e+JSON.stringify(i)},t.ngInjectableDef=Ce({factory:function(){return new t(re(Lo),re(mc))},token:t,providedIn:"root"}),t}(function(){function n(t,e){this.httpClient=t,this.errorHandler=e}return n.prototype.get=function(t,e,i){var r=this;e===void 0&&(e={}),i===void 0&&(i={});var o=this.generateHttpParams(e);return this.httpClient.get(this.prefixUri(t),S_({params:o},i)).pipe(co(function(s){return r.errorHandler.handle(s,t)}))},n.prototype.post=function(t,e){var i=this;return e===void 0&&(e=null),this.httpClient.post(this.prefixUri(t),e).pipe(co(function(r){return i.errorHandler.handle(r,t)}))},n.prototype.put=function(t,e){var i=this;return e===void 0&&(e={}),e=this.spoofHttpMethod(e,"PUT"),this.httpClient.post(this.prefixUri(t),e).pipe(co(function(r){return i.errorHandler.handle(r,t)}))},n.prototype.delete=function(t,e){var i=this;return e===void 0&&(e={}),e=this.spoofHttpMethod(e,"DELETE"),this.httpClient.post(this.prefixUri(t),e).pipe(co(function(r){return i.errorHandler.handle(r,t)}))},n.prototype.postWithProgress=function(t,e){var i=this;e===void 0&&(e={});var r=new tu("POST",this.prefixUri(t),e,{reportProgress:!0}),o=Date.now();return this.httpClient.request(r).pipe(co(function(s){return i.errorHandler.handle(s,t)}),Ct(function(s){return function(f,_){switch(f.type){case eo.Sent:return{type:f.type,name:yl.STARTED,time:_};case eo.UploadProgress:return{type:f.type,name:yl.PROGRESS,totalBytes:f.total,completedBytes:f.loaded,progress:MA(f),speed:C_(x_(f,_)),eta:NA(LA(f,_))};case eo.Response:return{type:f.type,name:yl.COMPLETED,fileEntry:f.body.fileEntry};default:return null}}(s,o)}),Hn(function(s){return!!s}))},n.prototype.prefixUri=function(t){return t.indexOf("://")>-1?t:n.prefix+"/"+t},n.prototype.generateHttpParams=function(t){var e=new Mo;return t&&Object.keys(t).forEach(function(i){var r=t[i];r==null&&(r=""),e=e.append(i,r)}),e},n.prototype.spoofHttpMethod=function(t,e){return t instanceof FormData?t.append("_method",e):t._method=e,t},n.prefix="secure",n.ngInjectableDef=Ce({factory:function(){return new n(re(Lo),re(mc))},token:n,providedIn:"root"}),n}()),vc=function(){function n(t,e){this.canvas=t,this.canvasState=e,this.lineStyle={stroke:"rgba(255,255,255,0.3)",strokeWidth:5,strokeLineCap:"round",strokeLineJoin:"round"}}return n.prototype.add=function(t){this.createGroup(),this.addText(t),this.addLines(),this.canvas.fabric().add(this.watermark),this.canvas.render()},n.prototype.remove=function(){this.watermark&&(this.canvas.fabric().remove(this.watermark),this.watermark=null,this.canvas.render())},n.prototype.createGroup=function(){this.watermark=new De.fabric.Group(null,Object.assign({},jo,{width:this.canvasState.original.width,height:this.canvasState.original.height,excludeFromExport:!0,top:0,left:0}))},n.prototype.addText=function(t){var e=new De.fabric.Text(t,{fill:"rgba(255,255,255,0.3)",strokeWidth:2,stroke:"rgba(255,255,255,0.4)",originX:"center",originY:"center",fontWeight:600,fontSize:150,fontFamily:"Courier New"});e.scaleToWidth(this.canvasState.original.width/2),this.watermark.add(e)},n.prototype.addLines=function(){var t=this.watermark.getObjects("text")[0],e=this.canvasState.original.width/2,i=this.canvasState.original.height/2,r=t.width/4,o=new De.fabric.Line(null,this.lineStyle),s=new De.fabric.Line(null,this.lineStyle),f=new De.fabric.Line(null,this.lineStyle),_=new De.fabric.Line(null,this.lineStyle);this.watermark.add(o,s,f,_),o.set({x1:r,y1:-100,x2:e,y2:-i}),s.set({x1:r,y1:100,x2:e,y2:i}),f.set({x1:-r,y1:-100,x2:-e,y2:-i}),_.set({x1:-r,y1:100,x2:-e,y2:i})},n}(),zA=function(n){return n[n.ENTER=13]="ENTER",n[n.SPACE=32]="SPACE",n[n.ESCAPE=27]="ESCAPE",n[n.DELETE=46]="DELETE",n[n.ARROW_UP=38]="ARROW_UP",n[n.ARROW_RIGHT=39]="ARROW_RIGHT",n[n.ARROW_DOWN=40]="ARROW_DOWN",n[n.ARROW_LEFT=37]="ARROW_LEFT",n[n.S=83]="S",n[n.N=78]="N",n[n.A=65]="A",n[n.T=84]="T",n[n.B=66]="B",n[n.C=67]="C",n[n.O=79]="O",n[n.P=80]="P",n[n.R=82]="R",n[n.F=70]="F",n[n.Y=89]="Y",n[n.Z=90]="Z",n}({}),uf=function(){function n(){this.bindings=[]}return n.prototype.add=function(t,e){this.bindings.push({keybind:this.parseKeybindString(t),keybindString:t,callback:e})},n.prototype.addWithPreventDefault=function(t,e){this.bindings.push({keybind:this.parseKeybindString(t),keybindString:t,callback:e,preventDefault:!0})},n.prototype.listenOn=function(t){var e=this;t.addEventListener("keydown",function(i){e.executeBindings(i)})},n.prototype.executeBindings=function(t){var e=this;this.bindings.forEach(function(i){e.bindingMatches(i.keybind,t)&&(i.preventDefault&&t.preventDefault&&t.preventDefault(),i.callback(t))})},n.prototype.bindingMatches=function(t,e){return zA[t.key.toUpperCase()]===e.keyCode&&e.ctrlKey===t.ctrl&&e.shiftKey===t.shift},n.prototype.parseKeybindString=function(t){var e=t.trim().split("+"),i={ctrl:!1,shift:!1,key:""};return e.forEach(function(r){(r=r.trim().toLowerCase())==="ctrl"?i.ctrl=!0:r==="shift"?i.shift=!0:i.key=r}),i},n.ngInjectableDef=Ce({factory:function(){return new n},token:n,providedIn:"root"}),n}(),HA=function(n){function t(e,i){var r=n.call(this,e)||this;return r.i18n=e,r.toast=i,r}return k(t,n),t.prototype.handle403Error=function(e){},t.ngInjectableDef=Ce({factory:function(){return new t(re(te),re(Cr))},token:t,providedIn:"root"}),t}(mc),UA=function(){function n(t,e,i){this.settings=t,this.toast=e,this.i18n=i,this.validations=[]}return n.prototype.validate=function(t){this.validations.length||this.initValidations();var e=this.validations.find(function(i){return i.fails(t)});return e&&this.showToast&&this.openErrorToast(e.errorMessage),{failed:!!e,errorMessage:e?e.errorMessage:null}},n.prototype.validateWithToast=function(t){var e=this.validate(t);return this.openErrorToast(e.errorMessage),e},n.prototype.openErrorToast=function(t){this.toast.open(t)},n}(),k_=function(){function n(){}return n.prototype.passes=function(t){return!this.fails(t)},n}(),WA=function(n){function t(e,i){var r=n.call(this)||this;return r.params=e,r.i18n=i,r.errorMessage=r.i18n.t("Maximum file size is :number",{number:C_(r.params.maxSize)}),r}return k(t,n),t.prototype.fails=function(e){return this.params.maxSize<e.size},t}(k_),XA=function(n){function t(e,i){var r=n.call(this)||this;return r.params=e,r.i18n=i,r.errorMessage=r.i18n.t("Only these file types are allowed: :extensions",{extensions:r.params.extensions.join(", ")}),r}return k(t,n),t.prototype.fails=function(e){return!this.params.extensions.some(function(i){return i.toLowerCase()===e.extension.toLowerCase()})},t}(k_),YA=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.DEFAULT_MAX_FILE_SIZE_MB=10,e.showToast=!0,e}return k(t,n),t.prototype.initValidations=function(){this.validations.push(new WA({maxSize:this.getMaxFileSize()},this.i18n));var e=this.getAllowedExtensions();e&&e.length&&this.validations.push(new XA({extensions:e},this.i18n))},t.prototype.getMaxFileSize=function(){return this.settings.get("pixie.tools.import.maxFileSize",(e=this.DEFAULT_MAX_FILE_SIZE_MB)===null?null:e*Math.pow(1024,2));var e},t.prototype.getAllowedExtensions=function(){return this.settings.get("pixie.tools.import.validExtensions")},t.ngInjectableDef=Ce({factory:function(){return new t(re(Bt),re(Cr),re(te))},token:t,providedIn:"root"}),t}(UA),GA=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return k(t,n),t.prototype._createContainer=function(){var e=document.createElement("div");e.classList.add("editor-overlay-container","pixie-overlay-container"),(document.querySelector("ui-editor")||document.querySelector("ue-root")).shadowRoot.querySelector("image-editor").appendChild(e),this._containerElement=e},t}(Ka),E_=function(){return(E_=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},qA=function(){function n(t){this.dialog=t}return n.prototype.open=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e||(e={}),typeof i=="string"&&(i={panelClass:i}),Array.isArray(i.panelClass)||(i.panelClass=[i.panelClass]),i.panelClass.push("be-modal"),this.dialog.open(t,E_({},i,{data:e}))},n.prototype.show=function(t,e){return e===void 0&&(e={}),this.open(t,e)},n.prototype.anyDialogOpen=function(){return this.dialog.openDialogs.length>0},n.ngInjectableDef=Ce({factory:function(){return new n(re(nc))},token:n,providedIn:"root"}),n}(),O_=function(){return(O_=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},T_=function(){return function(){}}(),I_=function(){return function(){}}(),A_=function(){return function(){}}(),P_=function(){return function(){}}(),D_=function(){return function(){}}(),R_=function(){return function(){}}(),j_=function(){return function(){}}(),F_=function(){return function(){}}(),M_=function(){return function(){}}(),KA=xx(pd,[],function(n){return function(t){for(var e={},i=[],r=!1,o=0;o<t.length;o++){var s=t[o];s.token===Bc&&s.value===!0&&(r=!0),1073741824&s.flags&&i.push(s.token),s.index=o,e[ri(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:i,isRoot:r}}([Tt(512,or,h1,[[8,[CS,IS,tk,NE,UE,qE,iO,cO,yO,RO,VO,FA]],[3,or],qr]),Tt(5120,vh,_w,[[3,vh]]),Tt(4608,Im,Ix,[vh,[2,Tx]]),Tt(4608,dg,dg,[]),Tt(5120,sh,X1,[]),Tt(5120,An,yw,[]),Tt(5120,Pi,bw,[]),Tt(6144,Yc,null,[Rr]),Tt(4608,cv,VS,[[2,LS],[2,gd]]),Tt(5120,nv,function(t,e,i,r,o,s,f,_){return[new oC(t,e,i),new cC(r),new lC(o,s,f,_)]},[jn,xe,ua,jn,jn,cv,lh,[2,yi]]),Tt(4608,np,np,[nv,xe]),Tt(135680,iu,iu,[jn]),Tt(4608,sp,sp,[np,iu]),Tt(5120,B0,Zk,[]),Tt(5120,Rd,Jk,[]),Tt(4608,Bd,Kk,[jn,B0,Rd]),Tt(5120,oa,Qk,[sp,Bd,xe]),Tt(6144,iv,null,[iu]),Tt(4608,ch,ch,[xe]),Tt(4608,wp,wp,[]),Tt(4608,wv,wv,[]),Tt(4608,hi,hi,[ja,xe]),Tt(4608,Ei,Ei,[Bt]),Tt(4608,En,En,[wp,Bt,Ei]),Tt(4608,gn,gn,[Bt,Wi,En]),Tt(4608,gc,gc,[Ei]),Tt(4608,uc,uc,[Ei,gc,Bt,Ge]),Tt(4608,bn,bn,[gc,uc,Ei,En,Bt,Ge]),Tt(4608,yo,yo,[bn,En,Ge]),Tt(4608,_o,_o,[bn]),Tt(4608,ml,ml,[Bt,_o,bn]),Tt(4608,fc,fc,[Bt,_o,bn,ml]),Tt(4608,Bs,Bs,[Bt,bn,ml,_o,fc]),Tt(4608,tc,tc,[Bt]),Tt(4608,ll,ll,[VA,Bt,tc]),Tt(4608,il,il,[bn,En,yo,Bt,tc]),Tt(4608,Fn,Fn,[bn,En,yo,Bs,ll,il,Ge,hi]),Tt(4608,Mr,Mr,[Ge,Fn,hi]),Tt(4608,Ua,Ua,[bn]),Tt(4608,Cr,Cr,[Bt,te,My]),Tt(4608,Za,Za,[Ge,Fn,hi,Ua,Cr]),Tt(4608,po,po,[bn,Ei,Bt]),Tt(4608,Jh,Jh,[]),Tt(6144,Ym,null,[Jh]),Tt(4608,Qh,Qh,[Ym]),Tt(6144,Nm,null,[Qh]),Tt(4608,Lm,Wx,[Nm,In]),Tt(4608,Lo,Lo,[Lm]),Tt(4608,vc,vc,[bn,Ei]),Tt(4608,bo,bo,[bn,po,Fn,Bt,Lo,vc,Cr]),Tt(4608,gl,gl,[En,bn,bo,yo,_o]),Tt(4608,Iu,Iu,[bn,gl,po]),Tt(4608,Au,Au,[Ge,Fn,hi,Iu,po]),Tt(4608,Pu,Pu,[Ge,Fn,hi]),Tt(4608,tl,tl,[Ge,Fn,hi]),Tt(4608,Ja,Ja,[bn,Bt]),Tt(4608,Qa,Qa,[Ge,Ja,Fn,hi]),Tt(4608,el,el,[Ge,Fn,hi]),Tt(4608,Ba,Ba,[Ge,Fn,En,hi]),Tt(4608,ju,ju,[il,Ge,Fn,hi]),Tt(4608,$a,$a,[Ge,Fn,hi]),Tt(4608,nl,nl,[En,bn,Ei,bo]),Tt(4608,Du,Du,[Ge,hi,Fn,nl]),Tt(4608,Ru,Ru,[Ge,hi,Fn]),Tt(4608,pi,pi,[]),Tt(4608,uf,uf,[]),Tt(4608,mc,HA,[te,Cr]),Tt(4608,lf,lf,[Ei,uf,En]),Tt(4608,Jo,Jo,[bn,Ge,hi,Bt]),Tt(4608,hc,hc,[bn]),Tt(4608,pc,pc,[Bt,Ei]),Tt(4608,Ho,Ho,[Fn,bn,Cr,Bt,Bs,po,YA]),Tt(4608,vl,vl,[En,bn]),Tt(4608,hr,hr,[Ge]),Tt(4608,qh,qh,[Jo,Ua,Iu,hc,pc,il,Ja,Bs,nl,bo,Ho,bn,vc,Fn,En,yo,hr,po,gl,vl,ll]),Tt(4608,Nu,Nu,[]),Tt(4608,Ka,GA,[jn]),Tt(4608,On,On,[m2,Ka,or,C2,b2,In,xe,jn,pn,[2,Em]]),Tt(5120,Oy,T2,[On]),Tt(4608,Gm,Ux,[jn,ua,$h]),Tt(4608,eu,eu,[Gm,tp]),Tt(5120,Xm,function(t){return[t]},[eu]),Tt(4608,Wo,Wo,[]),Tt(5120,Oi,PS,[On]),Tt(5120,S0,uk,[On]),Tt(5120,Hu,sk,[[3,Hu]]),Tt(5120,of,HO,[On]),Tt(5120,vb,QE,[On]),Tt(135680,nc,nc,[On,In,[2,Em],[2,JE],vb,[3,nc],Ka]),Tt(4608,ji,ji,[On,Wi,In]),Tt(4608,fl,fl,[ji,Ei,ud,Wi,qA]),Tt(4608,ly,Wk,[oa,Oa]),Tt(1073742336,Fm,Fm,[]),Tt(512,Bt,Bt,[]),Tt(1024,hs,q2,[Bt]),Tt(512,Rr,hC,[jn]),Tt(1024,oh,function(t,e,i,r,o,s){return[(f=t,tv("probe",ev),tv("coreTokens",j({},Qx,(f||[]).reduce(function(J,ct){return J[ct.name]=ct.token,J},{}))),function(){return ev}),(F=e,U=i,function(){var J={base_url:U.baseUrl,version:mm,logging:{sentry_public:U.sentry_public},vebto:{environment:"production",assetsUrl:null}};return U.urls&&U.urls.assets&&(J.vebto.assetsUrl=U.urls.assets),F.setMultiple(O_({},J,{pixie:U}),!0),new Promise(function(ct){return ct()})}),(_=r,S=o,T=s,function(){var J=_.getAssetUrl("icons/merged.svg");return S.addSvgIconSet(T.bypassSecurityTrustResourceUrl(J)),new Promise(function(ct){return ct()})})];var f,_,S,T,F,U},[[2,rw],Bt,Hh,Bt,Se,Rr]),Tt(512,la,la,[[2,oh]]),Tt(131584,Jr,Jr,[xe,lh,In,hs,or,la]),Tt(1073742336,Ig,Ig,[Jr]),Tt(1073742336,cp,cp,[[3,cp]]),Tt(1073742336,Mv,Mv,[]),Tt(1073742336,Nv,Nv,[]),Tt(1073742336,A_,A_,[]),Tt(256,Qv,{developmentMode:!1},[]),Tt(1024,Da,YC,[Qv]),Tt(512,ja,ja,[]),Tt(512,yu,yu,[]),Tt(512,Fa,Fa,[]),Tt(512,vu,vu,[[3,vu],[2,HC]]),Tt(512,Ap,Ap,[hs,ja,yu,vu,Fa,xe]),Tt(512,Ma,Ma,[Fa,Ap,Da]),Tt(512,Pp,Pp,[Ma]),Tt(512,bu,bu,[In,Da,[3,bu],ja,yu,Pp]),Tt(512,Ge,Ge,[xe,Fa,Ma]),Tt(512,La,La,[Ge,Da]),Tt(256,Hv,[gn,Mr,Za,Au,Pu,tl,Qa,el,Ba,ju,$a,Du,Ru,pi],[]),Tt(1073742336,Jv,Jv,[bu,Ma,Ge,La,[2,Hv]]),Tt(1073742336,T_,T_,[]),Tt(1073742336,Lv,Lv,[]),Tt(1073742336,n0,n0,[]),Tt(1073742336,l0,l0,[]),Tt(1073742336,my,my,[]),Tt(1073742336,iy,iy,[]),Tt(1073742336,_y,_y,[]),Tt(1073742336,Ty,Ty,[]),Tt(1073742336,P_,P_,[]),Tt(1073742336,qm,qm,[]),Tt(1073742336,Km,Km,[]),Tt(1073742336,gd,gd,[[2,RS],[2,yi]]),Tt(1073742336,w0,w0,[]),Tt(1073742336,a0,a0,[]),Tt(1073742336,jy,jy,[]),Tt(1073742336,r0,r0,[]),Tt(1073742336,h0,h0,[]),Tt(1073742336,E0,E0,[]),Tt(1073742336,p0,p0,[]),Tt(1073742336,g0,g0,[]),Tt(1073742336,A0,A0,[]),Tt(1073742336,k0,k0,[]),Tt(1073742336,x0,x0,[]),Tt(1073742336,D_,D_,[]),Tt(1073742336,R_,R_,[]),Tt(1073742336,j_,j_,[]),Tt(1073742336,Gb,Gb,[]),Tt(1073742336,r_,r_,[]),Tt(1073742336,F_,F_,[]),Tt(1073742336,Kp,Kp,[]),Tt(1073742336,Yb,Yb,[]),Tt(1073742336,Jb,Jb,[]),Tt(1073742336,f_,f_,[]),Tt(1073742336,M_,M_,[]),Tt(1073742336,Ub,Ub,[]),Tt(1073742336,yb,yb,[]),Tt(1073742336,I_,I_,[]),Tt(1073742336,fb,fb,[]),Tt(1073742336,pd,pd,[In]),Tt(256,Bc,!0,[]),Tt(256,$h,"XSRF-TOKEN",[]),Tt(256,tp,"X-XSRF-TOKEN",[]),Tt(256,ge,"BrowserAnimations",[])])}),ZA=function(){function n(t){this.version=mm,this.initPixie(t)}return n.prototype.openEditorWithImage=function(t,e){var i=this;e===void 0&&(e=!0),this.openFile(t,"png",e).then(function(){return i.open()})},n.prototype.openMainImage=function(t){this.openFile(t,"png",!0)},n.prototype.openFile=function(t,e,i){e===void 0&&(e="png"),i===void 0&&(i=!1);var r,o=this.getTool("import");return r=i?o.openBackgroundImage(t):o.openFile(t,e),this.injector.get(Jr).tick(),r},n.prototype.newFile=function(t,e){return this.getTool("canvas").openNew(t,e)},n.prototype.loadState=function(t){return this.getTool("history").addFromJson(t)},n.prototype.getState=function(){return JSON.stringify(this.getTool("history").getCurrentCanvasState())},n.prototype.open=function(t){var e=this;t&&this.mergeConfig(t),this.get(Ge).dispatch(new bm).pipe(Fu(1)).subscribe(function(){e.getTool("canvas").zoom.fitToScreen(),e.get(ud).open(),e.get(Fn).addInitial()})},n.prototype.close=function(){return this.get(Ge).dispatch(new Ca)},n.prototype.resetEditor=function(t,e){var i=this;return new Promise(function(r,o){i.get(Ho).resetEditor(),t&&i.setConfig(t,e),i.getTool("canvas").initContent().then(function(){i.get(hr).closeCurrentPanel(),i.get(ud).open(),t&&i.get(Fn).addInitial(),r()}).catch(function(s){o(s)})})},n.prototype.resetAndOpenEditor=function(t,e){var i=this;return new Promise(function(r,o){i.resetEditor(t,e).then(function(s){i.open(),r(s)},function(s){i.close(),o(s)})})},n.prototype.setConfig=function(t,e){var i=this.get(Bt);if(typeof t=="string"&&e!==void 0){var r=t.indexOf("vebto.")>-1?t:"pixie."+t;i.set(r,e,!0)}else if(typeof t=="object"){var o={pixie:t};o.pixie.sentry_public&&i.set("logging.sentry_public",o.pixie.sentry_public),i.merge(o,!0)}},n.prototype.getDefaultConfig=function(t){return Zl.pick(t,vm)},n.prototype.http=function(){return this.get(Lo)},n.prototype.getTool=function(t){if(!this.injector)throw'Pixie is not loaded yet. Are you using "onLoad" callback?';return this.get(qh).get(t)},n.prototype.get=function(t){return this.injector.get(t)},n.prototype.initPixie=function(t){var e=this.mergeConfig(t);pC([{provide:Hh,useValue:e}]).bootstrapModuleFactory(KA).then(this.onAngularReady.bind(this)).catch(function(i){return console.log(i)})},n.prototype.mergeConfig=function(t){var e=ym()(vm,t||{},{arrayMerge:function(i,r){return r||i}});return this.replaceDefaultConfigItems(e,t)},n.prototype.replaceDefaultConfigItems=function(t,e){for(var i in t)i==="replaceDefault"&&t[i]?t.items=e?e.items:[]:typeof t[i]=="object"&&this.replaceDefaultConfigItems(t[i],e&&e[i]);return t},n.prototype.onAngularReady=function(t){var e=this;this.appModule=t,this.injector=t.injector,this.get(bn).state.loaded.subscribe(function(){var i=e.get(Bt).get("pixie.onLoad");i&&i()})},n.prototype.destroyEditor=function(){this.appModule.destroy(),this.appModule=null},n}();y("yLV6"),function(){if(Yf)throw new Error("Cannot enable prod mode after platform setup.");Xf=!1}(),window.EditorPixie=ZA}},[[0,0]]]);
